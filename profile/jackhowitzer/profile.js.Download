var _____WB$wombat$assign$function_____ = function(name) {return (self._wb_wombat && self._wb_wombat.local_init && self._wb_wombat.local_init(name)) || self[name]; };
if (!self.__WB_pmw) { self.__WB_pmw = function(obj) { this.__WB_source = obj; return this; } }
{
  let window = _____WB$wombat$assign$function_____("window");
  let self = _____WB$wombat$assign$function_____("self");
  let document = _____WB$wombat$assign$function_____("document");
  let location = _____WB$wombat$assign$function_____("location");
  let top = _____WB$wombat$assign$function_____("top");
  let parent = _____WB$wombat$assign$function_____("parent");
  let frames = _____WB$wombat$assign$function_____("frames");
  let opener = _____WB$wombat$assign$function_____("opener");

/*!

 handlebars v1.3.0

Copyright (C) 2011 by Yehuda Katz

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.

@license
*/

/**
 * @license Handlebars hbs 0.8.0 - Alex Sexton, but Handlebars has it's own licensing junk
 *
 * Available via the MIT or new BSD license.
 * see: http://github.com/jrburke/require-cs for details on the plugin this was based off of
 */

/* ===================================================
 * bootstrap-transition.js v2.1.1
 * http://twitter.github.com/bootstrap/javascript.html#transitions
 * ===================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================== */

/* ==========================================================
 * bootstrap-alert.js v2.1.1
 * http://twitter.github.com/bootstrap/javascript.html#alerts
 * ==========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================== */

/* ============================================================
 * bootstrap-button.js v2.1.1
 * http://twitter.github.com/bootstrap/javascript.html#buttons
 * ============================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ============================================================ */

/* ==========================================================
 * bootstrap-carousel.js v2.1.1
 * http://twitter.github.com/bootstrap/javascript.html#carousel
 * ==========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================== */

/* =============================================================
 * bootstrap-collapse.js v2.1.1
 * http://twitter.github.com/bootstrap/javascript.html#collapse
 * =============================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ============================================================ */

/* ============================================================
 * bootstrap-dropdown.js v2.1.1
 * http://twitter.github.com/bootstrap/javascript.html#dropdowns
 * ============================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ============================================================ */

/* =========================================================
 * bootstrap-modal.js v2.1.1
 * http://twitter.github.com/bootstrap/javascript.html#modals
 * =========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================= */

/* ===========================================================
 * bootstrap-tooltip.js v2.1.1
 * http://twitter.github.com/bootstrap/javascript.html#tooltips
 * Inspired by the original jQuery.tipsy by Jason Frame
 * ===========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================== */

/* ===========================================================
 * bootstrap-popover.js v2.1.1
 * http://twitter.github.com/bootstrap/javascript.html#popovers
 * ===========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =========================================================== */

/* =============================================================
 * bootstrap-scrollspy.js v2.1.1
 * http://twitter.github.com/bootstrap/javascript.html#scrollspy
 * =============================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ============================================================== */

/* ========================================================
 * bootstrap-tab.js v2.1.1
 * http://twitter.github.com/bootstrap/javascript.html#tabs
 * ========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ======================================================== */

/* =============================================================
 * bootstrap-typeahead.js v2.1.1
 * http://twitter.github.com/bootstrap/javascript.html#typeahead
 * =============================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ============================================================ */

/* ==========================================================
 * bootstrap-affix.js v2.1.1
 * http://twitter.github.com/bootstrap/javascript.html#affix
 * ==========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================== */

/*
* jQuery emptyonclick plugin
*
* Created by Andreas Creten (andreas@madewithlove.be) on 2008-06-06.
* Copyright (c) 2008 madewithlove. All rights reserved.
*
* Version: 1.2
*
* Changelog :
* Version 1.2 (17 Jun 2008)
*  - Empty the fields onsubmit when they are not changed
*
* Version 1.1 (11 Jun 2008)
*  - Fixed a bug when working with an empty field (no default value)
*
* Version 1.0 (06 Jun 2008):
*  - Original version
*/

define("Handlebars",[],function(){var t=function(){var t=function(){function t(t){this.string=t}var e;return t.prototype.toString=function(){return""+this.string},e=t}(),e=function(t){function e(t){return o[t]||"&amp;"}function i(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}function n(t){return t instanceof a?""+t:t||0===t?(t=""+t,h.test(t)?t.replace(l,e):t):""}function s(t){return t||0===t?u(t)&&0===t.length?!0:!1:!0}var r={},a=t,o={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},l=/[&<>"'`]/g,h=/[&<>"'`]/;r.extend=i;var c=Object.prototype.toString;r.toString=c;var p=function(t){return"function"==typeof t};p(/x/)&&(p=function(t){return"function"==typeof t&&"[object Function]"===c.call(t)});var p;r.isFunction=p;var u=Array.isArray||function(t){return t&&"object"==typeof t?"[object Array]"===c.call(t):!1};return r.isArray=u,r.escapeExpression=n,r.isEmpty=s,r}(t),i=function(){function t(t,e){var n;e&&e.firstLine&&(n=e.firstLine,t+=" - "+n+":"+e.firstColumn);for(var s=Error.prototype.constructor.call(this,t),r=0;i.length>r;r++)this[i[r]]=s[i[r]];n&&(this.lineNumber=n,this.column=e.firstColumn)}var e,i=["description","fileName","lineNumber","message","name","number","stack"];return t.prototype=Error(),e=t}(),n=function(t,e){function i(t,e){this.helpers=t||{},this.partials=e||{},n(this)}function n(t){t.registerHelper("helperMissing",function(t){if(2===arguments.length)return void 0;throw new o("Missing helper: '"+t+"'")}),t.registerHelper("blockHelperMissing",function(e,i){var n=i.inverse||function(){},s=i.fn;return u(e)&&(e=e.call(this)),e===!0?s(this):e===!1||null==e?n(this):p(e)?e.length>0?t.helpers.each(e,i):n(this):s(e)}),t.registerHelper("each",function(t,e){var i,n=e.fn,s=e.inverse,r=0,a="";if(u(t)&&(t=t.call(this)),e.data&&(i=g(e.data)),t&&"object"==typeof t)if(p(t))for(var o=t.length;o>r;r++)i&&(i.index=r,i.first=0===r,i.last=r===t.length-1),a+=n(t[r],{data:i});else for(var l in t)t.hasOwnProperty(l)&&(i&&(i.key=l,i.index=r,i.first=0===r),a+=n(t[l],{data:i}),r++);return 0===r&&(a=s(this)),a}),t.registerHelper("if",function(t,e){return u(t)&&(t=t.call(this)),!e.hash.includeZero&&!t||a.isEmpty(t)?e.inverse(this):e.fn(this)}),t.registerHelper("unless",function(e,i){return t.helpers["if"].call(this,e,{fn:i.inverse,inverse:i.fn,hash:i.hash})}),t.registerHelper("with",function(t,e){return u(t)&&(t=t.call(this)),a.isEmpty(t)?void 0:e.fn(t)}),t.registerHelper("log",function(e,i){var n=i.data&&null!=i.data.level?parseInt(i.data.level,10):1;t.log(n,e)})}function s(t,e){m.log(t,e)}var r={},a=t,o=e,l="1.3.0";r.VERSION=l;var h=4;r.COMPILER_REVISION=h;var c={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:">= 1.0.0"};r.REVISION_CHANGES=c;var p=a.isArray,u=a.isFunction,d=a.toString,f="[object Object]";r.HandlebarsEnvironment=i,i.prototype={constructor:i,logger:m,log:s,registerHelper:function(t,e,i){if(d.call(t)===f){if(i||e)throw new o("Arg not supported with multiple helpers");a.extend(this.helpers,t)}else i&&(e.not=i),this.helpers[t]=e},registerPartial:function(t,e){d.call(t)===f?a.extend(this.partials,t):this.partials[t]=e}};var m={methodMap:{0:"debug",1:"info",2:"warn",3:"error"},DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,log:function(t,e){if(t>=m.level){var i=m.methodMap[t];"undefined"!=typeof console&&console[i]&&console[i].call(console,e)}}};r.logger=m,r.log=s;var g=function(t){var e={};return a.extend(e,t),e};return r.createFrame=g,r}(e,i),s=function(t,e,i){function n(t){var e=t&&t[0]||1,i=u;if(e!==i){if(i>e){var n=d[i],s=d[e];throw new p("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+n+") or downgrade your runtime to an older version ("+s+").")}throw new p("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+t[1]+").")}}function s(t,e){if(!e)throw new p("No environment passed to template");var i=function(t,i,n,s,r,a){var o=e.VM.invokePartial.apply(this,arguments);if(null!=o)return o;if(e.compile){var l={helpers:s,partials:r,data:a};return r[i]=e.compile(t,{data:void 0!==a},e),r[i](n,l)}throw new p("The partial "+i+" could not be compiled when running in runtime-only mode")},n={escapeExpression:c.escapeExpression,invokePartial:i,programs:[],program:function(t,e,i){var n=this.programs[t];return i?n=a(t,e,i):n||(n=this.programs[t]=a(t,e)),n},merge:function(t,e){var i=t||e;return t&&e&&t!==e&&(i={},c.extend(i,e),c.extend(i,t)),i},programWithDepth:e.VM.programWithDepth,noop:e.VM.noop,compilerInfo:null};return function(i,s){s=s||{};var r,a,o=s.partial?s:e;s.partial||(r=s.helpers,a=s.partials);var l=t.call(n,o,i,r,a,s.data);return s.partial||e.VM.checkRevision(n.compilerInfo),l}}function r(t,e,i){var n=Array.prototype.slice.call(arguments,3),s=function(t,s){return s=s||{},e.apply(this,[t,s.data||i].concat(n))};return s.program=t,s.depth=n.length,s}function a(t,e,i){var n=function(t,n){return n=n||{},e(t,n.data||i)};return n.program=t,n.depth=0,n}function o(t,e,i,n,s,r){var a={partial:!0,helpers:n,partials:s,data:r};if(void 0===t)throw new p("The partial "+e+" could not be found");return t instanceof Function?t(i,a):void 0}function l(){return""}var h={},c=t,p=e,u=i.COMPILER_REVISION,d=i.REVISION_CHANGES;return h.checkRevision=n,h.template=s,h.programWithDepth=r,h.program=a,h.invokePartial=o,h.noop=l,h}(e,i,n),r=function(t,e,i,n,s){var r,a=t,o=e,l=i,h=n,c=s,p=function(){var t=new a.HandlebarsEnvironment;return h.extend(t,a),t.SafeString=o,t.Exception=l,t.Utils=h,t.VM=c,t.template=function(e){return c.template(e,t)},t},u=p();return u.create=p,r=u}(n,t,i,e,s),a=function(t){function e(t){t=t||{},this.firstLine=t.first_line,this.firstColumn=t.first_column,this.lastColumn=t.last_column,this.lastLine=t.last_line}var i,n=t,s={ProgramNode:function(t,i,n,r){var a,o;3===arguments.length?(r=n,n=null):2===arguments.length&&(r=i,i=null),e.call(this,r),this.type="program",this.statements=t,this.strip={},n?(o=n[0],o?(a={first_line:o.firstLine,last_line:o.lastLine,last_column:o.lastColumn,first_column:o.firstColumn},this.inverse=new s.ProgramNode(n,i,a)):this.inverse=new s.ProgramNode(n,i),this.strip.right=i.left):i&&(this.strip.left=i.right)},MustacheNode:function(t,i,n,r,a){if(e.call(this,a),this.type="mustache",this.strip=r,null!=n&&n.charAt){var o=n.charAt(3)||n.charAt(2);this.escaped="{"!==o&&"&"!==o}else this.escaped=!!n;this.sexpr=t instanceof s.SexprNode?t:new s.SexprNode(t,i),this.sexpr.isRoot=!0,this.id=this.sexpr.id,this.params=this.sexpr.params,this.hash=this.sexpr.hash,this.eligibleHelper=this.sexpr.eligibleHelper,this.isHelper=this.sexpr.isHelper},SexprNode:function(t,i,n){e.call(this,n),this.type="sexpr",this.hash=i;var s=this.id=t[0],r=this.params=t.slice(1),a=this.eligibleHelper=s.isSimple;this.isHelper=a&&(r.length||i)},PartialNode:function(t,i,n,s){e.call(this,s),this.type="partial",this.partialName=t,this.context=i,this.strip=n},BlockNode:function(t,i,s,r,a){if(e.call(this,a),t.sexpr.id.original!==r.path.original)throw new n(t.sexpr.id.original+" doesn't match "+r.path.original,this);this.type="block",this.mustache=t,this.program=i,this.inverse=s,this.strip={left:t.strip.left,right:r.strip.right},(i||s).strip.left=t.strip.right,(s||i).strip.right=r.strip.left,s&&!i&&(this.isInverse=!0)},ContentNode:function(t,i){e.call(this,i),this.type="content",this.string=t},HashNode:function(t,i){e.call(this,i),this.type="hash",this.pairs=t},IdNode:function(t,i){e.call(this,i),this.type="ID";for(var s="",r=[],a=0,o=0,l=t.length;l>o;o++){var h=t[o].part;if(s+=(t[o].separator||"")+h,".."===h||"."===h||"this"===h){if(r.length>0)throw new n("Invalid path: "+s,this);".."===h?a++:this.isScoped=!0}else r.push(h)}this.original=s,this.parts=r,this.string=r.join("."),this.depth=a,this.isSimple=1===t.length&&!this.isScoped&&0===a,this.stringModeValue=this.string},PartialNameNode:function(t,i){e.call(this,i),this.type="PARTIAL_NAME",this.name=t.original},DataNode:function(t,i){e.call(this,i),this.type="DATA",this.id=t},StringNode:function(t,i){e.call(this,i),this.type="STRING",this.original=this.string=this.stringModeValue=t},IntegerNode:function(t,i){e.call(this,i),this.type="INTEGER",this.original=this.integer=t,this.stringModeValue=Number(t)},BooleanNode:function(t,i){e.call(this,i),this.type="BOOLEAN",this.bool=t,this.stringModeValue="true"===t},CommentNode:function(t,i){e.call(this,i),this.type="comment",this.comment=t}};return i=s}(i),o=function(){var t,e=function(){function t(t,e){return{left:"~"===t.charAt(2),right:"~"===e.charAt(0)||"~"===e.charAt(1)}}function e(){this.yy={}}var i={trace:function(){},yy:{},symbols_:{error:2,root:3,statements:4,EOF:5,program:6,simpleInverse:7,statement:8,openInverse:9,closeBlock:10,openBlock:11,mustache:12,partial:13,CONTENT:14,COMMENT:15,OPEN_BLOCK:16,sexpr:17,CLOSE:18,OPEN_INVERSE:19,OPEN_ENDBLOCK:20,path:21,OPEN:22,OPEN_UNESCAPED:23,CLOSE_UNESCAPED:24,OPEN_PARTIAL:25,partialName:26,partial_option0:27,sexpr_repetition0:28,sexpr_option0:29,dataName:30,param:31,STRING:32,INTEGER:33,BOOLEAN:34,OPEN_SEXPR:35,CLOSE_SEXPR:36,hash:37,hash_repetition_plus0:38,hashSegment:39,ID:40,EQUALS:41,DATA:42,pathSegments:43,SEP:44,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"CONTENT",15:"COMMENT",16:"OPEN_BLOCK",18:"CLOSE",19:"OPEN_INVERSE",20:"OPEN_ENDBLOCK",22:"OPEN",23:"OPEN_UNESCAPED",24:"CLOSE_UNESCAPED",25:"OPEN_PARTIAL",32:"STRING",33:"INTEGER",34:"BOOLEAN",35:"OPEN_SEXPR",36:"CLOSE_SEXPR",40:"ID",41:"EQUALS",42:"DATA",44:"SEP"},productions_:[0,[3,2],[3,1],[6,2],[6,3],[6,2],[6,1],[6,1],[6,0],[4,1],[4,2],[8,3],[8,3],[8,1],[8,1],[8,1],[8,1],[11,3],[9,3],[10,3],[12,3],[12,3],[13,4],[7,2],[17,3],[17,1],[31,1],[31,1],[31,1],[31,1],[31,1],[31,3],[37,1],[39,3],[26,1],[26,1],[26,1],[30,2],[21,1],[43,3],[43,1],[27,0],[27,1],[28,0],[28,2],[29,0],[29,1],[38,1],[38,2]],performAction:function(e,i,n,s,r,a){var o=a.length-1;switch(r){case 1:return new s.ProgramNode(a[o-1],this._$);case 2:return new s.ProgramNode([],this._$);case 3:this.$=new s.ProgramNode([],a[o-1],a[o],this._$);break;case 4:this.$=new s.ProgramNode(a[o-2],a[o-1],a[o],this._$);break;case 5:this.$=new s.ProgramNode(a[o-1],a[o],[],this._$);break;case 6:this.$=new s.ProgramNode(a[o],this._$);break;case 7:this.$=new s.ProgramNode([],this._$);break;case 8:this.$=new s.ProgramNode([],this._$);break;case 9:this.$=[a[o]];break;case 10:a[o-1].push(a[o]),this.$=a[o-1];break;case 11:this.$=new s.BlockNode(a[o-2],a[o-1].inverse,a[o-1],a[o],this._$);break;case 12:this.$=new s.BlockNode(a[o-2],a[o-1],a[o-1].inverse,a[o],this._$);break;case 13:this.$=a[o];break;case 14:this.$=a[o];break;case 15:this.$=new s.ContentNode(a[o],this._$);break;case 16:this.$=new s.CommentNode(a[o],this._$);break;case 17:this.$=new s.MustacheNode(a[o-1],null,a[o-2],t(a[o-2],a[o]),this._$);break;case 18:this.$=new s.MustacheNode(a[o-1],null,a[o-2],t(a[o-2],a[o]),this._$);break;case 19:this.$={path:a[o-1],strip:t(a[o-2],a[o])};break;case 20:this.$=new s.MustacheNode(a[o-1],null,a[o-2],t(a[o-2],a[o]),this._$);break;case 21:this.$=new s.MustacheNode(a[o-1],null,a[o-2],t(a[o-2],a[o]),this._$);break;case 22:this.$=new s.PartialNode(a[o-2],a[o-1],t(a[o-3],a[o]),this._$);break;case 23:this.$=t(a[o-1],a[o]);break;case 24:this.$=new s.SexprNode([a[o-2]].concat(a[o-1]),a[o],this._$);break;case 25:this.$=new s.SexprNode([a[o]],null,this._$);break;case 26:this.$=a[o];break;case 27:this.$=new s.StringNode(a[o],this._$);break;case 28:this.$=new s.IntegerNode(a[o],this._$);break;case 29:this.$=new s.BooleanNode(a[o],this._$);break;case 30:this.$=a[o];break;case 31:a[o-1].isHelper=!0,this.$=a[o-1];break;case 32:this.$=new s.HashNode(a[o],this._$);break;case 33:this.$=[a[o-2],a[o]];break;case 34:this.$=new s.PartialNameNode(a[o],this._$);break;case 35:this.$=new s.PartialNameNode(new s.StringNode(a[o],this._$),this._$);break;case 36:this.$=new s.PartialNameNode(new s.IntegerNode(a[o],this._$));break;case 37:this.$=new s.DataNode(a[o],this._$);break;case 38:this.$=new s.IdNode(a[o],this._$);break;case 39:a[o-2].push({part:a[o],separator:a[o-1]}),this.$=a[o-2];break;case 40:this.$=[{part:a[o]}];break;case 43:this.$=[];break;case 44:a[o-1].push(a[o]);break;case 47:this.$=[a[o]];break;case 48:a[o-1].push(a[o])}},table:[{3:1,4:2,5:[1,3],8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],22:[1,13],23:[1,14],25:[1,15]},{1:[3]},{5:[1,16],8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],22:[1,13],23:[1,14],25:[1,15]},{1:[2,2]},{5:[2,9],14:[2,9],15:[2,9],16:[2,9],19:[2,9],20:[2,9],22:[2,9],23:[2,9],25:[2,9]},{4:20,6:18,7:19,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,21],20:[2,8],22:[1,13],23:[1,14],25:[1,15]},{4:20,6:22,7:19,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,21],20:[2,8],22:[1,13],23:[1,14],25:[1,15]},{5:[2,13],14:[2,13],15:[2,13],16:[2,13],19:[2,13],20:[2,13],22:[2,13],23:[2,13],25:[2,13]},{5:[2,14],14:[2,14],15:[2,14],16:[2,14],19:[2,14],20:[2,14],22:[2,14],23:[2,14],25:[2,14]},{5:[2,15],14:[2,15],15:[2,15],16:[2,15],19:[2,15],20:[2,15],22:[2,15],23:[2,15],25:[2,15]},{5:[2,16],14:[2,16],15:[2,16],16:[2,16],19:[2,16],20:[2,16],22:[2,16],23:[2,16],25:[2,16]},{17:23,21:24,30:25,40:[1,28],42:[1,27],43:26},{17:29,21:24,30:25,40:[1,28],42:[1,27],43:26},{17:30,21:24,30:25,40:[1,28],42:[1,27],43:26},{17:31,21:24,30:25,40:[1,28],42:[1,27],43:26},{21:33,26:32,32:[1,34],33:[1,35],40:[1,28],43:26},{1:[2,1]},{5:[2,10],14:[2,10],15:[2,10],16:[2,10],19:[2,10],20:[2,10],22:[2,10],23:[2,10],25:[2,10]},{10:36,20:[1,37]},{4:38,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,7],22:[1,13],23:[1,14],25:[1,15]},{7:39,8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,21],20:[2,6],22:[1,13],23:[1,14],25:[1,15]},{17:23,18:[1,40],21:24,30:25,40:[1,28],42:[1,27],43:26},{10:41,20:[1,37]},{18:[1,42]},{18:[2,43],24:[2,43],28:43,32:[2,43],33:[2,43],34:[2,43],35:[2,43],36:[2,43],40:[2,43],42:[2,43]},{18:[2,25],24:[2,25],36:[2,25]},{18:[2,38],24:[2,38],32:[2,38],33:[2,38],34:[2,38],35:[2,38],36:[2,38],40:[2,38],42:[2,38],44:[1,44]},{21:45,40:[1,28],43:26},{18:[2,40],24:[2,40],32:[2,40],33:[2,40],34:[2,40],35:[2,40],36:[2,40],40:[2,40],42:[2,40],44:[2,40]},{18:[1,46]},{18:[1,47]},{24:[1,48]},{18:[2,41],21:50,27:49,40:[1,28],43:26},{18:[2,34],40:[2,34]},{18:[2,35],40:[2,35]},{18:[2,36],40:[2,36]},{5:[2,11],14:[2,11],15:[2,11],16:[2,11],19:[2,11],20:[2,11],22:[2,11],23:[2,11],25:[2,11]},{21:51,40:[1,28],43:26},{8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,3],22:[1,13],23:[1,14],25:[1,15]},{4:52,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,5],22:[1,13],23:[1,14],25:[1,15]},{14:[2,23],15:[2,23],16:[2,23],19:[2,23],20:[2,23],22:[2,23],23:[2,23],25:[2,23]},{5:[2,12],14:[2,12],15:[2,12],16:[2,12],19:[2,12],20:[2,12],22:[2,12],23:[2,12],25:[2,12]},{14:[2,18],15:[2,18],16:[2,18],19:[2,18],20:[2,18],22:[2,18],23:[2,18],25:[2,18]},{18:[2,45],21:56,24:[2,45],29:53,30:60,31:54,32:[1,57],33:[1,58],34:[1,59],35:[1,61],36:[2,45],37:55,38:62,39:63,40:[1,64],42:[1,27],43:26},{40:[1,65]},{18:[2,37],24:[2,37],32:[2,37],33:[2,37],34:[2,37],35:[2,37],36:[2,37],40:[2,37],42:[2,37]},{14:[2,17],15:[2,17],16:[2,17],19:[2,17],20:[2,17],22:[2,17],23:[2,17],25:[2,17]},{5:[2,20],14:[2,20],15:[2,20],16:[2,20],19:[2,20],20:[2,20],22:[2,20],23:[2,20],25:[2,20]},{5:[2,21],14:[2,21],15:[2,21],16:[2,21],19:[2,21],20:[2,21],22:[2,21],23:[2,21],25:[2,21]},{18:[1,66]},{18:[2,42]},{18:[1,67]},{8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,4],22:[1,13],23:[1,14],25:[1,15]},{18:[2,24],24:[2,24],36:[2,24]},{18:[2,44],24:[2,44],32:[2,44],33:[2,44],34:[2,44],35:[2,44],36:[2,44],40:[2,44],42:[2,44]},{18:[2,46],24:[2,46],36:[2,46]},{18:[2,26],24:[2,26],32:[2,26],33:[2,26],34:[2,26],35:[2,26],36:[2,26],40:[2,26],42:[2,26]},{18:[2,27],24:[2,27],32:[2,27],33:[2,27],34:[2,27],35:[2,27],36:[2,27],40:[2,27],42:[2,27]},{18:[2,28],24:[2,28],32:[2,28],33:[2,28],34:[2,28],35:[2,28],36:[2,28],40:[2,28],42:[2,28]},{18:[2,29],24:[2,29],32:[2,29],33:[2,29],34:[2,29],35:[2,29],36:[2,29],40:[2,29],42:[2,29]},{18:[2,30],24:[2,30],32:[2,30],33:[2,30],34:[2,30],35:[2,30],36:[2,30],40:[2,30],42:[2,30]},{17:68,21:24,30:25,40:[1,28],42:[1,27],43:26},{18:[2,32],24:[2,32],36:[2,32],39:69,40:[1,70]},{18:[2,47],24:[2,47],36:[2,47],40:[2,47]},{18:[2,40],24:[2,40],32:[2,40],33:[2,40],34:[2,40],35:[2,40],36:[2,40],40:[2,40],41:[1,71],42:[2,40],44:[2,40]},{18:[2,39],24:[2,39],32:[2,39],33:[2,39],34:[2,39],35:[2,39],36:[2,39],40:[2,39],42:[2,39],44:[2,39]},{5:[2,22],14:[2,22],15:[2,22],16:[2,22],19:[2,22],20:[2,22],22:[2,22],23:[2,22],25:[2,22]},{5:[2,19],14:[2,19],15:[2,19],16:[2,19],19:[2,19],20:[2,19],22:[2,19],23:[2,19],25:[2,19]},{36:[1,72]},{18:[2,48],24:[2,48],36:[2,48],40:[2,48]},{41:[1,71]},{21:56,30:60,31:73,32:[1,57],33:[1,58],34:[1,59],35:[1,61],40:[1,28],42:[1,27],43:26},{18:[2,31],24:[2,31],32:[2,31],33:[2,31],34:[2,31],35:[2,31],36:[2,31],40:[2,31],42:[2,31]},{18:[2,33],24:[2,33],36:[2,33],40:[2,33]}],defaultActions:{3:[2,2],16:[2,1],50:[2,42]},parseError:function(t){throw Error(t)},parse:function(t){function e(){var t;return t=i.lexer.lex()||1,"number"!=typeof t&&(t=i.symbols_[t]||t),t}var i=this,n=[0],s=[null],r=[],a=this.table,o="",l=0,h=0,c=0;this.lexer.setInput(t),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,this.lexer.yylloc===void 0&&(this.lexer.yylloc={});var p=this.lexer.yylloc;r.push(p);var u=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var d,f,m,g,v,y,b,w,x,k={};;){if(m=n[n.length-1],this.defaultActions[m]?g=this.defaultActions[m]:((null===d||d===void 0)&&(d=e()),g=a[m]&&a[m][d]),g===void 0||!g.length||!g[0]){var S="";if(!c){x=[];for(y in a[m])this.terminals_[y]&&y>2&&x.push("'"+this.terminals_[y]+"'");S=this.lexer.showPosition?"Parse error on line "+(l+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+x.join(", ")+", got '"+(this.terminals_[d]||d)+"'":"Parse error on line "+(l+1)+": Unexpected "+(1==d?"end of input":"'"+(this.terminals_[d]||d)+"'"),this.parseError(S,{text:this.lexer.match,token:this.terminals_[d]||d,line:this.lexer.yylineno,loc:p,expected:x})}}if(g[0]instanceof Array&&g.length>1)throw Error("Parse Error: multiple actions possible at state: "+m+", token: "+d);switch(g[0]){case 1:n.push(d),s.push(this.lexer.yytext),r.push(this.lexer.yylloc),n.push(g[1]),d=null,f?(d=f,f=null):(h=this.lexer.yyleng,o=this.lexer.yytext,l=this.lexer.yylineno,p=this.lexer.yylloc,c>0&&c--);break;case 2:if(b=this.productions_[g[1]][1],k.$=s[s.length-b],k._$={first_line:r[r.length-(b||1)].first_line,last_line:r[r.length-1].last_line,first_column:r[r.length-(b||1)].first_column,last_column:r[r.length-1].last_column},u&&(k._$.range=[r[r.length-(b||1)].range[0],r[r.length-1].range[1]]),v=this.performAction.call(k,o,h,l,this.yy,g[1],s,r),v!==void 0)return v;b&&(n=n.slice(0,2*-1*b),s=s.slice(0,-1*b),r=r.slice(0,-1*b)),n.push(this.productions_[g[1]][0]),s.push(k.$),r.push(k._$),w=a[n[n.length-2]][n[n.length-1]],n.push(w);break;case 3:return!0}}return!0}},n=function(){var t={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw Error(t);this.yy.parser.parseError(t,e)},setInput:function(t){return this._input=t,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t;var e=t.match(/(?:\r\n?|\n).*/g);return e?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,i=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e-1),this.offset-=e;var n=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),i.length-1&&(this.yylineno-=i.length-1);var s=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:i?(i.length===n.length?this.yylloc.first_column:0)+n[n.length-i.length].length-i[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[s[0],s[0]+this.yyleng-e]),this},more:function(){return this._more=!0,this},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return 20>t.length&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var t,e,i,n,s;this._more||(this.yytext="",this.match="");for(var r=this._currentRules(),a=0;r.length>a&&(i=this._input.match(this.rules[r[a]]),!i||e&&!(i[0].length>e[0].length)||(e=i,n=a,this.options.flex));a++);return e?(s=e[0].match(/(?:\r\n?|\n).*/g),s&&(this.yylineno+=s.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:s?s[s.length-1].length-s[s.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],t=this.performAction.call(this,this.yy,this,r[n],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),t?t:void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return t!==void 0?t:this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(t){this.begin(t)}};return t.options={},t.performAction=function(t,e,i,n){function s(t,i){return e.yytext=e.yytext.substr(t,e.yyleng-i)}switch(i){case 0:if("\\\\"===e.yytext.slice(-2)?(s(0,1),this.begin("mu")):"\\"===e.yytext.slice(-1)?(s(0,1),this.begin("emu")):this.begin("mu"),e.yytext)return 14;break;case 1:return 14;case 2:return this.popState(),14;case 3:return s(0,4),this.popState(),15;case 4:return 35;case 5:return 36;case 6:return 25;case 7:return 16;case 8:return 20;case 9:return 19;case 10:return 19;case 11:return 23;case 12:return 22;case 13:this.popState(),this.begin("com");break;case 14:return s(3,5),this.popState(),15;case 15:return 22;case 16:return 41;case 17:return 40;case 18:return 40;case 19:return 44;case 20:break;case 21:return this.popState(),24;case 22:return this.popState(),18;case 23:return e.yytext=s(1,2).replace(/\\"/g,'"'),32;case 24:return e.yytext=s(1,2).replace(/\\'/g,"'"),32;case 25:return 42;case 26:return 34;case 27:return 34;case 28:return 33;case 29:return 40;case 30:return e.yytext=s(1,2),40;case 31:return"INVALID";case 32:return 5}},t.rules=[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:[\s\S]*?--\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{!--)/,/^(?:\{\{![\s\S]*?\}\})/,/^(?:\{\{(~)?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:-?[0-9]+(?=([~}\s)])))/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)]))))/,/^(?:\[[^\]]*\])/,/^(?:.)/,/^(?:$)/],t.conditions={mu:{rules:[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[3],inclusive:!1},INITIAL:{rules:[0,1,32],inclusive:!0}},t}();return i.lexer=n,e.prototype=i,i.Parser=e,new e}();return t=e}(),l=function(t,e){function i(t){return t.constructor===r.ProgramNode?t:(s.yy=r,s.parse(t))}var n={},s=t,r=e;return n.parser=s,n.parse=i,n}(o,a),h=function(t){function e(){}function i(t,e,i){if(null==t||"string"!=typeof t&&t.constructor!==i.AST.ProgramNode)throw new r("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+t);e=e||{},"data"in e||(e.data=!0);var n=i.parse(t),s=(new i.Compiler).compile(n,e);return(new i.JavaScriptCompiler).compile(s,e)}function n(t,e,i){function n(){var n=i.parse(t),s=(new i.Compiler).compile(n,e),r=(new i.JavaScriptCompiler).compile(s,e,void 0,!0);return i.template(r)}if(null==t||"string"!=typeof t&&t.constructor!==i.AST.ProgramNode)throw new r("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+t);e=e||{},"data"in e||(e.data=!0);var s;return function(t,e){return s||(s=n()),s.call(this,t,e)}}var s={},r=t;return s.Compiler=e,e.prototype={compiler:e,disassemble:function(){for(var t,e,i,n=this.opcodes,s=[],r=0,a=n.length;a>r;r++)if(t=n[r],"DECLARE"===t.opcode)s.push("DECLARE "+t.name+"="+t.value);else{e=[];for(var o=0;t.args.length>o;o++)i=t.args[o],"string"==typeof i&&(i='"'+i.replace("\n","\\n")+'"'),e.push(i);s.push(t.opcode+" "+e.join(" "))}return s.join("\n")},equals:function(t){var e=this.opcodes.length;if(t.opcodes.length!==e)return!1;for(var i=0;e>i;i++){var n=this.opcodes[i],s=t.opcodes[i];if(n.opcode!==s.opcode||n.args.length!==s.args.length)return!1;for(var r=0;n.args.length>r;r++)if(n.args[r]!==s.args[r])return!1}if(e=this.children.length,t.children.length!==e)return!1;for(i=0;e>i;i++)if(!this.children[i].equals(t.children[i]))return!1;return!0},guid:0,compile:function(t,e){this.opcodes=[],this.children=[],this.depths={list:[]},this.options=e;var i=this.options.knownHelpers;if(this.options.knownHelpers={helperMissing:!0,blockHelperMissing:!0,each:!0,"if":!0,unless:!0,"with":!0,log:!0},i)for(var n in i)this.options.knownHelpers[n]=i[n];return this.accept(t)},accept:function(t){var e,i=t.strip||{};return i.left&&this.opcode("strip"),e=this[t.type](t),i.right&&this.opcode("strip"),e},program:function(t){for(var e=t.statements,i=0,n=e.length;n>i;i++)this.accept(e[i]);return this.isSimple=1===n,this.depths.list=this.depths.list.sort(function(t,e){return t-e}),this},compileProgram:function(t){var e,i=(new this.compiler).compile(t,this.options),n=this.guid++;this.usePartial=this.usePartial||i.usePartial,this.children[n]=i;for(var s=0,r=i.depths.list.length;r>s;s++)e=i.depths.list[s],2>e||this.addDepth(e-1);return n},block:function(t){var e=t.mustache,i=t.program,n=t.inverse;i&&(i=this.compileProgram(i)),n&&(n=this.compileProgram(n));var s=e.sexpr,r=this.classifySexpr(s);"helper"===r?this.helperSexpr(s,i,n):"simple"===r?(this.simpleSexpr(s),this.opcode("pushProgram",i),this.opcode("pushProgram",n),this.opcode("emptyHash"),this.opcode("blockValue")):(this.ambiguousSexpr(s,i,n),this.opcode("pushProgram",i),this.opcode("pushProgram",n),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},hash:function(t){var e,i,n=t.pairs;this.opcode("pushHash");for(var s=0,r=n.length;r>s;s++)e=n[s],i=e[1],this.options.stringParams?(i.depth&&this.addDepth(i.depth),this.opcode("getContext",i.depth||0),this.opcode("pushStringParam",i.stringModeValue,i.type),"sexpr"===i.type&&this.sexpr(i)):this.accept(i),this.opcode("assignToHash",e[0]);this.opcode("popHash")},partial:function(t){var e=t.partialName;this.usePartial=!0,t.context?this.ID(t.context):this.opcode("push","depth0"),this.opcode("invokePartial",e.name),this.opcode("append")},content:function(t){this.opcode("appendContent",t.string)},mustache:function(t){this.sexpr(t.sexpr),t.escaped&&!this.options.noEscape?this.opcode("appendEscaped"):this.opcode("append")},ambiguousSexpr:function(t,e,i){var n=t.id,s=n.parts[0],r=null!=e||null!=i;this.opcode("getContext",n.depth),this.opcode("pushProgram",e),this.opcode("pushProgram",i),this.opcode("invokeAmbiguous",s,r)},simpleSexpr:function(t){var e=t.id;"DATA"===e.type?this.DATA(e):e.parts.length?this.ID(e):(this.addDepth(e.depth),this.opcode("getContext",e.depth),this.opcode("pushContext")),this.opcode("resolvePossibleLambda")},helperSexpr:function(t,e,i){var n=this.setupFullMustacheParams(t,e,i),s=t.id.parts[0];if(this.options.knownHelpers[s])this.opcode("invokeKnownHelper",n.length,s);else{if(this.options.knownHelpersOnly)throw new r("You specified knownHelpersOnly, but used the unknown helper "+s,t);this.opcode("invokeHelper",n.length,s,t.isRoot)}},sexpr:function(t){var e=this.classifySexpr(t);"simple"===e?this.simpleSexpr(t):"helper"===e?this.helperSexpr(t):this.ambiguousSexpr(t)},ID:function(t){this.addDepth(t.depth),this.opcode("getContext",t.depth);var e=t.parts[0];e?this.opcode("lookupOnContext",t.parts[0]):this.opcode("pushContext");for(var i=1,n=t.parts.length;n>i;i++)this.opcode("lookup",t.parts[i])},DATA:function(t){if(this.options.data=!0,t.id.isScoped||t.id.depth)throw new r("Scoped data references are not supported: "+t.original,t);this.opcode("lookupData");for(var e=t.id.parts,i=0,n=e.length;n>i;i++)this.opcode("lookup",e[i])},STRING:function(t){this.opcode("pushString",t.string)},INTEGER:function(t){this.opcode("pushLiteral",t.integer)},BOOLEAN:function(t){this.opcode("pushLiteral",t.bool)},comment:function(){},opcode:function(t){this.opcodes.push({opcode:t,args:[].slice.call(arguments,1)})},declare:function(t,e){this.opcodes.push({opcode:"DECLARE",name:t,value:e})},addDepth:function(t){0!==t&&(this.depths[t]||(this.depths[t]=!0,this.depths.list.push(t)))},classifySexpr:function(t){var e=t.isHelper,i=t.eligibleHelper,n=this.options;if(i&&!e){var s=t.id.parts[0];n.knownHelpers[s]?e=!0:n.knownHelpersOnly&&(i=!1)}return e?"helper":i?"ambiguous":"simple"},pushParams:function(t){for(var e,i=t.length;i--;)e=t[i],this.options.stringParams?(e.depth&&this.addDepth(e.depth),this.opcode("getContext",e.depth||0),this.opcode("pushStringParam",e.stringModeValue,e.type),"sexpr"===e.type&&this.sexpr(e)):this[e.type](e)},setupFullMustacheParams:function(t,e,i){var n=t.params;return this.pushParams(n),this.opcode("pushProgram",e),this.opcode("pushProgram",i),t.hash?this.hash(t.hash):this.opcode("emptyHash"),n}},s.precompile=i,s.compile=n,s}(i),c=function(t,e){function i(t){this.value=t}function n(){}var s,r=t.COMPILER_REVISION,a=t.REVISION_CHANGES,o=t.log,l=e;n.prototype={nameLookup:function(t,e){var i,s;return 0===t.indexOf("depth")&&(i=!0),s=/^[0-9]+$/.test(e)?t+"["+e+"]":n.isValidJavaScriptVariableName(e)?t+"."+e:t+"['"+e+"']",i?"("+t+" && "+s+")":s},compilerInfo:function(){var t=r,e=a[t];return"this.compilerInfo = ["+t+",'"+e+"'];\n"},appendToBuffer:function(t){return this.environment.isSimple?"return "+t+";":{appendToBuffer:!0,content:t,toString:function(){return"buffer += "+t+";"}}},initializeBuffer:function(){return this.quotedString("")},namespace:"Handlebars",compile:function(t,e,i,n){this.environment=t,this.options=e||{},o("debug",this.environment.disassemble()+"\n\n"),this.name=this.environment.name,this.isChild=!!i,this.context=i||{programs:[],environments:[],aliases:{}},this.preamble(),this.stackSlot=0,this.stackVars=[],this.registers={list:[]},this.hashes=[],this.compileStack=[],this.inlineStack=[],this.compileChildren(t,e);var s,r=t.opcodes;this.i=0;for(var a=r.length;a>this.i;this.i++)s=r[this.i],"DECLARE"===s.opcode?this[s.name]=s.value:this[s.opcode].apply(this,s.args),s.opcode!==this.stripNext&&(this.stripNext=!1);
if(this.pushSource(""),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new l("Compile completed with content left on stack");return this.createFunctionContext(n)},preamble:function(){var t=[];if(this.isChild)t.push("");else{var e=this.namespace,i="helpers = this.merge(helpers, "+e+".helpers);";this.environment.usePartial&&(i=i+" partials = this.merge(partials, "+e+".partials);"),this.options.data&&(i+=" data = data || {};"),t.push(i)}this.environment.isSimple?t.push(""):t.push(", buffer = "+this.initializeBuffer()),this.lastContext=0,this.source=t},createFunctionContext:function(t){var e=this.stackVars.concat(this.registers.list);if(e.length>0&&(this.source[1]=this.source[1]+", "+e.join(", ")),!this.isChild)for(var i in this.context.aliases)this.context.aliases.hasOwnProperty(i)&&(this.source[1]=this.source[1]+", "+i+"="+this.context.aliases[i]);this.source[1]&&(this.source[1]="var "+this.source[1].substring(2)+";"),this.isChild||(this.source[1]+="\n"+this.context.programs.join("\n")+"\n"),this.environment.isSimple||this.pushSource("return buffer;");for(var n=this.isChild?["depth0","data"]:["Handlebars","depth0","helpers","partials","data"],s=0,r=this.environment.depths.list.length;r>s;s++)n.push("depth"+this.environment.depths.list[s]);var a=this.mergeSource();if(this.isChild||(a=this.compilerInfo()+a),t)return n.push(a),Function.apply(this,n);var l="function "+(this.name||"")+"("+n.join(",")+") {\n  "+a+"}";return o("debug",l+"\n\n"),l},mergeSource:function(){for(var t,e="",i=0,n=this.source.length;n>i;i++){var s=this.source[i];s.appendToBuffer?t=t?t+"\n    + "+s.content:s.content:(t&&(e+="buffer += "+t+";\n  ",t=void 0),e+=s+"\n  ")}return e},blockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var t=["depth0"];this.setupParams(0,t),this.replaceStack(function(e){return t.splice(1,0,e),"blockHelperMissing.call("+t.join(", ")+")"})},ambiguousBlockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var t=["depth0"];this.setupParams(0,t);var e=this.topStack();t.splice(1,0,e),this.pushSource("if (!"+this.lastHelper+") { "+e+" = blockHelperMissing.call("+t.join(", ")+"); }")},appendContent:function(t){this.pendingContent&&(t=this.pendingContent+t),this.stripNext&&(t=t.replace(/^\s+/,"")),this.pendingContent=t},strip:function(){this.pendingContent&&(this.pendingContent=this.pendingContent.replace(/\s+$/,"")),this.stripNext="strip"},append:function(){this.flushInline();var t=this.popStack();this.pushSource("if("+t+" || "+t+" === 0) { "+this.appendToBuffer(t)+" }"),this.environment.isSimple&&this.pushSource("else { "+this.appendToBuffer("''")+" }")},appendEscaped:function(){this.context.aliases.escapeExpression="this.escapeExpression",this.pushSource(this.appendToBuffer("escapeExpression("+this.popStack()+")"))},getContext:function(t){this.lastContext!==t&&(this.lastContext=t)},lookupOnContext:function(t){this.push(this.nameLookup("depth"+this.lastContext,t,"context"))},pushContext:function(){this.pushStackLiteral("depth"+this.lastContext)},resolvePossibleLambda:function(){this.context.aliases.functionType='"function"',this.replaceStack(function(t){return"typeof "+t+" === functionType ? "+t+".apply(depth0) : "+t})},lookup:function(t){this.replaceStack(function(e){return e+" == null || "+e+" === false ? "+e+" : "+this.nameLookup(e,t,"context")})},lookupData:function(){this.pushStackLiteral("data")},pushStringParam:function(t,e){this.pushStackLiteral("depth"+this.lastContext),this.pushString(e),"sexpr"!==e&&("string"==typeof t?this.pushString(t):this.pushStackLiteral(t))},emptyHash:function(){this.pushStackLiteral("{}"),this.options.stringParams&&(this.push("{}"),this.push("{}"))},pushHash:function(){this.hash&&this.hashes.push(this.hash),this.hash={values:[],types:[],contexts:[]}},popHash:function(){var t=this.hash;this.hash=this.hashes.pop(),this.options.stringParams&&(this.push("{"+t.contexts.join(",")+"}"),this.push("{"+t.types.join(",")+"}")),this.push("{\n    "+t.values.join(",\n    ")+"\n  }")},pushString:function(t){this.pushStackLiteral(this.quotedString(t))},push:function(t){return this.inlineStack.push(t),t},pushLiteral:function(t){this.pushStackLiteral(t)},pushProgram:function(t){null!=t?this.pushStackLiteral(this.programExpression(t)):this.pushStackLiteral(null)},invokeHelper:function(t,e,i){this.context.aliases.helperMissing="helpers.helperMissing",this.useRegister("helper");var n=this.lastHelper=this.setupHelper(t,e,!0),s=this.nameLookup("depth"+this.lastContext,e,"context"),r="helper = "+n.name+" || "+s;n.paramsInit&&(r+=","+n.paramsInit),this.push("("+r+",helper "+"? helper.call("+n.callParams+") "+": helperMissing.call("+n.helperMissingParams+"))"),i||this.flushInline()},invokeKnownHelper:function(t,e){var i=this.setupHelper(t,e);this.push(i.name+".call("+i.callParams+")")},invokeAmbiguous:function(t,e){this.context.aliases.functionType='"function"',this.useRegister("helper"),this.emptyHash();var i=this.setupHelper(0,t,e),n=this.lastHelper=this.nameLookup("helpers",t,"helper"),s=this.nameLookup("depth"+this.lastContext,t,"context"),r=this.nextStack();i.paramsInit&&this.pushSource(i.paramsInit),this.pushSource("if (helper = "+n+") { "+r+" = helper.call("+i.callParams+"); }"),this.pushSource("else { helper = "+s+"; "+r+" = typeof helper === functionType ? helper.call("+i.callParams+") : helper; }")},invokePartial:function(t){var e=[this.nameLookup("partials",t,"partial"),"'"+t+"'",this.popStack(),"helpers","partials"];this.options.data&&e.push("data"),this.context.aliases.self="this",this.push("self.invokePartial("+e.join(", ")+")")},assignToHash:function(t){var e,i,n=this.popStack();this.options.stringParams&&(i=this.popStack(),e=this.popStack());var s=this.hash;e&&s.contexts.push("'"+t+"': "+e),i&&s.types.push("'"+t+"': "+i),s.values.push("'"+t+"': ("+n+")")},compiler:n,compileChildren:function(t,e){for(var i,n,s=t.children,r=0,a=s.length;a>r;r++){i=s[r],n=new this.compiler;var o=this.matchExistingProgram(i);null==o?(this.context.programs.push(""),o=this.context.programs.length,i.index=o,i.name="program"+o,this.context.programs[o]=n.compile(i,e,this.context),this.context.environments[o]=i):(i.index=o,i.name="program"+o)}},matchExistingProgram:function(t){for(var e=0,i=this.context.environments.length;i>e;e++){var n=this.context.environments[e];if(n&&n.equals(t))return e}},programExpression:function(t){if(this.context.aliases.self="this",null==t)return"self.noop";for(var e,i=this.environment.children[t],n=i.depths.list,s=[i.index,i.name,"data"],r=0,a=n.length;a>r;r++)e=n[r],1===e?s.push("depth0"):s.push("depth"+(e-1));return(0===n.length?"self.program(":"self.programWithDepth(")+s.join(", ")+")"},register:function(t,e){this.useRegister(t),this.pushSource(t+" = "+e+";")},useRegister:function(t){this.registers[t]||(this.registers[t]=!0,this.registers.list.push(t))},pushStackLiteral:function(t){return this.push(new i(t))},pushSource:function(t){this.pendingContent&&(this.source.push(this.appendToBuffer(this.quotedString(this.pendingContent))),this.pendingContent=void 0),t&&this.source.push(t)},pushStack:function(t){this.flushInline();var e=this.incrStack();return t&&this.pushSource(e+" = "+t+";"),this.compileStack.push(e),e},replaceStack:function(t){var e,n,s,r="",a=this.isInline();if(a){var o=this.popStack(!0);if(o instanceof i)e=o.value,s=!0;else{n=!this.stackSlot;var l=n?this.incrStack():this.topStackName();r="("+this.push(l)+" = "+o+"),",e=this.topStack()}}else e=this.topStack();var h=t.call(this,e);return a?(s||this.popStack(),n&&this.stackSlot--,this.push("("+r+h+")")):(/^stack/.test(e)||(e=this.nextStack()),this.pushSource(e+" = ("+r+h+");")),e},nextStack:function(){return this.pushStack()},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var t=this.inlineStack;if(t.length){this.inlineStack=[];for(var e=0,n=t.length;n>e;e++){var s=t[e];s instanceof i?this.compileStack.push(s):this.pushStack(s)}}},isInline:function(){return this.inlineStack.length},popStack:function(t){var e=this.isInline(),n=(e?this.inlineStack:this.compileStack).pop();if(!t&&n instanceof i)return n.value;if(!e){if(!this.stackSlot)throw new l("Invalid stack pop");this.stackSlot--}return n},topStack:function(t){var e=this.isInline()?this.inlineStack:this.compileStack,n=e[e.length-1];return!t&&n instanceof i?n.value:n},quotedString:function(t){return'"'+t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},setupHelper:function(t,e,i){var n=[],s=this.setupParams(t,n,i),r=this.nameLookup("helpers",e,"helper");return{params:n,paramsInit:s,name:r,callParams:["depth0"].concat(n).join(", "),helperMissingParams:i&&["depth0",this.quotedString(e)].concat(n).join(", ")}},setupOptions:function(t,e){var i,n,s,r=[],a=[],o=[];r.push("hash:"+this.popStack()),this.options.stringParams&&(r.push("hashTypes:"+this.popStack()),r.push("hashContexts:"+this.popStack())),n=this.popStack(),s=this.popStack(),(s||n)&&(s||(this.context.aliases.self="this",s="self.noop"),n||(this.context.aliases.self="this",n="self.noop"),r.push("inverse:"+n),r.push("fn:"+s));for(var l=0;t>l;l++)i=this.popStack(),e.push(i),this.options.stringParams&&(o.push(this.popStack()),a.push(this.popStack()));return this.options.stringParams&&(r.push("contexts:["+a.join(",")+"]"),r.push("types:["+o.join(",")+"]")),this.options.data&&r.push("data:data"),r},setupParams:function(t,e,i){var n="{"+this.setupOptions(t,e).join(",")+"}";return i?(this.useRegister("options"),e.push("options"),"options="+n):(e.push(n),"")}};for(var h="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield".split(" "),c=n.RESERVED_WORDS={},p=0,u=h.length;u>p;p++)c[h[p]]=!0;return n.isValidJavaScriptVariableName=function(t){return!n.RESERVED_WORDS[t]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(t)?!0:!1},s=n}(n,i),p=function(t,e,i,n,s){var r,a=t,o=e,l=i.parser,h=i.parse,c=n.Compiler,p=n.compile,u=n.precompile,d=s,f=a.create,m=function(){var t=f();return t.compile=function(e,i){return p(e,i,t)},t.precompile=function(e,i){return u(e,i,t)},t.AST=o,t.Compiler=c,t.JavaScriptCompiler=d,t.Parser=l,t.parse=h,t};return a=m(),a.create=m,r=a}(r,a,l,h,c);return p}();return t}),define("jquery.spinner",["jquery"],function(t){function e(t){log&&0==(new Date).getTime()%10&&log("redraw: this should only be happening when the spinner is visible");var e,i=t.data("spinner");i&&(i.options.frame>=i.options.frames&&(i.options.frame=1),e="-"+i.options.frame*i.options.width+"px 0px",t.css("background-position",e),i.options.frame++)}var i={init:function(i){return this.each(function(){var n,s=t(this),r=s.data("spinner"),a={speed:25,width:32,height:32};i=t.extend({},a,i),r||(s.data("spinner",{options:i}),r=s.data("spinner")),s.height(r.options.height),s.width(r.options.width),r.options.image?(s.css("background-image","url("+r.options.image+")"),s.css("background-position","0px 0px"),s.css("background-repeat","no-repeat")):r.options.image=s.css("background-image"),r.options.frames||(n=new Image,n.src=r.options.image,n.onload=function(){r.options.frames=n.width/r.options.width}),r.options.frame=1,r.options.animation=setInterval(function(){e(s)},r.options.speed)})},stop:function(){return this.each(function(){var e=t(this),i=e.data("spinner");i&&(clearInterval(i.options.animation),e.removeData("spinner"))})}};t.fn.spinner=function(e){return i[e]?i[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?(t.error("Method "+e+" does not exist on jQuery.spinner"),null):i.init.apply(this,arguments)}}),define("utils/backbone-utils",["jquery","Handlebars","jquery.spinner"],function(t,e){String.prototype.format=function(){var t=arguments;return this.replace(/{(\d+)}/g,function(e,i){return t[i]!==void 0?t[i]:e})};var i=window.siteMaster||{},n=i.avatarBase||"/images/avatars/",s=i.emblemBase||"",r={avatarDefault:i.avatarDefault,avatar:n,avatarCloudBase:i.avatarCloudBase,emblemDefault:i.emblemDefault||"",emblem:s.format("{0}","64"),emblem32:s.format("{0}","32"),emblem50:s.format("{0}","64"),emblem64:s.format("{0}","64"),emblem90:s.format("{0}","128"),emblem100:s.format("{0}","128"),emblem128:s.format("{0}","128"),regexGameText:/^[\x20-\x24\x26-\x29\x2B-\x5D\x5F\x61-\x7A]+$/,regexAlphaNumericSpaceDash:/^[A-z0-9\-\s]+$/,cdnBase:i.cdnBase||""};return r.renderTemplate=function(i,n,s){var r,a;return n.aft&&"AFT"===n.aft&&(n.aft=window.SCSettings.aft),s[i]?s[i](n):(a=t("#"+i).html())?(r=e.compile(a),r(n)):(log("Error: Template missing",i),null)},r.urlError=function(){throw Error('A "url" property or function must be specified')},r.getUrl=function(t){return t&&t.url?_.isFunction(t.url)?t.url():t.url:null},r.error=function(t){log("AJAX call failed "+t)},r.complete=function(){hideSpinner()},r.isEnterPressed=function(t){return 13===t.which?(t.preventDefault(),!0):!1},r.setupModal=function(e){setTimeout(function(){var i=t(e);i.on("click","span.btn",function(t){t.preventDefault(),i.modal("hide")}),i.modal({backdrop:"static",show:!0})},0)},r.spinner=function(e,i,n,s){var a=t(e);a&&a.spinner&&("stop"===i?a.spinner("stop"):(n=n||32,s=s||"black",a.spinner("stop").spinner({height:n,width:n,speed:80,image:r.cdnBase+"/ext/li/img/spinners/"+s+n+"x"+n+".png",frames:12}),a.filter(":hidden").fadeIn()))},r.elemVisibleInContainer=function(e,i){var n=t(i),s=t(e),r=null===n.offset()?n.scrollTop():n.offset().top,a=r+n.height(),o=null===s.offset()?s.scrollTop():s.offset().top,l=o+s.height();return o&&a>=l&&o>=r},r.createCORSRequest=function(t,e){var i=new XMLHttpRequest;return"withCredentials"in i?i.open(t,e,!0):"undefined"!=typeof XDomainRequest?(i=new XDomainRequest,i.open(t,e)):i=null,i},r.readCookie=function(t){for(var e=t+"=",i=document.cookie.split(";"),n=0;i.length>n;n++){for(var s=i[n];" "==s.charAt(0);)s=s.substring(1,s.length);if(0==s.indexOf(e))return s.substring(e.length,s.length)}return null},r.createCookie=function(t,e,i){var n="";if(i){var s=new Date;s.setTime(s.getTime()+1e3*60*60*i),n="; expires="+s.toGMTString()}document.cookie=t+"="+e+n+"; path=/"},r}),define("views/base-views",["jquery","backbone","Handlebars","underscore","utils/backbone-utils"],function(t,e){e.View.prototype.close=function(){this.remove(),this.off(),this.onClose&&this.onClose()};var i={};return i.ModalDialog=e.View.extend({closeModal:function(){this.$el.modal("hide")},cancelClick:function(t){t.preventDefault(),this.closeModal()}}),i}),function(t){"function"==typeof define&&define.amd?define("utils/jquery.antiforgerytokenAMD",["jquery"],t):t(jQuery)}(function(t){t.getAntiForgeryToken=function(t,e){t=t&&typeof t==typeof window?t:window,e=e&&"string"==typeof e?"_"+(""+e):"";for(var i="__RequestVerificationToken"+e,n=t.document.getElementsByTagName("input"),s=0;n.length>s;s++){var r=n[s];if("hidden"===r.type&&r.name===i)return{name:i,value:r.value}}},t.appendAntiForgeryToken=function(e,i){return e.data&&"string"!=typeof e.data&&(e.data=t.param(e.data)),i=i?i:t.getAntiForgeryToken(),e.data=e.data?e.data+"&":"",i&&(e.data=e.data+encodeURIComponent(i.name)+"="+encodeURIComponent(i.value),e.headers=e.headers||{},e.headers.RequestVerificationToken=i.value),e},t.postAntiForgery=function(e,i,n,s){var r={url:e,data:i,success:n,dataType:s,type:"POST"};t.ajaxAntiForgery(r)},t.ajaxAntiForgery=function(e){var i=e.token?e.token:t.getAntiForgeryToken(e.tokenWindow,e.appPath);return e=t.appendAntiForgeryToken(e,i),t.ajax(e)}}),define("models/base-models",["jquery","backbone","utils/jquery.antiforgerytokenAMD"],function(t,e){var i={};return i.AntiForgeryToken=e.Model.extend({save:function(i,n,s){var r=t.getAntiForgeryToken(),a={};a[r.name]=r.value,this.set(a,{silent:!0}),e.Model.prototype.save.call(this,i,n,s)}}),i.FormBaseModel=e.Model.extend({validation:{},save:function(i,n){var s=t.getAntiForgeryToken(),r={};r[s.name]=s.value,i[s.name]=s.value,this.set(r),"undefined"!=n.partialUpdate&&n.partialUpdate&&(n.updateAttrs=i),e.Model.prototype.save.call(this,i,n)}}),i.BaseCollection=e.Collection.extend({fetch:function(t){return t=t||{},t.cache=!1,e.Collection.prototype.fetch.call(this,t)}}),i.StatusMessage=e.Model.extend({defaults:{Message:"",MessageType:"",Priority:"",MessageSource:""}}),i.StatusMessageCollection=i.BaseCollection.extend({model:i.StatusMessage}),i}),define("models/profile-models",["jquery","underscore","backbone","utils/backbone-utils","models/base-models"],function(t,e,i,n,s){var r={};return r.PostLiker=i.Model.extend(),r.PostLikersCollection=s.BaseCollection.extend({model:r.PostLiker,url:"/home/GetPostLikers",sync:function(t,e,n){return n.timeout=6e4,i.sync(t,e,n)},parse:function(t){return t?(this.hasMore=t.HasMore,this.nextPageIndex=t.NextPageIndex,this.contentId=t.ContentId,t.Likers):null}}),r}),define("handlebars",[],function(){var t=function(){var t=function(){function t(t){this.string=t}var e;return t.prototype.toString=function(){return""+this.string},e=t}(),e=function(t){function e(t){return o[t]||"&amp;"}function i(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}function n(t){return t instanceof a?""+t:t||0===t?(t=""+t,h.test(t)?t.replace(l,e):t):""}function s(t){return t||0===t?u(t)&&0===t.length?!0:!1:!0}var r={},a=t,o={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},l=/[&<>"'`]/g,h=/[&<>"'`]/;r.extend=i;var c=Object.prototype.toString;r.toString=c;var p=function(t){return"function"==typeof t};p(/x/)&&(p=function(t){return"function"==typeof t&&"[object Function]"===c.call(t)});var p;r.isFunction=p;var u=Array.isArray||function(t){return t&&"object"==typeof t?"[object Array]"===c.call(t):!1};return r.isArray=u,r.escapeExpression=n,r.isEmpty=s,r}(t),i=function(){function t(t,e){var n;e&&e.firstLine&&(n=e.firstLine,t+=" - "+n+":"+e.firstColumn);for(var s=Error.prototype.constructor.call(this,t),r=0;i.length>r;r++)this[i[r]]=s[i[r]];n&&(this.lineNumber=n,this.column=e.firstColumn)}var e,i=["description","fileName","lineNumber","message","name","number","stack"];return t.prototype=Error(),e=t}(),n=function(t,e){function i(t,e){this.helpers=t||{},this.partials=e||{},n(this)}function n(t){t.registerHelper("helperMissing",function(t){if(2===arguments.length)return void 0;throw new o("Missing helper: '"+t+"'")}),t.registerHelper("blockHelperMissing",function(e,i){var n=i.inverse||function(){},s=i.fn;return u(e)&&(e=e.call(this)),e===!0?s(this):e===!1||null==e?n(this):p(e)?e.length>0?t.helpers.each(e,i):n(this):s(e)}),t.registerHelper("each",function(t,e){var i,n=e.fn,s=e.inverse,r=0,a="";if(u(t)&&(t=t.call(this)),e.data&&(i=g(e.data)),t&&"object"==typeof t)if(p(t))for(var o=t.length;o>r;r++)i&&(i.index=r,i.first=0===r,i.last=r===t.length-1),a+=n(t[r],{data:i});else for(var l in t)t.hasOwnProperty(l)&&(i&&(i.key=l,i.index=r,i.first=0===r),a+=n(t[l],{data:i}),r++);return 0===r&&(a=s(this)),a}),t.registerHelper("if",function(t,e){return u(t)&&(t=t.call(this)),!e.hash.includeZero&&!t||a.isEmpty(t)?e.inverse(this):e.fn(this)}),t.registerHelper("unless",function(e,i){return t.helpers["if"].call(this,e,{fn:i.inverse,inverse:i.fn,hash:i.hash})}),t.registerHelper("with",function(t,e){return u(t)&&(t=t.call(this)),a.isEmpty(t)?void 0:e.fn(t)}),t.registerHelper("log",function(e,i){var n=i.data&&null!=i.data.level?parseInt(i.data.level,10):1;t.log(n,e)})}function s(t,e){m.log(t,e)}var r={},a=t,o=e,l="1.3.0";r.VERSION=l;var h=4;r.COMPILER_REVISION=h;var c={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:">= 1.0.0"};r.REVISION_CHANGES=c;var p=a.isArray,u=a.isFunction,d=a.toString,f="[object Object]";r.HandlebarsEnvironment=i,i.prototype={constructor:i,logger:m,log:s,registerHelper:function(t,e,i){if(d.call(t)===f){if(i||e)throw new o("Arg not supported with multiple helpers");a.extend(this.helpers,t)}else i&&(e.not=i),this.helpers[t]=e},registerPartial:function(t,e){d.call(t)===f?a.extend(this.partials,t):this.partials[t]=e}};var m={methodMap:{0:"debug",1:"info",2:"warn",3:"error"},DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,log:function(t,e){if(t>=m.level){var i=m.methodMap[t];"undefined"!=typeof console&&console[i]&&console[i].call(console,e)}}};r.logger=m,r.log=s;var g=function(t){var e={};return a.extend(e,t),e};return r.createFrame=g,r}(e,i),s=function(t,e,i){function n(t){var e=t&&t[0]||1,i=u;if(e!==i){if(i>e){var n=d[i],s=d[e];throw new p("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+n+") or downgrade your runtime to an older version ("+s+").")}throw new p("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+t[1]+").")}}function s(t,e){if(!e)throw new p("No environment passed to template");var i=function(t,i,n,s,r,a){var o=e.VM.invokePartial.apply(this,arguments);if(null!=o)return o;if(e.compile){var l={helpers:s,partials:r,data:a};return r[i]=e.compile(t,{data:void 0!==a},e),r[i](n,l)}throw new p("The partial "+i+" could not be compiled when running in runtime-only mode")},n={escapeExpression:c.escapeExpression,invokePartial:i,programs:[],program:function(t,e,i){var n=this.programs[t];return i?n=a(t,e,i):n||(n=this.programs[t]=a(t,e)),n},merge:function(t,e){var i=t||e;return t&&e&&t!==e&&(i={},c.extend(i,e),c.extend(i,t)),i},programWithDepth:e.VM.programWithDepth,noop:e.VM.noop,compilerInfo:null};return function(i,s){s=s||{};var r,a,o=s.partial?s:e;s.partial||(r=s.helpers,a=s.partials);var l=t.call(n,o,i,r,a,s.data);return s.partial||e.VM.checkRevision(n.compilerInfo),l}}function r(t,e,i){var n=Array.prototype.slice.call(arguments,3),s=function(t,s){return s=s||{},e.apply(this,[t,s.data||i].concat(n))};return s.program=t,s.depth=n.length,s}function a(t,e,i){var n=function(t,n){return n=n||{},e(t,n.data||i)};return n.program=t,n.depth=0,n}function o(t,e,i,n,s,r){var a={partial:!0,helpers:n,partials:s,data:r};if(void 0===t)throw new p("The partial "+e+" could not be found");return t instanceof Function?t(i,a):void 0}function l(){return""}var h={},c=t,p=e,u=i.COMPILER_REVISION,d=i.REVISION_CHANGES;return h.checkRevision=n,h.template=s,h.programWithDepth=r,h.program=a,h.invokePartial=o,h.noop=l,h}(e,i,n),r=function(t,e,i,n,s){var r,a=t,o=e,l=i,h=n,c=s,p=function(){var t=new a.HandlebarsEnvironment;return h.extend(t,a),t.SafeString=o,t.Exception=l,t.Utils=h,t.VM=c,t.template=function(e){return c.template(e,t)},t},u=p();return u.create=p,r=u}(n,t,i,e,s),a=function(t){function e(t){t=t||{},this.firstLine=t.first_line,this.firstColumn=t.first_column,this.lastColumn=t.last_column,this.lastLine=t.last_line}var i,n=t,s={ProgramNode:function(t,i,n,r){var a,o;3===arguments.length?(r=n,n=null):2===arguments.length&&(r=i,i=null),e.call(this,r),this.type="program",this.statements=t,this.strip={},n?(o=n[0],o?(a={first_line:o.firstLine,last_line:o.lastLine,last_column:o.lastColumn,first_column:o.firstColumn},this.inverse=new s.ProgramNode(n,i,a)):this.inverse=new s.ProgramNode(n,i),this.strip.right=i.left):i&&(this.strip.left=i.right)},MustacheNode:function(t,i,n,r,a){if(e.call(this,a),this.type="mustache",this.strip=r,null!=n&&n.charAt){var o=n.charAt(3)||n.charAt(2);this.escaped="{"!==o&&"&"!==o}else this.escaped=!!n;this.sexpr=t instanceof s.SexprNode?t:new s.SexprNode(t,i),this.sexpr.isRoot=!0,this.id=this.sexpr.id,this.params=this.sexpr.params,this.hash=this.sexpr.hash,this.eligibleHelper=this.sexpr.eligibleHelper,this.isHelper=this.sexpr.isHelper},SexprNode:function(t,i,n){e.call(this,n),this.type="sexpr",this.hash=i;var s=this.id=t[0],r=this.params=t.slice(1),a=this.eligibleHelper=s.isSimple;this.isHelper=a&&(r.length||i)},PartialNode:function(t,i,n,s){e.call(this,s),this.type="partial",this.partialName=t,this.context=i,this.strip=n},BlockNode:function(t,i,s,r,a){if(e.call(this,a),t.sexpr.id.original!==r.path.original)throw new n(t.sexpr.id.original+" doesn't match "+r.path.original,this);this.type="block",this.mustache=t,this.program=i,this.inverse=s,this.strip={left:t.strip.left,right:r.strip.right},(i||s).strip.left=t.strip.right,(s||i).strip.right=r.strip.left,s&&!i&&(this.isInverse=!0)},ContentNode:function(t,i){e.call(this,i),this.type="content",this.string=t},HashNode:function(t,i){e.call(this,i),this.type="hash",this.pairs=t},IdNode:function(t,i){e.call(this,i),this.type="ID";for(var s="",r=[],a=0,o=0,l=t.length;l>o;o++){var h=t[o].part;if(s+=(t[o].separator||"")+h,".."===h||"."===h||"this"===h){if(r.length>0)throw new n("Invalid path: "+s,this);".."===h?a++:this.isScoped=!0}else r.push(h)}this.original=s,this.parts=r,this.string=r.join("."),this.depth=a,this.isSimple=1===t.length&&!this.isScoped&&0===a,this.stringModeValue=this.string},PartialNameNode:function(t,i){e.call(this,i),this.type="PARTIAL_NAME",this.name=t.original},DataNode:function(t,i){e.call(this,i),this.type="DATA",this.id=t},StringNode:function(t,i){e.call(this,i),this.type="STRING",this.original=this.string=this.stringModeValue=t},IntegerNode:function(t,i){e.call(this,i),this.type="INTEGER",this.original=this.integer=t,this.stringModeValue=Number(t)},BooleanNode:function(t,i){e.call(this,i),this.type="BOOLEAN",this.bool=t,this.stringModeValue="true"===t},CommentNode:function(t,i){e.call(this,i),this.type="comment",this.comment=t}};return i=s}(i),o=function(){var t,e=function(){function t(t,e){return{left:"~"===t.charAt(2),right:"~"===e.charAt(0)||"~"===e.charAt(1)}}function e(){this.yy={}}var i={trace:function(){},yy:{},symbols_:{error:2,root:3,statements:4,EOF:5,program:6,simpleInverse:7,statement:8,openInverse:9,closeBlock:10,openBlock:11,mustache:12,partial:13,CONTENT:14,COMMENT:15,OPEN_BLOCK:16,sexpr:17,CLOSE:18,OPEN_INVERSE:19,OPEN_ENDBLOCK:20,path:21,OPEN:22,OPEN_UNESCAPED:23,CLOSE_UNESCAPED:24,OPEN_PARTIAL:25,partialName:26,partial_option0:27,sexpr_repetition0:28,sexpr_option0:29,dataName:30,param:31,STRING:32,INTEGER:33,BOOLEAN:34,OPEN_SEXPR:35,CLOSE_SEXPR:36,hash:37,hash_repetition_plus0:38,hashSegment:39,ID:40,EQUALS:41,DATA:42,pathSegments:43,SEP:44,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"CONTENT",15:"COMMENT",16:"OPEN_BLOCK",18:"CLOSE",19:"OPEN_INVERSE",20:"OPEN_ENDBLOCK",22:"OPEN",23:"OPEN_UNESCAPED",24:"CLOSE_UNESCAPED",25:"OPEN_PARTIAL",32:"STRING",33:"INTEGER",34:"BOOLEAN",35:"OPEN_SEXPR",36:"CLOSE_SEXPR",40:"ID",41:"EQUALS",42:"DATA",44:"SEP"},productions_:[0,[3,2],[3,1],[6,2],[6,3],[6,2],[6,1],[6,1],[6,0],[4,1],[4,2],[8,3],[8,3],[8,1],[8,1],[8,1],[8,1],[11,3],[9,3],[10,3],[12,3],[12,3],[13,4],[7,2],[17,3],[17,1],[31,1],[31,1],[31,1],[31,1],[31,1],[31,3],[37,1],[39,3],[26,1],[26,1],[26,1],[30,2],[21,1],[43,3],[43,1],[27,0],[27,1],[28,0],[28,2],[29,0],[29,1],[38,1],[38,2]],performAction:function(e,i,n,s,r,a){var o=a.length-1;switch(r){case 1:return new s.ProgramNode(a[o-1],this._$);case 2:return new s.ProgramNode([],this._$);case 3:this.$=new s.ProgramNode([],a[o-1],a[o],this._$);break;case 4:this.$=new s.ProgramNode(a[o-2],a[o-1],a[o],this._$);break;case 5:this.$=new s.ProgramNode(a[o-1],a[o],[],this._$);break;case 6:this.$=new s.ProgramNode(a[o],this._$);break;case 7:this.$=new s.ProgramNode([],this._$);break;case 8:this.$=new s.ProgramNode([],this._$);break;case 9:this.$=[a[o]];break;case 10:a[o-1].push(a[o]),this.$=a[o-1];break;case 11:this.$=new s.BlockNode(a[o-2],a[o-1].inverse,a[o-1],a[o],this._$);break;case 12:this.$=new s.BlockNode(a[o-2],a[o-1],a[o-1].inverse,a[o],this._$);break;case 13:this.$=a[o];break;case 14:this.$=a[o];break;case 15:this.$=new s.ContentNode(a[o],this._$);break;case 16:this.$=new s.CommentNode(a[o],this._$);break;case 17:this.$=new s.MustacheNode(a[o-1],null,a[o-2],t(a[o-2],a[o]),this._$);break;case 18:this.$=new s.MustacheNode(a[o-1],null,a[o-2],t(a[o-2],a[o]),this._$);break;case 19:this.$={path:a[o-1],strip:t(a[o-2],a[o])};break;case 20:this.$=new s.MustacheNode(a[o-1],null,a[o-2],t(a[o-2],a[o]),this._$);break;case 21:this.$=new s.MustacheNode(a[o-1],null,a[o-2],t(a[o-2],a[o]),this._$);break;case 22:this.$=new s.PartialNode(a[o-2],a[o-1],t(a[o-3],a[o]),this._$);break;case 23:this.$=t(a[o-1],a[o]);break;case 24:this.$=new s.SexprNode([a[o-2]].concat(a[o-1]),a[o],this._$);break;case 25:this.$=new s.SexprNode([a[o]],null,this._$);break;case 26:this.$=a[o];break;case 27:this.$=new s.StringNode(a[o],this._$);break;case 28:this.$=new s.IntegerNode(a[o],this._$);break;case 29:this.$=new s.BooleanNode(a[o],this._$);break;case 30:this.$=a[o];break;case 31:a[o-1].isHelper=!0,this.$=a[o-1];break;case 32:this.$=new s.HashNode(a[o],this._$);break;case 33:this.$=[a[o-2],a[o]];break;case 34:this.$=new s.PartialNameNode(a[o],this._$);break;case 35:this.$=new s.PartialNameNode(new s.StringNode(a[o],this._$),this._$);break;case 36:this.$=new s.PartialNameNode(new s.IntegerNode(a[o],this._$));break;case 37:this.$=new s.DataNode(a[o],this._$);break;case 38:this.$=new s.IdNode(a[o],this._$);break;case 39:a[o-2].push({part:a[o],separator:a[o-1]}),this.$=a[o-2];break;case 40:this.$=[{part:a[o]}];break;case 43:this.$=[];break;case 44:a[o-1].push(a[o]);break;case 47:this.$=[a[o]];break;case 48:a[o-1].push(a[o])}},table:[{3:1,4:2,5:[1,3],8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],22:[1,13],23:[1,14],25:[1,15]},{1:[3]},{5:[1,16],8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],22:[1,13],23:[1,14],25:[1,15]},{1:[2,2]},{5:[2,9],14:[2,9],15:[2,9],16:[2,9],19:[2,9],20:[2,9],22:[2,9],23:[2,9],25:[2,9]},{4:20,6:18,7:19,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,21],20:[2,8],22:[1,13],23:[1,14],25:[1,15]},{4:20,6:22,7:19,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,21],20:[2,8],22:[1,13],23:[1,14],25:[1,15]},{5:[2,13],14:[2,13],15:[2,13],16:[2,13],19:[2,13],20:[2,13],22:[2,13],23:[2,13],25:[2,13]},{5:[2,14],14:[2,14],15:[2,14],16:[2,14],19:[2,14],20:[2,14],22:[2,14],23:[2,14],25:[2,14]},{5:[2,15],14:[2,15],15:[2,15],16:[2,15],19:[2,15],20:[2,15],22:[2,15],23:[2,15],25:[2,15]},{5:[2,16],14:[2,16],15:[2,16],16:[2,16],19:[2,16],20:[2,16],22:[2,16],23:[2,16],25:[2,16]},{17:23,21:24,30:25,40:[1,28],42:[1,27],43:26},{17:29,21:24,30:25,40:[1,28],42:[1,27],43:26},{17:30,21:24,30:25,40:[1,28],42:[1,27],43:26},{17:31,21:24,30:25,40:[1,28],42:[1,27],43:26},{21:33,26:32,32:[1,34],33:[1,35],40:[1,28],43:26},{1:[2,1]},{5:[2,10],14:[2,10],15:[2,10],16:[2,10],19:[2,10],20:[2,10],22:[2,10],23:[2,10],25:[2,10]},{10:36,20:[1,37]},{4:38,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,7],22:[1,13],23:[1,14],25:[1,15]},{7:39,8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,21],20:[2,6],22:[1,13],23:[1,14],25:[1,15]},{17:23,18:[1,40],21:24,30:25,40:[1,28],42:[1,27],43:26},{10:41,20:[1,37]},{18:[1,42]},{18:[2,43],24:[2,43],28:43,32:[2,43],33:[2,43],34:[2,43],35:[2,43],36:[2,43],40:[2,43],42:[2,43]},{18:[2,25],24:[2,25],36:[2,25]},{18:[2,38],24:[2,38],32:[2,38],33:[2,38],34:[2,38],35:[2,38],36:[2,38],40:[2,38],42:[2,38],44:[1,44]},{21:45,40:[1,28],43:26},{18:[2,40],24:[2,40],32:[2,40],33:[2,40],34:[2,40],35:[2,40],36:[2,40],40:[2,40],42:[2,40],44:[2,40]},{18:[1,46]},{18:[1,47]},{24:[1,48]},{18:[2,41],21:50,27:49,40:[1,28],43:26},{18:[2,34],40:[2,34]},{18:[2,35],40:[2,35]},{18:[2,36],40:[2,36]},{5:[2,11],14:[2,11],15:[2,11],16:[2,11],19:[2,11],20:[2,11],22:[2,11],23:[2,11],25:[2,11]},{21:51,40:[1,28],43:26},{8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,3],22:[1,13],23:[1,14],25:[1,15]},{4:52,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,5],22:[1,13],23:[1,14],25:[1,15]},{14:[2,23],15:[2,23],16:[2,23],19:[2,23],20:[2,23],22:[2,23],23:[2,23],25:[2,23]},{5:[2,12],14:[2,12],15:[2,12],16:[2,12],19:[2,12],20:[2,12],22:[2,12],23:[2,12],25:[2,12]},{14:[2,18],15:[2,18],16:[2,18],19:[2,18],20:[2,18],22:[2,18],23:[2,18],25:[2,18]},{18:[2,45],21:56,24:[2,45],29:53,30:60,31:54,32:[1,57],33:[1,58],34:[1,59],35:[1,61],36:[2,45],37:55,38:62,39:63,40:[1,64],42:[1,27],43:26},{40:[1,65]},{18:[2,37],24:[2,37],32:[2,37],33:[2,37],34:[2,37],35:[2,37],36:[2,37],40:[2,37],42:[2,37]},{14:[2,17],15:[2,17],16:[2,17],19:[2,17],20:[2,17],22:[2,17],23:[2,17],25:[2,17]},{5:[2,20],14:[2,20],15:[2,20],16:[2,20],19:[2,20],20:[2,20],22:[2,20],23:[2,20],25:[2,20]},{5:[2,21],14:[2,21],15:[2,21],16:[2,21],19:[2,21],20:[2,21],22:[2,21],23:[2,21],25:[2,21]},{18:[1,66]},{18:[2,42]},{18:[1,67]},{8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,4],22:[1,13],23:[1,14],25:[1,15]},{18:[2,24],24:[2,24],36:[2,24]},{18:[2,44],24:[2,44],32:[2,44],33:[2,44],34:[2,44],35:[2,44],36:[2,44],40:[2,44],42:[2,44]},{18:[2,46],24:[2,46],36:[2,46]},{18:[2,26],24:[2,26],32:[2,26],33:[2,26],34:[2,26],35:[2,26],36:[2,26],40:[2,26],42:[2,26]},{18:[2,27],24:[2,27],32:[2,27],33:[2,27],34:[2,27],35:[2,27],36:[2,27],40:[2,27],42:[2,27]},{18:[2,28],24:[2,28],32:[2,28],33:[2,28],34:[2,28],35:[2,28],36:[2,28],40:[2,28],42:[2,28]},{18:[2,29],24:[2,29],32:[2,29],33:[2,29],34:[2,29],35:[2,29],36:[2,29],40:[2,29],42:[2,29]},{18:[2,30],24:[2,30],32:[2,30],33:[2,30],34:[2,30],35:[2,30],36:[2,30],40:[2,30],42:[2,30]},{17:68,21:24,30:25,40:[1,28],42:[1,27],43:26},{18:[2,32],24:[2,32],36:[2,32],39:69,40:[1,70]},{18:[2,47],24:[2,47],36:[2,47],40:[2,47]},{18:[2,40],24:[2,40],32:[2,40],33:[2,40],34:[2,40],35:[2,40],36:[2,40],40:[2,40],41:[1,71],42:[2,40],44:[2,40]},{18:[2,39],24:[2,39],32:[2,39],33:[2,39],34:[2,39],35:[2,39],36:[2,39],40:[2,39],42:[2,39],44:[2,39]},{5:[2,22],14:[2,22],15:[2,22],16:[2,22],19:[2,22],20:[2,22],22:[2,22],23:[2,22],25:[2,22]},{5:[2,19],14:[2,19],15:[2,19],16:[2,19],19:[2,19],20:[2,19],22:[2,19],23:[2,19],25:[2,19]},{36:[1,72]},{18:[2,48],24:[2,48],36:[2,48],40:[2,48]},{41:[1,71]},{21:56,30:60,31:73,32:[1,57],33:[1,58],34:[1,59],35:[1,61],40:[1,28],42:[1,27],43:26},{18:[2,31],24:[2,31],32:[2,31],33:[2,31],34:[2,31],35:[2,31],36:[2,31],40:[2,31],42:[2,31]},{18:[2,33],24:[2,33],36:[2,33],40:[2,33]}],defaultActions:{3:[2,2],16:[2,1],50:[2,42]},parseError:function(t){throw Error(t)
},parse:function(t){function e(){var t;return t=i.lexer.lex()||1,"number"!=typeof t&&(t=i.symbols_[t]||t),t}var i=this,n=[0],s=[null],r=[],a=this.table,o="",l=0,h=0,c=0;this.lexer.setInput(t),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,this.lexer.yylloc===void 0&&(this.lexer.yylloc={});var p=this.lexer.yylloc;r.push(p);var u=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var d,f,m,g,v,y,b,w,x,k={};;){if(m=n[n.length-1],this.defaultActions[m]?g=this.defaultActions[m]:((null===d||d===void 0)&&(d=e()),g=a[m]&&a[m][d]),g===void 0||!g.length||!g[0]){var S="";if(!c){x=[];for(y in a[m])this.terminals_[y]&&y>2&&x.push("'"+this.terminals_[y]+"'");S=this.lexer.showPosition?"Parse error on line "+(l+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+x.join(", ")+", got '"+(this.terminals_[d]||d)+"'":"Parse error on line "+(l+1)+": Unexpected "+(1==d?"end of input":"'"+(this.terminals_[d]||d)+"'"),this.parseError(S,{text:this.lexer.match,token:this.terminals_[d]||d,line:this.lexer.yylineno,loc:p,expected:x})}}if(g[0]instanceof Array&&g.length>1)throw Error("Parse Error: multiple actions possible at state: "+m+", token: "+d);switch(g[0]){case 1:n.push(d),s.push(this.lexer.yytext),r.push(this.lexer.yylloc),n.push(g[1]),d=null,f?(d=f,f=null):(h=this.lexer.yyleng,o=this.lexer.yytext,l=this.lexer.yylineno,p=this.lexer.yylloc,c>0&&c--);break;case 2:if(b=this.productions_[g[1]][1],k.$=s[s.length-b],k._$={first_line:r[r.length-(b||1)].first_line,last_line:r[r.length-1].last_line,first_column:r[r.length-(b||1)].first_column,last_column:r[r.length-1].last_column},u&&(k._$.range=[r[r.length-(b||1)].range[0],r[r.length-1].range[1]]),v=this.performAction.call(k,o,h,l,this.yy,g[1],s,r),v!==void 0)return v;b&&(n=n.slice(0,2*-1*b),s=s.slice(0,-1*b),r=r.slice(0,-1*b)),n.push(this.productions_[g[1]][0]),s.push(k.$),r.push(k._$),w=a[n[n.length-2]][n[n.length-1]],n.push(w);break;case 3:return!0}}return!0}},n=function(){var t={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw Error(t);this.yy.parser.parseError(t,e)},setInput:function(t){return this._input=t,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t;var e=t.match(/(?:\r\n?|\n).*/g);return e?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,i=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e-1),this.offset-=e;var n=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),i.length-1&&(this.yylineno-=i.length-1);var s=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:i?(i.length===n.length?this.yylloc.first_column:0)+n[n.length-i.length].length-i[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[s[0],s[0]+this.yyleng-e]),this},more:function(){return this._more=!0,this},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return 20>t.length&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var t,e,i,n,s;this._more||(this.yytext="",this.match="");for(var r=this._currentRules(),a=0;r.length>a&&(i=this._input.match(this.rules[r[a]]),!i||e&&!(i[0].length>e[0].length)||(e=i,n=a,this.options.flex));a++);return e?(s=e[0].match(/(?:\r\n?|\n).*/g),s&&(this.yylineno+=s.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:s?s[s.length-1].length-s[s.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],t=this.performAction.call(this,this.yy,this,r[n],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),t?t:void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return t!==void 0?t:this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(t){this.begin(t)}};return t.options={},t.performAction=function(t,e,i,n){function s(t,i){return e.yytext=e.yytext.substr(t,e.yyleng-i)}switch(i){case 0:if("\\\\"===e.yytext.slice(-2)?(s(0,1),this.begin("mu")):"\\"===e.yytext.slice(-1)?(s(0,1),this.begin("emu")):this.begin("mu"),e.yytext)return 14;break;case 1:return 14;case 2:return this.popState(),14;case 3:return s(0,4),this.popState(),15;case 4:return 35;case 5:return 36;case 6:return 25;case 7:return 16;case 8:return 20;case 9:return 19;case 10:return 19;case 11:return 23;case 12:return 22;case 13:this.popState(),this.begin("com");break;case 14:return s(3,5),this.popState(),15;case 15:return 22;case 16:return 41;case 17:return 40;case 18:return 40;case 19:return 44;case 20:break;case 21:return this.popState(),24;case 22:return this.popState(),18;case 23:return e.yytext=s(1,2).replace(/\\"/g,'"'),32;case 24:return e.yytext=s(1,2).replace(/\\'/g,"'"),32;case 25:return 42;case 26:return 34;case 27:return 34;case 28:return 33;case 29:return 40;case 30:return e.yytext=s(1,2),40;case 31:return"INVALID";case 32:return 5}},t.rules=[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:[\s\S]*?--\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{!--)/,/^(?:\{\{![\s\S]*?\}\})/,/^(?:\{\{(~)?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:-?[0-9]+(?=([~}\s)])))/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)]))))/,/^(?:\[[^\]]*\])/,/^(?:.)/,/^(?:$)/],t.conditions={mu:{rules:[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[3],inclusive:!1},INITIAL:{rules:[0,1,32],inclusive:!0}},t}();return i.lexer=n,e.prototype=i,i.Parser=e,new e}();return t=e}(),l=function(t,e){function i(t){return t.constructor===r.ProgramNode?t:(s.yy=r,s.parse(t))}var n={},s=t,r=e;return n.parser=s,n.parse=i,n}(o,a),h=function(t){function e(){}function i(t,e,i){if(null==t||"string"!=typeof t&&t.constructor!==i.AST.ProgramNode)throw new r("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+t);e=e||{},"data"in e||(e.data=!0);var n=i.parse(t),s=(new i.Compiler).compile(n,e);return(new i.JavaScriptCompiler).compile(s,e)}function n(t,e,i){function n(){var n=i.parse(t),s=(new i.Compiler).compile(n,e),r=(new i.JavaScriptCompiler).compile(s,e,void 0,!0);return i.template(r)}if(null==t||"string"!=typeof t&&t.constructor!==i.AST.ProgramNode)throw new r("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+t);e=e||{},"data"in e||(e.data=!0);var s;return function(t,e){return s||(s=n()),s.call(this,t,e)}}var s={},r=t;return s.Compiler=e,e.prototype={compiler:e,disassemble:function(){for(var t,e,i,n=this.opcodes,s=[],r=0,a=n.length;a>r;r++)if(t=n[r],"DECLARE"===t.opcode)s.push("DECLARE "+t.name+"="+t.value);else{e=[];for(var o=0;t.args.length>o;o++)i=t.args[o],"string"==typeof i&&(i='"'+i.replace("\n","\\n")+'"'),e.push(i);s.push(t.opcode+" "+e.join(" "))}return s.join("\n")},equals:function(t){var e=this.opcodes.length;if(t.opcodes.length!==e)return!1;for(var i=0;e>i;i++){var n=this.opcodes[i],s=t.opcodes[i];if(n.opcode!==s.opcode||n.args.length!==s.args.length)return!1;for(var r=0;n.args.length>r;r++)if(n.args[r]!==s.args[r])return!1}if(e=this.children.length,t.children.length!==e)return!1;for(i=0;e>i;i++)if(!this.children[i].equals(t.children[i]))return!1;return!0},guid:0,compile:function(t,e){this.opcodes=[],this.children=[],this.depths={list:[]},this.options=e;var i=this.options.knownHelpers;if(this.options.knownHelpers={helperMissing:!0,blockHelperMissing:!0,each:!0,"if":!0,unless:!0,"with":!0,log:!0},i)for(var n in i)this.options.knownHelpers[n]=i[n];return this.accept(t)},accept:function(t){var e,i=t.strip||{};return i.left&&this.opcode("strip"),e=this[t.type](t),i.right&&this.opcode("strip"),e},program:function(t){for(var e=t.statements,i=0,n=e.length;n>i;i++)this.accept(e[i]);return this.isSimple=1===n,this.depths.list=this.depths.list.sort(function(t,e){return t-e}),this},compileProgram:function(t){var e,i=(new this.compiler).compile(t,this.options),n=this.guid++;this.usePartial=this.usePartial||i.usePartial,this.children[n]=i;for(var s=0,r=i.depths.list.length;r>s;s++)e=i.depths.list[s],2>e||this.addDepth(e-1);return n},block:function(t){var e=t.mustache,i=t.program,n=t.inverse;i&&(i=this.compileProgram(i)),n&&(n=this.compileProgram(n));var s=e.sexpr,r=this.classifySexpr(s);"helper"===r?this.helperSexpr(s,i,n):"simple"===r?(this.simpleSexpr(s),this.opcode("pushProgram",i),this.opcode("pushProgram",n),this.opcode("emptyHash"),this.opcode("blockValue")):(this.ambiguousSexpr(s,i,n),this.opcode("pushProgram",i),this.opcode("pushProgram",n),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},hash:function(t){var e,i,n=t.pairs;this.opcode("pushHash");for(var s=0,r=n.length;r>s;s++)e=n[s],i=e[1],this.options.stringParams?(i.depth&&this.addDepth(i.depth),this.opcode("getContext",i.depth||0),this.opcode("pushStringParam",i.stringModeValue,i.type),"sexpr"===i.type&&this.sexpr(i)):this.accept(i),this.opcode("assignToHash",e[0]);this.opcode("popHash")},partial:function(t){var e=t.partialName;this.usePartial=!0,t.context?this.ID(t.context):this.opcode("push","depth0"),this.opcode("invokePartial",e.name),this.opcode("append")},content:function(t){this.opcode("appendContent",t.string)},mustache:function(t){this.sexpr(t.sexpr),t.escaped&&!this.options.noEscape?this.opcode("appendEscaped"):this.opcode("append")},ambiguousSexpr:function(t,e,i){var n=t.id,s=n.parts[0],r=null!=e||null!=i;this.opcode("getContext",n.depth),this.opcode("pushProgram",e),this.opcode("pushProgram",i),this.opcode("invokeAmbiguous",s,r)},simpleSexpr:function(t){var e=t.id;"DATA"===e.type?this.DATA(e):e.parts.length?this.ID(e):(this.addDepth(e.depth),this.opcode("getContext",e.depth),this.opcode("pushContext")),this.opcode("resolvePossibleLambda")},helperSexpr:function(t,e,i){var n=this.setupFullMustacheParams(t,e,i),s=t.id.parts[0];if(this.options.knownHelpers[s])this.opcode("invokeKnownHelper",n.length,s);else{if(this.options.knownHelpersOnly)throw new r("You specified knownHelpersOnly, but used the unknown helper "+s,t);this.opcode("invokeHelper",n.length,s,t.isRoot)}},sexpr:function(t){var e=this.classifySexpr(t);"simple"===e?this.simpleSexpr(t):"helper"===e?this.helperSexpr(t):this.ambiguousSexpr(t)},ID:function(t){this.addDepth(t.depth),this.opcode("getContext",t.depth);var e=t.parts[0];e?this.opcode("lookupOnContext",t.parts[0]):this.opcode("pushContext");for(var i=1,n=t.parts.length;n>i;i++)this.opcode("lookup",t.parts[i])},DATA:function(t){if(this.options.data=!0,t.id.isScoped||t.id.depth)throw new r("Scoped data references are not supported: "+t.original,t);this.opcode("lookupData");for(var e=t.id.parts,i=0,n=e.length;n>i;i++)this.opcode("lookup",e[i])},STRING:function(t){this.opcode("pushString",t.string)},INTEGER:function(t){this.opcode("pushLiteral",t.integer)},BOOLEAN:function(t){this.opcode("pushLiteral",t.bool)},comment:function(){},opcode:function(t){this.opcodes.push({opcode:t,args:[].slice.call(arguments,1)})},declare:function(t,e){this.opcodes.push({opcode:"DECLARE",name:t,value:e})},addDepth:function(t){0!==t&&(this.depths[t]||(this.depths[t]=!0,this.depths.list.push(t)))},classifySexpr:function(t){var e=t.isHelper,i=t.eligibleHelper,n=this.options;if(i&&!e){var s=t.id.parts[0];n.knownHelpers[s]?e=!0:n.knownHelpersOnly&&(i=!1)}return e?"helper":i?"ambiguous":"simple"},pushParams:function(t){for(var e,i=t.length;i--;)e=t[i],this.options.stringParams?(e.depth&&this.addDepth(e.depth),this.opcode("getContext",e.depth||0),this.opcode("pushStringParam",e.stringModeValue,e.type),"sexpr"===e.type&&this.sexpr(e)):this[e.type](e)},setupFullMustacheParams:function(t,e,i){var n=t.params;return this.pushParams(n),this.opcode("pushProgram",e),this.opcode("pushProgram",i),t.hash?this.hash(t.hash):this.opcode("emptyHash"),n}},s.precompile=i,s.compile=n,s}(i),c=function(t,e){function i(t){this.value=t}function n(){}var s,r=t.COMPILER_REVISION,a=t.REVISION_CHANGES,o=t.log,l=e;n.prototype={nameLookup:function(t,e){var i,s;return 0===t.indexOf("depth")&&(i=!0),s=/^[0-9]+$/.test(e)?t+"["+e+"]":n.isValidJavaScriptVariableName(e)?t+"."+e:t+"['"+e+"']",i?"("+t+" && "+s+")":s},compilerInfo:function(){var t=r,e=a[t];return"this.compilerInfo = ["+t+",'"+e+"'];\n"},appendToBuffer:function(t){return this.environment.isSimple?"return "+t+";":{appendToBuffer:!0,content:t,toString:function(){return"buffer += "+t+";"}}},initializeBuffer:function(){return this.quotedString("")},namespace:"Handlebars",compile:function(t,e,i,n){this.environment=t,this.options=e||{},o("debug",this.environment.disassemble()+"\n\n"),this.name=this.environment.name,this.isChild=!!i,this.context=i||{programs:[],environments:[],aliases:{}},this.preamble(),this.stackSlot=0,this.stackVars=[],this.registers={list:[]},this.hashes=[],this.compileStack=[],this.inlineStack=[],this.compileChildren(t,e);var s,r=t.opcodes;this.i=0;for(var a=r.length;a>this.i;this.i++)s=r[this.i],"DECLARE"===s.opcode?this[s.name]=s.value:this[s.opcode].apply(this,s.args),s.opcode!==this.stripNext&&(this.stripNext=!1);if(this.pushSource(""),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new l("Compile completed with content left on stack");return this.createFunctionContext(n)},preamble:function(){var t=[];if(this.isChild)t.push("");else{var e=this.namespace,i="helpers = this.merge(helpers, "+e+".helpers);";this.environment.usePartial&&(i=i+" partials = this.merge(partials, "+e+".partials);"),this.options.data&&(i+=" data = data || {};"),t.push(i)}this.environment.isSimple?t.push(""):t.push(", buffer = "+this.initializeBuffer()),this.lastContext=0,this.source=t},createFunctionContext:function(t){var e=this.stackVars.concat(this.registers.list);if(e.length>0&&(this.source[1]=this.source[1]+", "+e.join(", ")),!this.isChild)for(var i in this.context.aliases)this.context.aliases.hasOwnProperty(i)&&(this.source[1]=this.source[1]+", "+i+"="+this.context.aliases[i]);this.source[1]&&(this.source[1]="var "+this.source[1].substring(2)+";"),this.isChild||(this.source[1]+="\n"+this.context.programs.join("\n")+"\n"),this.environment.isSimple||this.pushSource("return buffer;");for(var n=this.isChild?["depth0","data"]:["Handlebars","depth0","helpers","partials","data"],s=0,r=this.environment.depths.list.length;r>s;s++)n.push("depth"+this.environment.depths.list[s]);var a=this.mergeSource();if(this.isChild||(a=this.compilerInfo()+a),t)return n.push(a),Function.apply(this,n);var l="function "+(this.name||"")+"("+n.join(",")+") {\n  "+a+"}";return o("debug",l+"\n\n"),l},mergeSource:function(){for(var t,e="",i=0,n=this.source.length;n>i;i++){var s=this.source[i];s.appendToBuffer?t=t?t+"\n    + "+s.content:s.content:(t&&(e+="buffer += "+t+";\n  ",t=void 0),e+=s+"\n  ")}return e},blockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var t=["depth0"];this.setupParams(0,t),this.replaceStack(function(e){return t.splice(1,0,e),"blockHelperMissing.call("+t.join(", ")+")"})},ambiguousBlockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var t=["depth0"];this.setupParams(0,t);var e=this.topStack();t.splice(1,0,e),this.pushSource("if (!"+this.lastHelper+") { "+e+" = blockHelperMissing.call("+t.join(", ")+"); }")},appendContent:function(t){this.pendingContent&&(t=this.pendingContent+t),this.stripNext&&(t=t.replace(/^\s+/,"")),this.pendingContent=t},strip:function(){this.pendingContent&&(this.pendingContent=this.pendingContent.replace(/\s+$/,"")),this.stripNext="strip"},append:function(){this.flushInline();var t=this.popStack();this.pushSource("if("+t+" || "+t+" === 0) { "+this.appendToBuffer(t)+" }"),this.environment.isSimple&&this.pushSource("else { "+this.appendToBuffer("''")+" }")},appendEscaped:function(){this.context.aliases.escapeExpression="this.escapeExpression",this.pushSource(this.appendToBuffer("escapeExpression("+this.popStack()+")"))},getContext:function(t){this.lastContext!==t&&(this.lastContext=t)},lookupOnContext:function(t){this.push(this.nameLookup("depth"+this.lastContext,t,"context"))},pushContext:function(){this.pushStackLiteral("depth"+this.lastContext)},resolvePossibleLambda:function(){this.context.aliases.functionType='"function"',this.replaceStack(function(t){return"typeof "+t+" === functionType ? "+t+".apply(depth0) : "+t})},lookup:function(t){this.replaceStack(function(e){return e+" == null || "+e+" === false ? "+e+" : "+this.nameLookup(e,t,"context")})},lookupData:function(){this.pushStackLiteral("data")},pushStringParam:function(t,e){this.pushStackLiteral("depth"+this.lastContext),this.pushString(e),"sexpr"!==e&&("string"==typeof t?this.pushString(t):this.pushStackLiteral(t))},emptyHash:function(){this.pushStackLiteral("{}"),this.options.stringParams&&(this.push("{}"),this.push("{}"))},pushHash:function(){this.hash&&this.hashes.push(this.hash),this.hash={values:[],types:[],contexts:[]}},popHash:function(){var t=this.hash;this.hash=this.hashes.pop(),this.options.stringParams&&(this.push("{"+t.contexts.join(",")+"}"),this.push("{"+t.types.join(",")+"}")),this.push("{\n    "+t.values.join(",\n    ")+"\n  }")},pushString:function(t){this.pushStackLiteral(this.quotedString(t))},push:function(t){return this.inlineStack.push(t),t},pushLiteral:function(t){this.pushStackLiteral(t)},pushProgram:function(t){null!=t?this.pushStackLiteral(this.programExpression(t)):this.pushStackLiteral(null)},invokeHelper:function(t,e,i){this.context.aliases.helperMissing="helpers.helperMissing",this.useRegister("helper");var n=this.lastHelper=this.setupHelper(t,e,!0),s=this.nameLookup("depth"+this.lastContext,e,"context"),r="helper = "+n.name+" || "+s;n.paramsInit&&(r+=","+n.paramsInit),this.push("("+r+",helper "+"? helper.call("+n.callParams+") "+": helperMissing.call("+n.helperMissingParams+"))"),i||this.flushInline()},invokeKnownHelper:function(t,e){var i=this.setupHelper(t,e);this.push(i.name+".call("+i.callParams+")")},invokeAmbiguous:function(t,e){this.context.aliases.functionType='"function"',this.useRegister("helper"),this.emptyHash();var i=this.setupHelper(0,t,e),n=this.lastHelper=this.nameLookup("helpers",t,"helper"),s=this.nameLookup("depth"+this.lastContext,t,"context"),r=this.nextStack();i.paramsInit&&this.pushSource(i.paramsInit),this.pushSource("if (helper = "+n+") { "+r+" = helper.call("+i.callParams+"); }"),this.pushSource("else { helper = "+s+"; "+r+" = typeof helper === functionType ? helper.call("+i.callParams+") : helper; }")},invokePartial:function(t){var e=[this.nameLookup("partials",t,"partial"),"'"+t+"'",this.popStack(),"helpers","partials"];this.options.data&&e.push("data"),this.context.aliases.self="this",this.push("self.invokePartial("+e.join(", ")+")")},assignToHash:function(t){var e,i,n=this.popStack();this.options.stringParams&&(i=this.popStack(),e=this.popStack());var s=this.hash;e&&s.contexts.push("'"+t+"': "+e),i&&s.types.push("'"+t+"': "+i),s.values.push("'"+t+"': ("+n+")")},compiler:n,compileChildren:function(t,e){for(var i,n,s=t.children,r=0,a=s.length;a>r;r++){i=s[r],n=new this.compiler;var o=this.matchExistingProgram(i);null==o?(this.context.programs.push(""),o=this.context.programs.length,i.index=o,i.name="program"+o,this.context.programs[o]=n.compile(i,e,this.context),this.context.environments[o]=i):(i.index=o,i.name="program"+o)}},matchExistingProgram:function(t){for(var e=0,i=this.context.environments.length;i>e;e++){var n=this.context.environments[e];if(n&&n.equals(t))return e}},programExpression:function(t){if(this.context.aliases.self="this",null==t)return"self.noop";for(var e,i=this.environment.children[t],n=i.depths.list,s=[i.index,i.name,"data"],r=0,a=n.length;a>r;r++)e=n[r],1===e?s.push("depth0"):s.push("depth"+(e-1));return(0===n.length?"self.program(":"self.programWithDepth(")+s.join(", ")+")"},register:function(t,e){this.useRegister(t),this.pushSource(t+" = "+e+";")},useRegister:function(t){this.registers[t]||(this.registers[t]=!0,this.registers.list.push(t))},pushStackLiteral:function(t){return this.push(new i(t))},pushSource:function(t){this.pendingContent&&(this.source.push(this.appendToBuffer(this.quotedString(this.pendingContent))),this.pendingContent=void 0),t&&this.source.push(t)},pushStack:function(t){this.flushInline();var e=this.incrStack();return t&&this.pushSource(e+" = "+t+";"),this.compileStack.push(e),e},replaceStack:function(t){var e,n,s,r="",a=this.isInline();if(a){var o=this.popStack(!0);if(o instanceof i)e=o.value,s=!0;else{n=!this.stackSlot;var l=n?this.incrStack():this.topStackName();r="("+this.push(l)+" = "+o+"),",e=this.topStack()}}else e=this.topStack();var h=t.call(this,e);return a?(s||this.popStack(),n&&this.stackSlot--,this.push("("+r+h+")")):(/^stack/.test(e)||(e=this.nextStack()),this.pushSource(e+" = ("+r+h+");")),e},nextStack:function(){return this.pushStack()},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var t=this.inlineStack;if(t.length){this.inlineStack=[];for(var e=0,n=t.length;n>e;e++){var s=t[e];s instanceof i?this.compileStack.push(s):this.pushStack(s)}}},isInline:function(){return this.inlineStack.length},popStack:function(t){var e=this.isInline(),n=(e?this.inlineStack:this.compileStack).pop();if(!t&&n instanceof i)return n.value;if(!e){if(!this.stackSlot)throw new l("Invalid stack pop");this.stackSlot--}return n},topStack:function(t){var e=this.isInline()?this.inlineStack:this.compileStack,n=e[e.length-1];return!t&&n instanceof i?n.value:n},quotedString:function(t){return'"'+t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},setupHelper:function(t,e,i){var n=[],s=this.setupParams(t,n,i),r=this.nameLookup("helpers",e,"helper");return{params:n,paramsInit:s,name:r,callParams:["depth0"].concat(n).join(", "),helperMissingParams:i&&["depth0",this.quotedString(e)].concat(n).join(", ")}},setupOptions:function(t,e){var i,n,s,r=[],a=[],o=[];r.push("hash:"+this.popStack()),this.options.stringParams&&(r.push("hashTypes:"+this.popStack()),r.push("hashContexts:"+this.popStack())),n=this.popStack(),s=this.popStack(),(s||n)&&(s||(this.context.aliases.self="this",s="self.noop"),n||(this.context.aliases.self="this",n="self.noop"),r.push("inverse:"+n),r.push("fn:"+s));for(var l=0;t>l;l++)i=this.popStack(),e.push(i),this.options.stringParams&&(o.push(this.popStack()),a.push(this.popStack()));return this.options.stringParams&&(r.push("contexts:["+a.join(",")+"]"),r.push("types:["+o.join(",")+"]")),this.options.data&&r.push("data:data"),r},setupParams:function(t,e,i){var n="{"+this.setupOptions(t,e).join(",")+"}";return i?(this.useRegister("options"),e.push("options"),"options="+n):(e.push(n),"")}};for(var h="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield".split(" "),c=n.RESERVED_WORDS={},p=0,u=h.length;u>p;p++)c[h[p]]=!0;return n.isValidJavaScriptVariableName=function(t){return!n.RESERVED_WORDS[t]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(t)?!0:!1},s=n}(n,i),p=function(t,e,i,n,s){var r,a=t,o=e,l=i.parser,h=i.parse,c=n.Compiler,p=n.compile,u=n.precompile,d=s,f=a.create,m=function(){var t=f();return t.compile=function(e,i){return p(e,i,t)},t.precompile=function(e,i){return u(e,i,t)},t.AST=o,t.Compiler=c,t.JavaScriptCompiler=d,t.Parser=l,t.parse=h,t};return a=m(),a.create=m,r=a}(r,a,l,h,c);return p}();return t}),define("Handlebars/i18nprecompile",["Handlebars","underscore"],function(t,e){function i(n,s){return s=s||{},n&&"program"===n.type&&n.statements&&e(n.statements).forEach(function(e,r){var a="<!-- i18n error -->";"mustache"==e.type&&e.id&&"$"==e.id.original?(e.params.length&&e.params[0].string&&(a=s[e.params[0].string]||a),n.statements[r]=new t.AST.ContentNode(a)):e.program&&(e.program=i(e.program,s))}),n}return function(e,n,s){s=s||{};var r=i(t.parse(e),n),a=(new t.Compiler).compile(r,s);return(new t.JavaScriptCompiler).compile(a,s)}}),define("hbs",["handlebars","underscore","Handlebars/i18nprecompile","json2"],function(t,e,i,n){var s,r,a=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],o=function(){throw Error("Environment unsupported.")},l=[],h="w+",c="hbs",p="@hbs",u="/styles/",d="/demo-build/styles/",f="template/helpers/",m="template/i18n/",g="screen.build.css",v="onHbsRead";t.registerHelper("$",function(){}),"undefined"!=typeof window&&window.navigator&&window.document&&!window.navigator.userAgent.match(/Node.js/)?(r=function(){var t,e,i;if("undefined"!=typeof XMLHttpRequest)return arguments[0]===!0?new XDomainRequest:new XMLHttpRequest;for(e=0;3>e;e++){i=a[e];try{t=new ActiveXObject(i)}catch(n){}if(t){a=[i];break}}if(!t)throw Error("getXhr(): XMLHttpRequest not available");return t},getIEVersion=function(){var t=-1;if("Microsoft Internet Explorer"==navigator.appName){var e=navigator.userAgent,i=RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");null!=i.exec(e)&&(t=parseFloat(RegExp.$1))}return t},o=function(t,e){var i=!1;if(0!=t.indexOf("http"))i=!1;else{var n="https"===t.substr(0,5)?8:7,s="https"===window.location.href.substr(0,5)?8:7,a=t.substr(n).split("/").shift(),o=getIEVersion();i=a!=window.location.href.substr(s).split("/").shift()&&o>=7}if(i){var l=r(!0);l.open("GET",t),l.onload=function(){e(l.responseText,t)},l.onprogress=function(){},l.ontimeout=function(){},l.onerror=function(){},setTimeout(function(){l.send()},0)}else{var h=r();h.open("GET",t,!0),h.onreadystatechange=function(){4===h.readyState&&e(h.responseText,t)},h.send(null)}}):"undefined"!=typeof process&&process.versions&&process.versions.node?(s=require.nodeRequire("fs"),o=function(t,e){var i=s.readFileSync(t,"utf8")||"";i=i.replace(/^\uFEFF/,""),e(i,t)}):"undefined"!=typeof java&&java.io!==void 0&&(o=function(t,e){for(var i,n=new java.io.FileInputStream(t),s=new java.io.InputStreamReader(n,"UTF-8"),r=new java.io.BufferedReader(s),a="";null!==(i=r.readLine());)a+=new String(i)+"\n";r.close(),e(a,t)});var y={},b=function(t,e){y[t]?e(y[t]):o(t,function(t,i){y[i]=t,e.call(this,t)})},w=[],x={};return{get:function(){return t},write:function(t,e,i){if(e+p in l){var n=l[e+p];i.asModule(t+"!"+e,n)}},version:"0.8.0",load:function(r,a,y,k){function S(t,i){return e(t).forEach(function(t){t&&t.type&&"partial"===t.type&&i.push(t.partialName.name),t&&t.program&&t.program.statements&&S(t.program.statements,i),t&&t.program&&t.program.inverse&&t.program.inverse.statements&&S(t.program.inverse.statements,i)}),i}function C(t){var i=[];return t&&t.statements&&(i=S(t.statements,[])),e(i).unique()}function _(t){var e,i,s;if(t&&t.statements&&(e=t.statements[0],e&&"comment"===e.type))try{return i=e.comment.replace(RegExp("^[\\s]+|[\\s]+$","g"),""),s=n.parse(i),i}catch(r){return n.stringify({description:i})}return"{}"}function E(t){if(!t)return[];var e,i=[t[0]],n=t[0];for(e=1;t.length>e;++e)t.hasOwnProperty(e)&&(n+="."+t[e],i.push(n));return i}function P(i,n,s,r){s=s?s+".":"";var a="";return e(i).forEach(function(i){var o,l,h;if(i&&i.type&&"mustache"===i.type){if(!i.params||!i.params.length){o=E(i.id.parts);for(l in o)o[l]&&(a=o[l]||a,n.push(s+o[l]));n.push(s+i.id.string)}var c=["this",".","..","./..","../..","../../.."];i.params&&t.helpers[i.id.string]===void 0&&e(i.params).forEach(function(l){(e(c).contains(l.original)||l instanceof t.AST.StringNode||l instanceof t.AST.IntegerNode||l instanceof t.AST.BooleanNode)&&r.push(i.id.string),o=E(l.parts);for(var h in o)o[h]&&(a=o[h]||a,r.push(i.id.string),n.push(s+o[h]))})}i&&i.mustache&&P([i.mustache],n,s+a,r),i&&i.program&&i.program.statements&&(h=P([i.mustache],[],"",r)[0]||"",i.program.inverse&&i.program.inverse.statements&&P(i.program.inverse.statements,n,s+a+(h?s+a?"."+h:h:""),r),P(i.program.statements,n,s+a+(h?s+a?"."+h:h:""),r))}),n}function T(t){var i=[],n=[];t&&t.statements&&(i=P(t.statements,[],void 0,n));var s=["helperMissing","blockHelperMissing","each","if","unless","with"];return{vars:e(i).chain().unique().map(function(t){return""===t?".":t.length&&"."===t[t.length-1]?t.substr(0,t.length-1)+"[]":t}).value(),helpers:e(n).chain().unique().map(function(t){return e(s).contains(t)?void 0:t}).compact().value()}}function N(t){for(var e=t.split("/"),i=0;e.length>i;i++)".."==e[i]&&(delete e[i-1],delete e[i]);return e.join("/").replace(/\/\/+/g,"/")}function $(c){o(L,function(o,p){var m,b,S,E,P,$=k.isBuild&&k[v]?k[v]:function(t,e,i){return i},L=t.parse($(r,p,o)),O=C(L),U=_(L),j=T(L),D=j.vars,R=j.helpers||[],B="",z="",F="",q=[],V=r.substr(0,r.lastIndexOf("/")+1);if(require.config.hbs=require.config.hbs||{},require.config.hbs._partials=require.config.hbs._partials||{},"{}"!==U)try{S=n.parse(U)}catch(W){console.log("couldn't parse meta for %s",p)}for(var G in O)if(O.hasOwnProperty(G)&&"string"==typeof O[G]){var p,J=O[G];p=J.match(/^(\.|\/)+/)?N(V+J):N(H+J),require.config.hbs._partials[p]=require.config.hbs._partials[p]||[],require.config.hbs._partials[p].references=require.config.hbs._partials[p].references||[],require.config.hbs._partials[p].references.push(J),require.config.hbs._loadedDeps=require.config.hbs._loadedDeps||{},q[G]="hbs!"+p}if(m=q.join("', '"),R=R.concat(S&&S.helpers?S.helpers:[]),b=M?"":function(){var t,e=[],i=k.hbs&&k.hbs.helperPathCallback?k.hbs.helperPathCallback:function(t){return(k.hbs&&k.hbs.helperDirectory?k.hbs.helperDirectory:f)+t};for(t=0;R.length>t;t++)e[t]="'"+i(R[t],p)+"'";return e}().join(","),b&&(b=","+b),S)try{S.styles&&(w=e.union(w,S.styles),require.isBrowser&&!k.isBuild?(E=document.head||document.getElementsByTagName("head")[0],e(S.styles).forEach(function(t){x[t]||(P=document.createElement("link"),P.href=k.baseUrl+u+t+".css",P.media="all",P.rel="stylesheet",P.type="text/css",E.appendChild(P),x[t]=P)})):k.isBuild&&function(){var t=require.nodeRequire("fs"),i=e(S.styles).map(function(t){return x[t]?"":(x[t]=!0,"@import url("+t+".css);\n")
}).join("\n");t.open(__dirname+d+g,h,"0666",function(e,n){t.writeSync(n,i,null,encoding="utf8"),t.close(n)}),h="a"}())}catch(W){console.log("error injecting styles")}k.isBuild||k.serverRender||(B="<!-- START - "+r+" -->",z="<!-- END - "+r+" -->",F="t.meta = "+U+";\n"+"t.helpers = "+n.stringify(R)+";\n"+"t.deps = "+n.stringify(q)+";\n"+"t.vars = "+n.stringify(D)+";\n");var Q=A?!1:e.extend(c,k.localeMapping),X=k.hbs||{},K=e.extend(X.compileOptions||{},{originalKeyFallback:X.originalKeyFallback}),Y=i(o,Q,K),Z=k.isBuild?"":"'"+r+"',";m&&(m=", '"+m+"'");var te=[];require.config.hbs._partials[r]&&(te=require.config.hbs._partials[r].references),o="/* START_TEMPLATE */\ndefine("+Z+"['hbs','handlebars'"+m+b+"], function( hbs, Handlebars ){ \n"+"var t = Handlebars.template("+Y.replace(/\uFEFF/,"")+");\n";for(var G=0;te.length>G;G++)o+="Handlebars.registerPartial('"+te[G]+"', t);\n";o+=F+"return t;\n"+"});\n"+"/* END_TEMPLATE */\n",k.isBuild&&(l[I]=o),k.isBuild||(o+="\r\n//@ sourceURL="+p),k.isBuild?(y.fromText(r,o),a([r],function(t){y(t)})):require(q,function(){y.fromText(o),a([r],function(t){y(t)})}),k.removeCombined&&p&&s.unlinkSync(p)})}var I=r+p;k.hbs=k.hbs||{};var A=!(1==k.hbs.i18n),M=0==k.hbs.helpers,H="";k.hbs.partialsUrl&&(H=k.hbs.partialsUrl,H.match(/\/$/)||(H+="/"));var L,O=k.hbs&&k.hbs.templateExtension===!1;if(L=O?a.toUrl(r):a.toUrl(r+"."+(k.hbs&&k.hbs.templateExtension?k.hbs.templateExtension:c)),A)$(!1);else{var U=(k.hbs&&k.hbs.i18nDirectory?k.hbs.i18nDirectory:m)+(k.locale||"en_us")+".json";try{b(a.toUrl(U),function(t){$(n.parse(t))})}catch(j){if(k.hbs)throw j;console.warn("hbs: Error reading "+U+", disabling i18n. Ignore this if you're using jam, otherwise check your i18n configuration.\n"),k.hbs={i18n:!1,helpers:!0},$(!1)}}}}}),define("template/helpers/memberUrl",["handlebars"],function(t){function e(t,e,i){return t?"/profile/"+i:window.siteMaster.memberUrl+e+"/lifeinvader"}return t.registerHelper("memberUrl",e),e}),define("template/helpers/avatarUrl",["handlebars","utils/backbone-utils"],function(t,e){function i(t,i,n){if(!t&&!i||!e.avatarCloudBase)return e.avatarDefault;if("http"===i.substring(0,4).toLowerCase())return i;var s="";return s=t?e.avatarCloudBase+"n/"+t.toLowerCase():e.avatarCloudBase+i,n=n||"",s+=n>=90?"/l":"/s",s=s.replace("http:",window.location.protocol).replace("https:",window.location.protocol),s.length?s:e.avatarDefault}return t.registerHelper("avatarUrl",i),i}),define("template/helpers/avatarSelector",["handlebars"],function(t){function e(t,e){for(var i=0;t.length>i;i++)if(t[i].Size===e)return t[i].AvatarUrl;return""}return t.registerHelper("avatarSelector",e),e}),define("hbs!template/profile/liker",["hbs","handlebars","template/helpers/memberUrl","template/helpers/avatarUrl","template/helpers/avatarSelector"],function(t,e){var i=e.template(function(t,e,i,n,s){function r(t,e){var n,s,r,c="";return c+="\r\n<li>\r\n ",n=i["if"].call(t,t&&t.IsProfileCharacter,{hash:{},inverse:v.program(4,o,e),fn:v.program(2,a,e)}),(n||0===n)&&(c+=n),c+='\r\n  </a>\r\n  <div class="info">\r\n    <a href="'+m((s=i.memberUrl||t&&t.memberUrl,r={hash:{}},s?s.call(t,t&&t.IsProfileCharacter,t&&t.Nickname,t&&t.ProfileId,r):g.call(t,"memberUrl",t&&t.IsProfileCharacter,t&&t.Nickname,t&&t.ProfileId,r)))+'" class="nickname userPop" data-nickname="',(s=i.Nickname)?n=s.call(t,{hash:{}}):(s=t&&t.Nickname,n=typeof s===f?s.call(t,{hash:{}}):s),c+=m(n)+'"\r\n	',n=i["if"].call(t,t&&t.IsProfileCharacter,{hash:{},inverse:v.program(8,h,e),fn:v.program(6,l,e)}),(n||0===n)&&(c+=n),c+='\r\n        data-jobtitle="',(s=i.JobTitle)?n=s.call(t,{hash:{}}):(s=t&&t.JobTitle,n=typeof s===f?s.call(t,{hash:{}}):s),c+=m(n)+'" data-memberUrl="'+m((s=i.memberUrl||t&&t.memberUrl,r={hash:{}},s?s.call(t,t&&t.IsProfileCharacter,t&&t.Nickname,t&&t.ProfileId,r):g.call(t,"memberUrl",t&&t.IsProfileCharacter,t&&t.Nickname,t&&t.ProfileId,r)))+'" data-shortabout="',(s=i.ShortAbout)?n=s.call(t,{hash:{}}):(s=t&&t.ShortAbout,n=typeof s===f?s.call(t,{hash:{}}):s),c+=m(n)+'">',(s=i.Nickname)?n=s.call(t,{hash:{}}):(s=t&&t.Nickname,n=typeof s===f?s.call(t,{hash:{}}):s),c+=m(n)+"</a>\r\n    <br/>\r\n      <span></span>\r\n    </div>\r\n</li>\r\n"}function a(t){var e,n,s,r="";return r+='\r\n  <a data-jobtitle="',(n=i.JobTitle)?e=n.call(t,{hash:{}}):(n=t&&t.JobTitle,e=typeof n===f?n.call(t,{hash:{}}):n),r+=m(e)+'" data-avatar="'+m((n=i.avatarSelector||t&&t.avatarSelector,s={hash:{}},n?n.call(t,t&&t.Avatars,"Size128",s):g.call(t,"avatarSelector",t&&t.Avatars,"Size128",s)))+'" data-nickname="',(n=i.Nickname)?e=n.call(t,{hash:{}}):(n=t&&t.Nickname,e=typeof n===f?n.call(t,{hash:{}}):n),r+=m(e)+'"\r\n  class="avatar userPop" href="#" data-original-title="" data-memberUrl="'+m((n=i.memberUrl||t&&t.memberUrl,s={hash:{}},n?n.call(t,t&&t.IsProfileCharacter,t&&t.Nickname,t&&t.ProfileId,s):g.call(t,"memberUrl",t&&t.IsProfileCharacter,t&&t.Nickname,t&&t.ProfileId,s)))+'" data-shortabout="',(n=i.ShortAbout)?e=n.call(t,{hash:{}}):(n=t&&t.ShortAbout,e=typeof n===f?n.call(t,{hash:{}}):n),r+=m(e)+'">\r\n    <img width="50" height="50" alt="" src="'+m((n=i.avatarSelector||t&&t.avatarSelector,s={hash:{}},n?n.call(t,t&&t.Avatars,"Size64",s):g.call(t,"avatarSelector",t&&t.Avatars,"Size64",s)))+'"/>\r\n '}function o(t){var e,n,s,r="";return r+='\r\n  <a data-jobtitle="" data-avatar="',(n=i.AvatarUrl)?e=n.call(t,{hash:{}}):(n=t&&t.AvatarUrl,e=typeof n===f?n.call(t,{hash:{}}):n),r+=m(e)+'" data-nickname="',(n=i.Nickname)?e=n.call(t,{hash:{}}):(n=t&&t.Nickname,e=typeof n===f?n.call(t,{hash:{}}):n),r+=m(e)+'"\r\n  class="avatar userPop" href="#" data-original-title="" data-memberUrl="'+m((n=i.memberUrl||t&&t.memberUrl,s={hash:{}},n?n.call(t,t&&t.IsProfileCharacter,t&&t.Nickname,t&&t.ProfileId,s):g.call(t,"memberUrl",t&&t.IsProfileCharacter,t&&t.Nickname,t&&t.ProfileId,s)))+'">\r\n    <img width="50" height="50" alt="" src="'+m((n=i.avatarUrl||t&&t.avatarUrl,s={hash:{}},n?n.call(t,t&&t.Nickname,t&&t.AvatarUrl,s):g.call(t,"avatarUrl",t&&t.Nickname,t&&t.AvatarUrl,s)))+'"/>\r\n '}function l(t){var e,n,s="";return s+='\r\n	data-avatar="'+m((e=i.avatarSelector||t&&t.avatarSelector,n={hash:{}},e?e.call(t,t&&t.Avatars,"Size128",n):g.call(t,"avatarSelector",t&&t.Avatars,"Size128",n)))+'"\r\n	'}function h(t){var e,n,s="";return s+='\r\n	 data-avatar="',(n=i.AvatarUrl)?e=n.call(t,{hash:{}}):(n=t&&t.AvatarUrl,e=typeof n===f?n.call(t,{hash:{}}):n),s+=m(e)+'"\r\n	 '}this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,t.helpers);var c,p,u,d="",f="function",m=this.escapeExpression,g=i.helperMissing,v=this,y=i.blockHelperMissing;return u={hash:{},inverse:v.noop,fn:v.program(1,r,s)},(p=i.Likers)?c=p.call(e,u):(p=e&&e.Likers,c=typeof p===f?p.call(e,u):p),i.Likers||(c=y.call(e,c,{hash:{},inverse:v.noop,fn:v.program(1,r,s)})),(c||0===c)&&(d+=c),d+='\r\n<li id="loadMore" class="loadMore"></li>'});return i}),define("hbs!template/profile/profileitems",["hbs","handlebars","template/helpers/avatarSelector"],function(t,e){var i=e.template(function(t,e,i,n,s){function r(t){var e,n,s,r="";return r+='\r\n<li>\r\n  <a data-jobtitle="',(n=i.JobTitle)?e=n.call(t,{hash:{}}):(n=t&&t.JobTitle,e=typeof n===h?n.call(t,{hash:{}}):n),r+=c(e)+'" data-avatar="'+c((n=i.avatarSelector||t&&t.avatarSelector,s={hash:{}},n?n.call(t,t&&t.Avatars,"Size128",s):p.call(t,"avatarSelector",t&&t.Avatars,"Size128",s)))+'" data-nickname="',(n=i.DisplayName)?e=n.call(t,{hash:{}}):(n=t&&t.DisplayName,e=typeof n===h?n.call(t,{hash:{}}):n),r+=c(e)+'"\r\n  class="avatar userPop" href="/profile/',(n=i.Id)?e=n.call(t,{hash:{}}):(n=t&&t.Id,e=typeof n===h?n.call(t,{hash:{}}):n),r+=c(e)+'" data-original-title="" data-memberurl="/profile/',(n=i.Id)?e=n.call(t,{hash:{}}):(n=t&&t.Id,e=typeof n===h?n.call(t,{hash:{}}):n),r+=c(e)+'" data-shortabout="',(n=i.ShortAbout)?e=n.call(t,{hash:{}}):(n=t&&t.ShortAbout,e=typeof n===h?n.call(t,{hash:{}}):n),r+=c(e)+'">\r\n    <img width="50" height="50" alt="" src="'+c((n=i.avatarSelector||t&&t.avatarSelector,s={hash:{}},n?n.call(t,t&&t.Avatars,"Size64",s):p.call(t,"avatarSelector",t&&t.Avatars,"Size64",s)))+'">\r\n  </a>\r\n  <div class="info">\r\n    <a href="/profile/',(n=i.Id)?e=n.call(t,{hash:{}}):(n=t&&t.Id,e=typeof n===h?n.call(t,{hash:{}}):n),r+=c(e)+'" class="nickname userPop" data-nickname="',(n=i.DisplayName)?e=n.call(t,{hash:{}}):(n=t&&t.DisplayName,e=typeof n===h?n.call(t,{hash:{}}):n),r+=c(e)+'" data-avatar="'+c((n=i.avatarSelector||t&&t.avatarSelector,s={hash:{}},n?n.call(t,t&&t.Avatars,"Size128",s):p.call(t,"avatarSelector",t&&t.Avatars,"Size128",s)))+'" data-memberurl="/profile/',(n=i.Id)?e=n.call(t,{hash:{}}):(n=t&&t.Id,e=typeof n===h?n.call(t,{hash:{}}):n),r+=c(e)+'"\r\n        data-jobtitle="',(n=i.JobTitle)?e=n.call(t,{hash:{}}):(n=t&&t.JobTitle,e=typeof n===h?n.call(t,{hash:{}}):n),r+=c(e)+'" data-shortabout="',(n=i.ShortAbout)?e=n.call(t,{hash:{}}):(n=t&&t.ShortAbout,e=typeof n===h?n.call(t,{hash:{}}):n),r+=c(e)+'">',(n=i.DisplayName)?e=n.call(t,{hash:{}}):(n=t&&t.DisplayName,e=typeof n===h?n.call(t,{hash:{}}):n),r+=c(e)+"</a>\r\n    <br>\r\n      <span>",(n=i.JobTitle)?e=n.call(t,{hash:{}}):(n=t&&t.JobTitle,e=typeof n===h?n.call(t,{hash:{}}):n),r+=c(e)+"</span>\r\n    </div>\r\n</li>\r\n"}this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,t.helpers);var a,o,l,h="function",c=this.escapeExpression,p=i.helperMissing,u=this,d=i.blockHelperMissing;return l={hash:{},inverse:u.noop,fn:u.program(1,r,s)},(o=i.Items)?a=o.call(e,l):(o=e&&e.Items,a=typeof o===h?o.call(e,l):o),i.Items||(a=d.call(e,a,{hash:{},inverse:u.noop,fn:u.program(1,r,s)})),a||0===a?a:""});return i}),define("template/helpers/charHandler",["handlebars"],function(t){function e(t){return t?t=t.replace("&#39;","'"):null}return t.registerHelper("charHandler",e),e}),define("hbs!template/profile/mediamodal",["hbs","handlebars","template/helpers/avatarSelector","template/helpers/memberUrl","template/helpers/avatarUrl","template/helpers/charHandler"],function(t,e){var i=e.template(function(t,e,i,n,s){function r(t){var e,n,s,r="";return r+='\r\n        <a href="#" class="avatar userPop" data-nickname="'+g((e=t&&t.profile,e=null==e||e===!1?e:e.DisplayName,typeof e===m?e.apply(t):e))+'" data-avatar="'+g((n=i.avatarSelector||t&&t.avatarSelector,s={hash:{}},n?n.call(t,(e=t&&t.profile,null==e||e===!1?e:e.Avatars),"Size128",s):v.call(t,"avatarSelector",(e=t&&t.profile,null==e||e===!1?e:e.Avatars),"Size128",s)))+'"\r\n            data-jobtitle="'+g((e=t&&t.profile,e=null==e||e===!1?e:e.JobTitle,typeof e===m?e.apply(t):e))+'" data-memberUrl="/profile/'+g((e=t&&t.profile,e=null==e||e===!1?e:e.Id,typeof e===m?e.apply(t):e))+'" data-shortabout="'+g((e=t&&t.profile,e=null==e||e===!1?e:e.ShortAbout,typeof e===m?e.apply(t):e))+'">\r\n          <img src="'+g((n=i.avatarSelector||t&&t.avatarSelector,s={hash:{}},n?n.call(t,(e=t&&t.profile,null==e||e===!1?e:e.Avatars),"Size64",s):v.call(t,"avatarSelector",(e=t&&t.profile,null==e||e===!1?e:e.Avatars),"Size64",s)))+'" width="64" height="64"/>\r\n        </a>\r\n        <div class="info">\r\n          <h6>\r\n            <a href="/profile/'+g((e=t&&t.profile,e=null==e||e===!1?e:e.Id,typeof e===m?e.apply(t):e))+'" class="userPop" data-nickname="'+g((e=t&&t.profile,e=null==e||e===!1?e:e.DisplayName,typeof e===m?e.apply(t):e))+'" data-avatar="'+g((n=i.avatarSelector||t&&t.avatarSelector,s={hash:{}},n?n.call(t,(e=t&&t.profile,null==e||e===!1?e:e.Avatars),"Size128",s):v.call(t,"avatarSelector",(e=t&&t.profile,null==e||e===!1?e:e.Avatars),"Size128",s)))+'" data-jobtitle="'+g((e=t&&t.profile,e=null==e||e===!1?e:e.JobTitle,typeof e===m?e.apply(t):e))+'" data-memberUrl="/profile/'+g((e=t&&t.profile,e=null==e||e===!1?e:e.Id,typeof e===m?e.apply(t):e))+'" data-shortabout="'+g((e=t&&t.profile,e=null==e||e===!1?e:e.ShortAbout,typeof e===m?e.apply(t):e))+'">\r\n              '+g((e=t&&t.profile,e=null==e||e===!1?e:e.DisplayName,typeof e===m?e.apply(t):e))+"\r\n            </a>\r\n          </h6>\r\n          ",(n=i.prettyTime)?e=n.call(t,{hash:{}}):(n=t&&t.prettyTime,e=typeof n===m?n.call(t,{hash:{}}):n),r+=g(e)+"\r\n        </div>\r\n        "}function a(t,e){var n,s,r,a="";return a+="\r\n        ",r={hash:{},inverse:y.noop,fn:y.program(4,o,e)},(s=i.comments)?n=s.call(t,r):(s=t&&t.comments,n=typeof s===m?s.call(t,r):s),i.comments||(n=b.call(t,n,{hash:{},inverse:y.noop,fn:y.program(4,o,e)})),(n||0===n)&&(a+=n),a+="\r\n        ",n=i["if"].call(t,t&&t.hasMore,{hash:{},inverse:y.noop,fn:y.program(9,c,e)}),(n||0===n)&&(a+=n),a+="\r\n        "}function o(t,e){var n,s,r="";return r+='\r\n        <div class="comments clearfix">\r\n          ',n=i["if"].call(t,t&&t.IsProfileComment,{hash:{},inverse:y.program(7,h,e),fn:y.program(5,l,e)}),(n||0===n)&&(r+=n),r+='\r\n          <p class="comments-meta">\r\n            ',(s=i.PrettyTime)?n=s.call(t,{hash:{}}):(s=t&&t.PrettyTime,n=typeof s===m?s.call(t,{hash:{}}):s),r+=g(n)+"\r\n          </p>\r\n        </div>\r\n        "}function l(t){var e,n,s,r="";return r+='\r\n          <a href="'+g((n=i.memberUrl||t&&t.memberUrl,s={hash:{}},n?n.call(t,t&&t.IsProfileComment,t&&t.Nickname,t&&t.ProfileId,s):v.call(t,"memberUrl",t&&t.IsProfileComment,t&&t.Nickname,t&&t.ProfileId,s)))+'" class="avatar userPop" data-nickname="',(n=i.Nickname)?e=n.call(t,{hash:{}}):(n=t&&t.Nickname,e=typeof n===m?n.call(t,{hash:{}}):n),r+=g(e)+'" data-avatar="'+g((n=i.avatarSelector||t&&t.avatarSelector,s={hash:{}},n?n.call(t,t&&t.Avatars,"Size128",s):v.call(t,"avatarSelector",t&&t.Avatars,"Size128",s)))+'"\r\n              data-memberUrl="'+g((n=i.memberUrl||t&&t.memberUrl,s={hash:{}},n?n.call(t,t&&t.IsProfileComment,t&&t.Nickname,t&&t.ProfileId,s):v.call(t,"memberUrl",t&&t.IsProfileComment,t&&t.Nickname,t&&t.ProfileId,s)))+'" data-jobtitle="',(n=i.JobTitle)?e=n.call(t,{hash:{}}):(n=t&&t.JobTitle,e=typeof n===m?n.call(t,{hash:{}}):n),r+=g(e)+'" data-shortabout="',(n=i.ShortAbout)?e=n.call(t,{hash:{}}):(n=t&&t.ShortAbout,e=typeof n===m?n.call(t,{hash:{}}):n),r+=g(e)+'">\r\n            <img src="'+g((n=i.avatarSelector||t&&t.avatarSelector,s={hash:{}},n?n.call(t,t&&t.Avatars,"Size64",s):v.call(t,"avatarSelector",t&&t.Avatars,"Size64",s)))+'" alt="" width="32" height="32"/>\r\n          </a>\r\n          <p>\r\n            <a href="'+g((n=i.memberUrl||t&&t.memberUrl,s={hash:{}},n?n.call(t,t&&t.IsProfileComment,t&&t.Nickname,t&&t.ProfileId,s):v.call(t,"memberUrl",t&&t.IsProfileComment,t&&t.Nickname,t&&t.ProfileId,s)))+'" class="userPop" data-nickname="',(n=i.Nickname)?e=n.call(t,{hash:{}}):(n=t&&t.Nickname,e=typeof n===m?n.call(t,{hash:{}}):n),r+=g(e)+'" data-avatar="'+g((n=i.avatarSelector||t&&t.avatarSelector,s={hash:{}},n?n.call(t,t&&t.Avatars,"Size128",s):v.call(t,"avatarSelector",t&&t.Avatars,"Size128",s)))+'" data-jobtitle="',(n=i.JobTitle)?e=n.call(t,{hash:{}}):(n=t&&t.JobTitle,e=typeof n===m?n.call(t,{hash:{}}):n),r+=g(e)+'" data-memberUrl="'+g((n=i.memberUrl||t&&t.memberUrl,s={hash:{}},n?n.call(t,t&&t.IsProfileComment,t&&t.Nickname,t&&t.ProfileId,s):v.call(t,"memberUrl",t&&t.IsProfileComment,t&&t.Nickname,t&&t.ProfileId,s)))+'" data-shortabout="',(n=i.ShortAbout)?e=n.call(t,{hash:{}}):(n=t&&t.ShortAbout,e=typeof n===m?n.call(t,{hash:{}}):n),r+=g(e)+'">\r\n              ',(n=i.Nickname)?e=n.call(t,{hash:{}}):(n=t&&t.Nickname,e=typeof n===m?n.call(t,{hash:{}}):n),r+=g(e)+"\r\n            </a> "+g((n=i.charHandler||t&&t.charHandler,s={hash:{}},n?n.call(t,t&&t.Text,s):v.call(t,"charHandler",t&&t.Text,s)))+"\r\n          </p>\r\n          "}function h(t){var e,n,s,r="";return r+='\r\n          <a href="'+g((n=i.memberUrl||t&&t.memberUrl,s={hash:{}},n?n.call(t,t&&t.IsProfileComment,t&&t.Nickname,t&&t.ProfileId,s):v.call(t,"memberUrl",t&&t.IsProfileComment,t&&t.Nickname,t&&t.ProfileId,s)))+'" class="avatar userPop" data-nickname="',(n=i.Nickname)?e=n.call(t,{hash:{}}):(n=t&&t.Nickname,e=typeof n===m?n.call(t,{hash:{}}):n),r+=g(e)+'" data-avatar="',(n=i.AvatarUrl)?e=n.call(t,{hash:{}}):(n=t&&t.AvatarUrl,e=typeof n===m?n.call(t,{hash:{}}):n),r+=g(e)+'"\r\n              data-memberUrl="'+g((n=i.memberUrl||t&&t.memberUrl,s={hash:{}},n?n.call(t,t&&t.IsProfileComment,t&&t.Nickname,t&&t.ProfileId,s):v.call(t,"memberUrl",t&&t.IsProfileComment,t&&t.Nickname,t&&t.ProfileId,s)))+'" data-jobtitle="',(n=i.JobTitle)?e=n.call(t,{hash:{}}):(n=t&&t.JobTitle,e=typeof n===m?n.call(t,{hash:{}}):n),r+=g(e)+'" data-shortabout="">\r\n            <img src="'+g((n=i.avatarUrl||t&&t.avatarUrl,s={hash:{}},n?n.call(t,t&&t.Nickname,t&&t.AvatarUrl,32,s):v.call(t,"avatarUrl",t&&t.Nickname,t&&t.AvatarUrl,32,s)))+'" alt="" width="32" height="32"/>\r\n          </a>\r\n          <p>\r\n            <a href="'+g((n=i.memberUrl||t&&t.memberUrl,s={hash:{}},n?n.call(t,t&&t.IsProfileComment,t&&t.Nickname,t&&t.ProfileId,s):v.call(t,"memberUrl",t&&t.IsProfileComment,t&&t.Nickname,t&&t.ProfileId,s)))+'" class="userPop" data-nickname="',(n=i.Nickname)?e=n.call(t,{hash:{}}):(n=t&&t.Nickname,e=typeof n===m?n.call(t,{hash:{}}):n),r+=g(e)+'" data-avatar="',(n=i.AvatarUrl)?e=n.call(t,{hash:{}}):(n=t&&t.AvatarUrl,e=typeof n===m?n.call(t,{hash:{}}):n),r+=g(e)+'" data-jobtitle="',(n=i.JobTitle)?e=n.call(t,{hash:{}}):(n=t&&t.JobTitle,e=typeof n===m?n.call(t,{hash:{}}):n),r+=g(e)+'" data-memberUrl="'+g((n=i.memberUrl||t&&t.memberUrl,s={hash:{}},n?n.call(t,t&&t.IsProfileComment,t&&t.Nickname,t&&t.ProfileId,s):v.call(t,"memberUrl",t&&t.IsProfileComment,t&&t.Nickname,t&&t.ProfileId,s)))+'">\r\n              ',(n=i.Nickname)?e=n.call(t,{hash:{}}):(n=t&&t.Nickname,e=typeof n===m?n.call(t,{hash:{}}):n),r+=g(e)+"\r\n            </a> "+g((n=i.charHandler||t&&t.charHandler,s={hash:{}},n?n.call(t,t&&t.Text,s):v.call(t,"charHandler",t&&t.Text,s)))+"\r\n          </p>\r\n          "}function c(t){var e,n,s="";return s+='\r\n        <div class="load-more"><a href="/post/',(n=i.contentid)?e=n.call(t,{hash:{}}):(n=t&&t.contentid,e=typeof n===m?n.call(t,{hash:{}}):n),s+=g(e)+'">Load More Comments</a></div>\r\n        '}function p(t){var e,n,s,r="";return r+='\r\n        <div id="commentsSection"></div>\r\n        <div class="add-comment clearfix">\r\n          <a href="#" class="avatar userPop" data-nickname="'+g((e=t&&t.loggedInUser,e=null==e||e===!1?e:e.Nickname,typeof e===m?e.apply(t):e))+'" data-avatar="'+g((e=t&&t.loggedInUser,e=null==e||e===!1?e:e.AvatarUrl,typeof e===m?e.apply(t):e))+'">\r\n            <img src="'+g((n=i.avatarUrl||t&&t.avatarUrl,s={hash:{}},n?n.call(t,(e=t&&t.loggedInUser,null==e||e===!1?e:e.Nickname),(e=t&&t.loggedInUser,null==e||e===!1?e:e.AvatarUrl),32,s):v.call(t,"avatarUrl",(e=t&&t.loggedInUser,null==e||e===!1?e:e.Nickname),(e=t&&t.loggedInUser,null==e||e===!1?e:e.AvatarUrl),32,s)))+'" alt="" width="32" height="32"/>\r\n          </a>\r\n          <textarea type="text" placeholder="Write a comment..." maxlength="140" class="resized" data-id="',(n=i.contentid)?e=n.call(t,{hash:{}}):(n=t&&t.contentid,e=typeof n===m?n.call(t,{hash:{}}):n),r+=g(e)+'"></textarea>\r\n        </div>        \r\n        '}this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,t.helpers);var u,d,f="",m="function",g=this.escapeExpression,v=i.helperMissing,y=this,b=i.blockHelperMissing;return f+='<div class="modal-body">\r\n  <div id="single-media" class="container">\r\n    <ul id="media-viewer" class="owl-carousel">\r\n      <li>\r\n      	<div class="inner">',(d=i.mediaSource)?u=d.call(e,{hash:{}}):(d=e&&e.mediaSource,u=typeof d===m?d.call(e,{hash:{}}):d),(u||0===u)&&(f+=u),f+='</div><div class="caption-bottom">',(d=i.mediaCaption)?u=d.call(e,{hash:{}}):(d=e&&e.mediaCaption,u=typeof d===m?d.call(e,{hash:{}}):d),f+=g(u)+'</div>\r\n      </li>\r\n    </ul>\r\n  </div>\r\n  <div class="sidebar clearfix">\r\n    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">\r\n      &times;\r\n    </button>\r\n    <div class="info-wrapper">\r\n      <div class="user-wrapper post">\r\n        ',u=i["if"].call(e,e&&e.profile,{hash:{},inverse:y.noop,fn:y.program(1,r,s)}),(u||0===u)&&(f+=u),f+='\r\n        <p class="user-comment">\r\n          ',(d=i.postText)?u=d.call(e,{hash:{}}):(d=e&&e.postText,u=typeof d===m?d.call(e,{hash:{}}):d),(u||0===u)&&(f+=u),f+="\r\n        </p>\r\n        ",u=i["if"].call(e,e&&e.comments,{hash:{},inverse:y.noop,fn:y.program(3,a,s)}),(u||0===u)&&(f+=u),f+="\r\n        ",u=i["if"].call(e,e&&e.loggedInUser,{hash:{},inverse:y.noop,fn:y.program(11,p,s)}),(u||0===u)&&(f+=u),f+='\r\n      </div>\r\n    </div>\r\n    <div class="ad-wrapper" id="modalAd">\r\n    </div>\r\n    <div class="loading">\r\n    </div>\r\n  </div>\r\n  <div class="loading-mask">\r\n  </div>\r\n</div>'});return i}),define("hbs!template/profile/modalusers",["hbs","handlebars"],function(t,e){var i=e.template(function(t,e,i){return this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,t.helpers),'<div class="modal-users-wrap">\r\n    <div class="modal-header">\r\n        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">\r\n            &times;</button>\r\n        <h3 class="myModalLabel">\r\n        </h3>\r\n    </div>\r\n    <div class="modal-body">\r\n        <div class="antiscroll-wrap">\r\n            <div class="box-wrap">\r\n                <div class="antiscroll-inner">\r\n                    <ul id="modal-users-list">\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class="loading-mask">\r\n        </div>\r\n    </div>\r\n    <div class="modal-footer">\r\n        <button class="btn btn-li" data-dismiss="modal" aria-hidden="true">\r\n            Close</button>\r\n    </div>\r\n</div>'});return i}),define("template/helpers/imageSelector",["handlebars"],function(t){function e(t,e){for(var i=0;t.length>i;i++)if(t[i].Size===e)return t[i].ImageUrl;return""}return t.registerHelper("imageSelector",e),e}),define("hbs!template/profile/picturemodal",["hbs","handlebars","template/helpers/imageSelector","template/helpers/avatarSelector"],function(t,e){var i=e.template(function(t,e,i,n,s){function r(t){var e,n,s,r="";return r+='\r\n          <li data-id="',(n=i.Id)?e=n.call(t,{hash:{}}):(n=t&&t.Id,e=typeof n===p?n.call(t,{hash:{}}):n),r+=u(e)+'">\r\n              <div class="wrap"><img src="'+u((n=i.imageSelector||t&&t.imageSelector,s={hash:{}},n?n.call(t,t&&t.Images,"large",s):d.call(t,"imageSelector",t&&t.Images,"large",s)))+'" width="660" height="373" /><div class="caption-bottom">',(n=i.Caption)?e=n.call(t,{hash:{}}):(n=t&&t.Caption,e=typeof n===p?n.call(t,{hash:{}}):n),r+=u(e)+"</div></div>\r\n          </li>\r\n          "}function a(t){var e,n,s,r="";return r+='\r\n        <a href="/profile/'+u((e=t&&t.profile,e=null==e||e===!1?e:e.Id,typeof e===p?e.apply(t):e))+'" class="avatar userPop" data-nickname="'+u((e=t&&t.profile,e=null==e||e===!1?e:e.DisplayName,typeof e===p?e.apply(t):e))+'" data-avatar="'+u((n=i.avatarSelector||t&&t.avatarSelector,s={hash:{}},n?n.call(t,(e=t&&t.profile,null==e||e===!1?e:e.Avatars),"Size128",s):d.call(t,"avatarSelector",(e=t&&t.profile,null==e||e===!1?e:e.Avatars),"Size128",s)))+'"\r\n            data-jobtitle="'+u((e=t&&t.profile,e=null==e||e===!1?e:e.JobTitle,typeof e===p?e.apply(t):e))+'" data-memberUrl="/profile/'+u((e=t&&t.profile,e=null==e||e===!1?e:e.Id,typeof e===p?e.apply(t):e))+'" data-shortabout="'+u((e=t&&t.profile,e=null==e||e===!1?e:e.ShortAbout,typeof e===p?e.apply(t):e))+'">\r\n          <img src="'+u((n=i.avatarSelector||t&&t.avatarSelector,s={hash:{}},n?n.call(t,(e=t&&t.profile,null==e||e===!1?e:e.Avatars),"Size64",s):d.call(t,"avatarSelector",(e=t&&t.profile,null==e||e===!1?e:e.Avatars),"Size64",s)))+'" width="64" height="64"/>\r\n        </a>\r\n        <div class="info">\r\n          <h6>\r\n            <a href="/profile/'+u((e=t&&t.profile,e=null==e||e===!1?e:e.Id,typeof e===p?e.apply(t):e))+'" class="userPop" data-nickname="'+u((e=t&&t.profile,e=null==e||e===!1?e:e.DisplayName,typeof e===p?e.apply(t):e))+'" data-avatar="'+u((n=i.avatarSelector||t&&t.avatarSelector,s={hash:{}},n?n.call(t,(e=t&&t.profile,null==e||e===!1?e:e.Avatars),"Size128",s):d.call(t,"avatarSelector",(e=t&&t.profile,null==e||e===!1?e:e.Avatars),"Size128",s)))+'" data-jobtitle="'+u((e=t&&t.profile,e=null==e||e===!1?e:e.JobTitle,typeof e===p?e.apply(t):e))+'" data-memberUrl="/profile/'+u((e=t&&t.profile,e=null==e||e===!1?e:e.Id,typeof e===p?e.apply(t):e))+'" data-shortabout="'+u((e=t&&t.profile,e=null==e||e===!1?e:e.ShortAbout,typeof e===p?e.apply(t):e))+'">\r\n              '+u((e=t&&t.profile,e=null==e||e===!1?e:e.DisplayName,typeof e===p?e.apply(t):e))+'\r\n            </a>\r\n          </h6>\r\n          <div id="timeDiv"></div>\r\n        </div>\r\n        '}this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,t.helpers);var o,l,h,c="",p="function",u=this.escapeExpression,d=i.helperMissing,f=this,m=i.blockHelperMissing;return c+='<div class="modal-body">\r\n  <div class="container">\r\n      <ul id="media-viewer" class="owl-carousel">\r\n          ',h={hash:{},inverse:f.noop,fn:f.program(1,r,s)},(l=i.posts)?o=l.call(e,h):(l=e&&e.posts,o=typeof l===p?l.call(e,h):l),i.posts||(o=m.call(e,o,{hash:{},inverse:f.noop,fn:f.program(1,r,s)})),(o||0===o)&&(c+=o),c+='\r\n      </ul>\r\n  </div>\r\n  <div class="sidebar clearfix">\r\n    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">\r\n      &times;\r\n    </button>\r\n    <div class="info-wrapper">\r\n      <div class="user-wrapper post">\r\n        ',o=i["if"].call(e,e&&e.profile,{hash:{},inverse:f.noop,fn:f.program(3,a,s)}),(o||0===o)&&(c+=o),c+='\r\n        <p class="user-comment" id="postText">\r\n        </p>\r\n        <div id="postComments">\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class="ad-wrapper" id="pictureViewerAd">\r\n    </div>\r\n    <div class="loading">\r\n    </div>\r\n  </div>\r\n  <div class="loading-mask">\r\n  </div>\r\n</div>'});return i}),define("hbs!template/profile/comments",["hbs","handlebars","template/helpers/memberUrl","template/helpers/avatarUrl","template/helpers/charHandler","template/helpers/avatarSelector"],function(t,e){var i=e.template(function(t,e,i,n,s){function r(t,e){var n,s,r="";return r+='\r\n        <div class="comments clearfix">\r\n          ',n=i["if"].call(t,t&&t.IsProfileComment,{hash:{},inverse:v.program(4,o,e),fn:v.program(2,a,e)}),(n||0===n)&&(r+=n),r+='\r\n          <p class="comments-meta">\r\n            ',(s=i.PrettyTime)?n=s.call(t,{hash:{}}):(s=t&&t.PrettyTime,n=typeof s===g?s.call(t,{hash:{}}):s),r+=m(n)+"\r\n          </p>\r\n        </div>\r\n        "}function a(t){var e,n,s,r="";return r+='\r\n          <a href="'+m((n=i.memberUrl||t&&t.memberUrl,s={hash:{}},n?n.call(t,t&&t.IsProfileComment,t&&t.Nickname,t&&t.ProfileId,s):f.call(t,"memberUrl",t&&t.IsProfileComment,t&&t.Nickname,t&&t.ProfileId,s)))+'" class="avatar userPop" data-nickname="',(n=i.Nickname)?e=n.call(t,{hash:{}}):(n=t&&t.Nickname,e=typeof n===g?n.call(t,{hash:{}}):n),r+=m(e)+'" data-avatar="'+m((n=i.avatarSelector||t&&t.avatarSelector,s={hash:{}},n?n.call(t,t&&t.Avatars,"Size128",s):f.call(t,"avatarSelector",t&&t.Avatars,"Size128",s)))+'"\r\n              data-jobtitle="',(n=i.JobTitle)?e=n.call(t,{hash:{}}):(n=t&&t.JobTitle,e=typeof n===g?n.call(t,{hash:{}}):n),r+=m(e)+'" data-memberUrl="'+m((n=i.memberUrl||t&&t.memberUrl,s={hash:{}},n?n.call(t,t&&t.IsProfileComment,t&&t.Nickname,t&&t.ProfileId,s):f.call(t,"memberUrl",t&&t.IsProfileComment,t&&t.Nickname,t&&t.ProfileId,s)))+'" data-jobtitle="',(n=i.JobTitle)?e=n.call(t,{hash:{}}):(n=t&&t.JobTitle,e=typeof n===g?n.call(t,{hash:{}}):n),r+=m(e)+'" data-shortabout="',(n=i.ShortAbout)?e=n.call(t,{hash:{}}):(n=t&&t.ShortAbout,e=typeof n===g?n.call(t,{hash:{}}):n),r+=m(e)+'">\r\n            <img src="'+m((n=i.avatarSelector||t&&t.avatarSelector,s={hash:{}},n?n.call(t,t&&t.Avatars,"Size64",s):f.call(t,"avatarSelector",t&&t.Avatars,"Size64",s)))+'" alt="" width="32" height="32"/>\r\n          </a>\r\n          <p>\r\n            <a href="'+m((n=i.memberUrl||t&&t.memberUrl,s={hash:{}},n?n.call(t,t&&t.IsProfileComment,t&&t.Nickname,t&&t.ProfileId,s):f.call(t,"memberUrl",t&&t.IsProfileComment,t&&t.Nickname,t&&t.ProfileId,s)))+'" class="userPop" data-nickname="',(n=i.Nickname)?e=n.call(t,{hash:{}}):(n=t&&t.Nickname,e=typeof n===g?n.call(t,{hash:{}}):n),r+=m(e)+'" data-avatar="'+m((n=i.avatarSelector||t&&t.avatarSelector,s={hash:{}},n?n.call(t,t&&t.Avatars,"Size128",s):f.call(t,"avatarSelector",t&&t.Avatars,"Size128",s)))+'" data-jobtitle="',(n=i.JobTitle)?e=n.call(t,{hash:{}}):(n=t&&t.JobTitle,e=typeof n===g?n.call(t,{hash:{}}):n),r+=m(e)+'" data-memberUrl="'+m((n=i.memberUrl||t&&t.memberUrl,s={hash:{}},n?n.call(t,t&&t.IsProfileComment,t&&t.Nickname,t&&t.ProfileId,s):f.call(t,"memberUrl",t&&t.IsProfileComment,t&&t.Nickname,t&&t.ProfileId,s)))+'" data-shortabout="',(n=i.ShortAbout)?e=n.call(t,{hash:{}}):(n=t&&t.ShortAbout,e=typeof n===g?n.call(t,{hash:{}}):n),r+=m(e)+'">\r\n              ',(n=i.Nickname)?e=n.call(t,{hash:{}}):(n=t&&t.Nickname,e=typeof n===g?n.call(t,{hash:{}}):n),r+=m(e)+"\r\n            </a> "+m((n=i.charHandler||t&&t.charHandler,s={hash:{}},n?n.call(t,t&&t.Text,s):f.call(t,"charHandler",t&&t.Text,s)))+"\r\n          </p>\r\n          "}function o(t){var e,n,s,r="";return r+='\r\n          <a href="'+m((n=i.memberUrl||t&&t.memberUrl,s={hash:{}},n?n.call(t,t&&t.IsProfileComment,t&&t.Nickname,t&&t.ProfileId,s):f.call(t,"memberUrl",t&&t.IsProfileComment,t&&t.Nickname,t&&t.ProfileId,s)))+'" class="avatar userPop" data-nickname="',(n=i.Nickname)?e=n.call(t,{hash:{}}):(n=t&&t.Nickname,e=typeof n===g?n.call(t,{hash:{}}):n),r+=m(e)+'" data-avatar="',(n=i.AvatarUrl)?e=n.call(t,{hash:{}}):(n=t&&t.AvatarUrl,e=typeof n===g?n.call(t,{hash:{}}):n),r+=m(e)+'"\r\n              data-jobtitle="" data-memberUrl="'+m((n=i.memberUrl||t&&t.memberUrl,s={hash:{}},n?n.call(t,t&&t.IsProfileComment,t&&t.Nickname,t&&t.ProfileId,s):f.call(t,"memberUrl",t&&t.IsProfileComment,t&&t.Nickname,t&&t.ProfileId,s)))+'" data-jobtitle="',(n=i.JobTitle)?e=n.call(t,{hash:{}}):(n=t&&t.JobTitle,e=typeof n===g?n.call(t,{hash:{}}):n),r+=m(e)+'" data-shortabout="">\r\n            <img src="'+m((n=i.avatarUrl||t&&t.avatarUrl,s={hash:{}},n?n.call(t,t&&t.Nickname,t&&t.AvatarUrl,32,s):f.call(t,"avatarUrl",t&&t.Nickname,t&&t.AvatarUrl,32,s)))+'" alt="" width="32" height="32"/>\r\n          </a>\r\n          <p>\r\n            <a href="'+m((n=i.memberUrl||t&&t.memberUrl,s={hash:{}},n?n.call(t,t&&t.IsProfileComment,t&&t.Nickname,t&&t.ProfileId,s):f.call(t,"memberUrl",t&&t.IsProfileComment,t&&t.Nickname,t&&t.ProfileId,s)))+'" class="userPop" data-nickname="',(n=i.Nickname)?e=n.call(t,{hash:{}}):(n=t&&t.Nickname,e=typeof n===g?n.call(t,{hash:{}}):n),r+=m(e)+'" data-avatar="',(n=i.AvatarUrl)?e=n.call(t,{hash:{}}):(n=t&&t.AvatarUrl,e=typeof n===g?n.call(t,{hash:{}}):n),r+=m(e)+'" data-jobtitle="',(n=i.JobTitle)?e=n.call(t,{hash:{}}):(n=t&&t.JobTitle,e=typeof n===g?n.call(t,{hash:{}}):n),r+=m(e)+'" data-memberUrl="'+m((n=i.memberUrl||t&&t.memberUrl,s={hash:{}},n?n.call(t,t&&t.IsProfileComment,t&&t.Nickname,t&&t.ProfileId,s):f.call(t,"memberUrl",t&&t.IsProfileComment,t&&t.Nickname,t&&t.ProfileId,s)))+'" data-shortabout="',(n=i.ShortAbout)?e=n.call(t,{hash:{}}):(n=t&&t.ShortAbout,e=typeof n===g?n.call(t,{hash:{}}):n),r+=m(e)+'">\r\n              ',(n=i.Nickname)?e=n.call(t,{hash:{}}):(n=t&&t.Nickname,e=typeof n===g?n.call(t,{hash:{}}):n),r+=m(e)+"\r\n            </a> "+m((n=i.charHandler||t&&t.charHandler,s={hash:{}},n?n.call(t,t&&t.Text,s):f.call(t,"charHandler",t&&t.Text,s)))+"\r\n          </p>\r\n          "}function l(t){var e,n,s="";return s+='\r\n		<a href="/post/',(n=i.contentid)?e=n.call(t,{hash:{}}):(n=t&&t.contentid,e=typeof n===g?n.call(t,{hash:{}}):n),s+=m(e)+'">Load More Comments</a>\r\n		'}function h(t){var e,n,s,r="";return r+='\r\n        <div id="commentsSection"></div>\r\n        <div class="add-comment clearfix">\r\n          <a href="#" class="avatar userPop" data-nickname="'+m((e=t&&t.loggedInUser,e=null==e||e===!1?e:e.Nickname,typeof e===g?e.apply(t):e))+'" data-avatar="'+m((e=t&&t.loggedInUser,e=null==e||e===!1?e:e.AvatarUrl,typeof e===g?e.apply(t):e))+'">\r\n            <img src="'+m((n=i.avatarUrl||t&&t.avatarUrl,s={hash:{}},n?n.call(t,(e=t&&t.loggedInUser,null==e||e===!1?e:e.Nickname),(e=t&&t.loggedInUser,null==e||e===!1?e:e.AvatarUrl),32,s):f.call(t,"avatarUrl",(e=t&&t.loggedInUser,null==e||e===!1?e:e.Nickname),(e=t&&t.loggedInUser,null==e||e===!1?e:e.AvatarUrl),32,s)))+'" alt="" width="32" height="32"/>\r\n          </a>\r\n          <textarea type="text" placeholder="Write a comment..." maxlength="140" class="resized" data-id="',(n=i.contentid)?e=n.call(t,{hash:{}}):(n=t&&t.contentid,e=typeof n===g?n.call(t,{hash:{}}):n),r+=m(e)+'"></textarea>\r\n        </div>        \r\n        '
}this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,t.helpers);var c,p,u,d="",f=i.helperMissing,m=this.escapeExpression,g="function",v=this,y=i.blockHelperMissing;return d+="        ",u={hash:{},inverse:v.noop,fn:v.program(1,r,s)},(p=i.comments)?c=p.call(e,u):(p=e&&e.comments,c=typeof p===g?p.call(e,u):p),i.comments||(c=y.call(e,c,{hash:{},inverse:v.noop,fn:v.program(1,r,s)})),(c||0===c)&&(d+=c),d+="\r\n		",c=i["if"].call(e,e&&e.hasMore,{hash:{},inverse:v.noop,fn:v.program(6,l,s)}),(c||0===c)&&(d+=c),d+="\r\n        ",c=i["if"].call(e,e&&e.loggedInUser,{hash:{},inverse:v.noop,fn:v.program(8,h,s)}),(c||0===c)&&(d+=c),d});return i}),define("template/helpers/stalkerCount",["handlebars"],function(t){function e(t,e){return t&&0!=t?1==t?"1 is stalking "+e:""+t+" are stalking "+e:"0 are stalking "+e}return t.registerHelper("stalkerCount",e),e}),define("hbs!template/header/ads",["hbs","handlebars","template/helpers/stalkerCount"],function(t,e){var i=e.template(function(t,e,i,n,s){function r(t,e){var n,s,r,o="";return o+="\r\n<h3>\r\n  Sponsored\r\n</h3>\r\n",r={hash:{},inverse:p.noop,fn:p.program(2,a,e)},(s=i.adverts)?n=s.call(t,r):(s=t&&t.adverts,n=typeof s===l?s.call(t,r):s),i.adverts||(n=u.call(t,n,{hash:{},inverse:p.noop,fn:p.program(2,a,e)})),(n||0===n)&&(o+=n),o+="\r\n"}function a(t){var e,n,s,r="";return r+='\r\n<div class="ad">\r\n  <h5>\r\n    <a href="',(n=i.LinkUrl)?e=n.call(t,{hash:{}}):(n=t&&t.LinkUrl,e=typeof n===l?n.call(t,{hash:{}}):n),r+=h(e)+'">',(n=i.Title)?e=n.call(t,{hash:{}}):(n=t&&t.Title,e=typeof n===l?n.call(t,{hash:{}}):n),r+=h(e)+'</a>\r\n  </h5>\r\n  <a href="',(n=i.LinkUrl)?e=n.call(t,{hash:{}}):(n=t&&t.LinkUrl,e=typeof n===l?n.call(t,{hash:{}}):n),r+=h(e)+'">\r\n    <img src="',(n=i.cdnUrl)?e=n.call(t,{hash:{}}):(n=t&&t.cdnUrl,e=typeof n===l?n.call(t,{hash:{}}):n),r+=h(e),(n=i.ImageUrl)?e=n.call(t,{hash:{}}):(n=t&&t.ImageUrl,e=typeof n===l?n.call(t,{hash:{}}):n),r+=h(e)+'" alt="" width="220" height="110"/>\r\n  </a>\r\n  <p>\r\n    ',(n=i.Text)?e=n.call(t,{hash:{}}):(n=t&&t.Text,e=typeof n===l?n.call(t,{hash:{}}):n),r+=h(e)+'\r\n  </p>\r\n  <p class="meta">\r\n    '+h((n=i.stalkerCount||t&&t.stalkerCount,s={hash:{}},n?n.call(t,t&&t.LikesCount,t&&t.Title,s):c.call(t,"stalkerCount",t&&t.LikesCount,t&&t.Title,s)))+"\r\n  </p>\r\n</div>\r\n<hr/>\r\n"}this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,t.helpers);var o,l="function",h=this.escapeExpression,c=i.helperMissing,p=this,u=i.blockHelperMissing;return o=i["if"].call(e,e&&e.adverts,{hash:{},inverse:p.noop,fn:p.program(1,r,s)}),o||0===o?o:""});return i}),define("hbs!template/profile/newpost",["hbs","handlebars"],function(t,e){var i=e.template(function(t,e,i){return this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,t.helpers),'<div class="alert">\r\n	<button type="button" class="close" data-dismiss="alert">&times;</button>\r\n	<strong>Thanks!</strong> Your comment has been submitted for moderation.\r\n</div>'});return i}),define("hbs!template/profile/posterror",["hbs","handlebars"],function(t,e){var i=e.template(function(t,e,i,n,s){function r(t){var e,n,s="";return s+="\r\n     ",(n=i.ErrorMessage)?e=n.call(t,{hash:{}}):(n=t&&t.ErrorMessage,e=typeof n===h?n.call(t,{hash:{}}):n),s+=c(e)+"\r\n  "}function a(){return"\r\n  Something went wrong there, please try again.\r\n  "}this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,t.helpers);var o,l="",h="function",c=this.escapeExpression,p=this;return l+='<div class="alert alert-error">\r\n  <button type="button" class="close" data-dismiss="alert">&times;</button>\r\n  <strong>Oops!</strong> \r\n  ',o=i["if"].call(e,e&&e.ErrorMessage,{hash:{},inverse:p.program(3,a,s),fn:p.program(1,r,s)}),(o||0===o)&&(l+=o),l+="\r\n</div>"});return i}),define("hbs!template/profile/rulesmodal",["hbs","handlebars"],function(t,e){var i=e.template(function(t,e,i){return this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,t.helpers),'<div class="modal-header">\r\n  <button type="button" class="close" data-dismiss="modal" aria-hidden="true">\r\n    &times;\r\n  </button>\r\n  <h3 class="myModalLabel">\r\n  </h3>\r\n</div>\r\n<div class="modal-body">\r\n  <p>Rules and exclusion text here.</p>\r\n</div>\r\n<div class="modal-footer">\r\n  <button class="btn btn-li" data-dismiss="modal" aria-hidden="true">\r\n    Close\r\n  </button>\r\n</div>'});return i}),define("hbs!template/profile/likeritem",["hbs","handlebars","template/helpers/memberUrl","template/helpers/avatarUrl","template/helpers/avatarSelector"],function(t,e){var i=e.template(function(t,e,i,n,s){function r(t){var e,n,s,r="";return r+='\r\n  <a data-jobtitle="',(n=i.JobTitle)?e=n.call(t,{hash:{}}):(n=t&&t.JobTitle,e=typeof n===d?n.call(t,{hash:{}}):n),r+=f(e)+'" data-avatar="'+f((n=i.avatarSelector||t&&t.avatarSelector,s={hash:{}},n?n.call(t,t&&t.Avatars,"Size128",s):m.call(t,"avatarSelector",t&&t.Avatars,"Size128",s)))+'" data-nickname="',(n=i.Nickname)?e=n.call(t,{hash:{}}):(n=t&&t.Nickname,e=typeof n===d?n.call(t,{hash:{}}):n),r+=f(e)+'"\r\n  class="avatar userPop" href="#" data-original-title="" data-memberUrl="'+f((n=i.memberUrl||t&&t.memberUrl,s={hash:{}},n?n.call(t,t&&t.IsProfileCharacter,t&&t.Nickname,t&&t.ProfileId,s):m.call(t,"memberUrl",t&&t.IsProfileCharacter,t&&t.Nickname,t&&t.ProfileId,s)))+'" data-shortabout="',(n=i.ShortAbout)?e=n.call(t,{hash:{}}):(n=t&&t.ShortAbout,e=typeof n===d?n.call(t,{hash:{}}):n),r+=f(e)+'">\r\n    <img width="50" height="50" alt="" src="'+f((n=i.avatarSelector||t&&t.avatarSelector,s={hash:{}},n?n.call(t,t&&t.Avatars,"Size64",s):m.call(t,"avatarSelector",t&&t.Avatars,"Size64",s)))+'"/>\r\n '}function a(t){var e,n,s,r="";return r+='\r\n  <a data-jobtitle="" data-avatar="',(n=i.AvatarUrl)?e=n.call(t,{hash:{}}):(n=t&&t.AvatarUrl,e=typeof n===d?n.call(t,{hash:{}}):n),r+=f(e)+'" data-nickname="',(n=i.Nickname)?e=n.call(t,{hash:{}}):(n=t&&t.Nickname,e=typeof n===d?n.call(t,{hash:{}}):n),r+=f(e)+'"\r\n  class="avatar userPop" href="#" data-original-title="" data-memberUrl="'+f((n=i.memberUrl||t&&t.memberUrl,s={hash:{}},n?n.call(t,t&&t.IsProfileCharacter,t&&t.Nickname,t&&t.ProfileId,s):m.call(t,"memberUrl",t&&t.IsProfileCharacter,t&&t.Nickname,t&&t.ProfileId,s)))+'">\r\n    <img width="50" height="50" alt="" src="'+f((n=i.avatarUrl||t&&t.avatarUrl,s={hash:{}},n?n.call(t,t&&t.Nickname,t&&t.AvatarUrl,s):m.call(t,"avatarUrl",t&&t.Nickname,t&&t.AvatarUrl,s)))+'"/>\r\n '}function o(t){var e,n,s="";return s+='\r\n	data-avatar="'+f((e=i.avatarSelector||t&&t.avatarSelector,n={hash:{}},e?e.call(t,t&&t.Avatars,"Size128",n):m.call(t,"avatarSelector",t&&t.Avatars,"Size128",n)))+'"\r\n	'}function l(t){var e,n,s="";return s+='\r\n	 data-avatar="',(n=i.AvatarUrl)?e=n.call(t,{hash:{}}):(n=t&&t.AvatarUrl,e=typeof n===d?n.call(t,{hash:{}}):n),s+=f(e)+'"\r\n	 '}this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,t.helpers);var h,c,p,u="",d="function",f=this.escapeExpression,m=i.helperMissing,g=this;return u+="<li>\r\n ",h=i["if"].call(e,e&&e.IsProfileCharacter,{hash:{},inverse:g.program(3,a,s),fn:g.program(1,r,s)}),(h||0===h)&&(u+=h),u+='\r\n  </a>\r\n  <div class="info">\r\n    <a href="'+f((c=i.memberUrl||e&&e.memberUrl,p={hash:{}},c?c.call(e,e&&e.IsProfileCharacter,e&&e.Nickname,e&&e.ProfileId,p):m.call(e,"memberUrl",e&&e.IsProfileCharacter,e&&e.Nickname,e&&e.ProfileId,p)))+'" class="nickname userPop" data-nickname="',(c=i.Nickname)?h=c.call(e,{hash:{}}):(c=e&&e.Nickname,h=typeof c===d?c.call(e,{hash:{}}):c),u+=f(h)+'"\r\n	',h=i["if"].call(e,e&&e.IsProfileCharacter,{hash:{},inverse:g.program(7,l,s),fn:g.program(5,o,s)}),(h||0===h)&&(u+=h),u+='\r\n        data-jobtitle="',(c=i.JobTitle)?h=c.call(e,{hash:{}}):(c=e&&e.JobTitle,h=typeof c===d?c.call(e,{hash:{}}):c),u+=f(h)+'" data-memberUrl="'+f((c=i.memberUrl||e&&e.memberUrl,p={hash:{}},c?c.call(e,e&&e.IsProfileCharacter,e&&e.Nickname,e&&e.ProfileId,p):m.call(e,"memberUrl",e&&e.IsProfileCharacter,e&&e.Nickname,e&&e.ProfileId,p)))+'" data-shortabout="',(c=i.ShortAbout)?h=c.call(e,{hash:{}}):(c=e&&e.ShortAbout,h=typeof c===d?c.call(e,{hash:{}}):c),u+=f(h)+'">',(c=i.Nickname)?h=c.call(e,{hash:{}}):(c=e&&e.Nickname,h=typeof c===d?c.call(e,{hash:{}}):c),u+=f(h)+"</a>\r\n    <br/>\r\n      <span></span>\r\n    </div>\r\n</li>\r\n"});return i}),define("hbs!template/header/popover",["hbs","handlebars","template/helpers/avatarUrl"],function(t,e){var i=e.template(function(t,e,i,n,s){function r(t){var e,n,s="";return s+="\r\n  <p>\r\n    ",(n=i.ShortAbout)?e=n.call(t,{hash:{}}):(n=t&&t.ShortAbout,e=typeof n===c?n.call(t,{hash:{}}):n),s+=p(e)+"\r\n  </p>\r\n  "}this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,t.helpers);var a,o,l,h="",c="function",p=this.escapeExpression,u=i.helperMissing,d=this;return h+='<a href="',(o=i.MemberUrl)?a=o.call(e,{hash:{}}):(o=e&&e.MemberUrl,a=typeof o===c?o.call(e,{hash:{}}):o),(a||0===a)&&(h+=a),h+='">\r\n  <img src="'+p((o=i.avatarUrl||e&&e.avatarUrl,l={hash:{}},o?o.call(e,e&&e.Nickname,e&&e.AvatarUrl,128,l):u.call(e,"avatarUrl",e&&e.Nickname,e&&e.AvatarUrl,128,l)))+'" width="100" height="100" class="avatar"/>\r\n</a>\r\n<div class="info">\r\n  <h6>\r\n    <a href="',(o=i.MemberUrl)?a=o.call(e,{hash:{}}):(o=e&&e.MemberUrl,a=typeof o===c?o.call(e,{hash:{}}):o),(a||0===a)&&(h+=a),h+='" >\r\n      ',(o=i.Nickname)?a=o.call(e,{hash:{}}):(o=e&&e.Nickname,a=typeof o===c?o.call(e,{hash:{}}):o),h+=p(a)+"\r\n    </a>\r\n  </h6>\r\n  ",(o=i.Job)?a=o.call(e,{hash:{}}):(o=e&&e.Job,a=typeof o===c?o.call(e,{hash:{}}):o),h+=p(a)+"\r\n  ",a=i["if"].call(e,e&&e.ShortAbout,{hash:{},inverse:d.noop,fn:d.program(1,r,s)}),(a||0===a)&&(h+=a),h+='\r\n</div>\r\n<div class="footer">\r\n  <!--<a href="#" class="btn btn-mini">\r\n    <i class="icon-plus"></i>Stalk\r\n  </a>-->\r\n</div>'});return i}),define("template/helpers/cdnUrl",["handlebars","utils/backbone-utils"],function(t,e){function i(){return e.cdnBase}return t.registerHelper("cdnUrl",i),i}),define("template/helpers/crewPageUrl",["handlebars","utils/backbone-utils"],function(t,e){function i(t){return void 0===t?"":e.getCrewUrl(t)}return t.registerHelper("crewPageUrl",i),i}),define("template/helpers/chunk",["handlebars","underscore"],function(t,e){function i(t,i,n){var s="";i=i===void 0?8:parseInt(i,10);var r=e.groupBy(t,function(t,e){return Math.floor(e/i)});return e.each(r,function(t){s+=n.fn({items:t})}),s}return t.registerHelper("chunk",i),i}),define("template/helpers/compare",["handlebars"],function(t){function e(t,e,i){if(3>arguments.length)throw Error("Handlerbars Helper 'compare' needs 2 parameters");operator=i.hash.operator||"==";var n={"==":function(t,e){return t==e},"===":function(t,e){return t===e},"!=":function(t,e){return t!=e},"<":function(t,e){return e>t},">":function(t,e){return t>e},"<=":function(t,e){return e>=t},">=":function(t,e){return t>=e},"typeof":function(t,e){return typeof t==e}};if(!n[operator])throw Error("Handlerbars Helper 'compare' doesn't know the operator "+operator);var s=n[operator](t,e);return s?i.fn(this):i.inverse(this)}return t.registerHelper("compare",e),e}),define("template/helpers/decrement",["handlebars"],function(t){function e(t){return t-1}return t.registerHelper("decrement",e),e}),define("template/helpers/eachFiller",["handlebars"],function(t){function e(t,e,i){var n,s=0,r="";if(e=e===void 0?8:parseInt(e,10),t&&(s=t.length),s>e)return r;for(n=s;e>n;n++){var a={eachIndex:n+1};r+=i.fn(a)}return r}return t.registerHelper("eachFiller",e),e}),define("template/helpers/eachObject",["handlebars"],function(t){function e(t,e){var i,n="";for(i in t)t.hasOwnProperty(i)&&(n+=e.fn({key:i,value:t[i]}));return n}return t.registerHelper("eachObject",e),e}),define("template/helpers/eachObjectWithKeys",["handlebars","underscore"],function(t){function e(t,e,i){var n,s="";for(n in t)t.hasOwnProperty(n)&&e.hasOwnProperty(n)&&(s+=i.fn({key:n,value:t[n]}));return s}return t.registerHelper("eachObjectWithKeys",e),e}),define("template/helpers/eachSliced",["handlebars"],function(t){function e(t,e,i,n){if(void 0==t)return void 0;var s,r,a="";for(void 0==n&&(n=i,i=0),r=0!=i?t.slice(e,i):t.slice(e),s=0;r.length>s;s++)a+=n.fn(r[s]);return a}return t.registerHelper("eachSliced",e),e}),define("template/helpers/eachWithLimit",["handlebars"],function(t){function e(t,e,i){var n,s=0,r="";try{e=parseInt(e,10)}catch(a){e=8}for(t&&(s=t.length),s>e&&(s=e),n=0;s>n;n++){var o=t[n];o.eachIndex=n+1,r+=i.fn(o)}return r}return t.registerHelper("eachWithLimit",e),e}),define("template/helpers/eachWithIndex",["handlebars"],function(t){function e(t,e){for(var i="",n=0,s=t.length;s>n;n++){var r=t[n];r.index=n,i+=e.fn(r)}return i}return t.registerHelper("eachWithIndex",e),e}),define("template/helpers/emblemUrl",["handlebars","utils/backbone-utils"],function(t,e){function i(t,i){if(!t)return e.emblemDefault;i=i||"";var n=e["emblem"+i]||e.emblem;return n.length?n.format(t):e.emblemDefault}return t.registerHelper("emblemUrl",i),i}),define("template/helpers/emblemGalleryUrl",["handlebars","utils/backbone-utils"],function(t){function e(t,e){return t?(e=e||64,t+"_"+e+".png"):""}return t.registerHelper("emblemGalleryUrl",e),e}),define("template/helpers/feedProfilePageUrl",["handlebars"],function(t){function e(t){var e="/member/";return t&&("string"!=typeof t&&(t=""+t),e+=t.toLowerCase()),e}return t.registerHelper("feedProfilePageUrl",e),e}),define("template/helpers/feedTimeFormatter",["handlebars"],function(t){function e(t){var e=parseInt((new Date).getTime()/1e3-t),i=!1;e/=60,0>e&&(i=!0,e=Math.abs(e)),0==e&&(e=1);for(var n=["ago","moments ago"],s=["minute","hour","day","week","month","year"],r=["minutes","hours","days","weeks","months","years"],a=["60","24","7","4.35","12"],o=0;a.length>o&&e>=a[o];o++)e/=a[o];return e=Math.round(e),i||0==e?n[1]:e+" "+(1!=e?r[o]:s[o])+" "+n[0]}return t.registerHelper("feedTimeFormatter",e),e}),define("template/helpers/getCrewCardFeudPct",["handlebars"],function(t){function e(t){for(var e=[100,75,50,15],i=0,n=0;4>n;n++)if(t>=e[n]){i=e[n];break}return i}return t.registerHelper("getCrewCardFeudPct",e),e}),define("template/helpers/getCrewType",["handlebars"],function(t){function e(t){switch(t){case"chatterBoxes":return"Chatter Boxes";case"thrillSeekers":return"Thrill Seekers";case"rebels":return"Rebels";case"allStars":return"All Stars";case"soldiers":return"Soldiers";case"noType":return"No Type";case"rockstars":return"Rockstar";default:return t}}return t.registerHelper("getCrewType",e),e}),define("template/helpers/getLeaderboardWidth",["handlebars"],function(t){function e(t,e){if(void 0==t||void 0==e)return 0;"string"==typeof t&&(t=parseInt(t.replace(/,/g,""),10)),"string"==typeof e&&(e=parseInt(e.replace(/,/g,""),10));var i=(100*(e/t)).toFixed(2);return 5>i?5:i}return t.registerHelper("getLeaderboardWidth",e),e}),define("template/helpers/getValueByKey",["handlebars","underscore"],function(t){function e(t,e){return t.hasOwnProperty(e)?t[e]:null}return t.registerHelper("getValueByKey",e),e}),define("template/helpers/ifequals",["handlebars"],function(t){function e(t,e,i){return void 0!==t&&void 0!==e&&isNaN(t)&&isNaN(e)?t.toLowerCase()==e.toLowerCase()?i.fn(this):i.inverse(this):t==e?i.fn(this):i.inverse(this)}return t.registerHelper("ifequals",e),e}),define("template/helpers/ifgreater",["handlebars"],function(t){function e(t,e,i){return t>e?i.fn(this):i.inverse(this)}return t.registerHelper("ifgreater",e),e}),define("template/helpers/ifinarray",["handlebars","underscore"],function(t,e){function i(t,i,n){return void 0!=i&&e.isString(i)&&(i=i.split(",")),void 0!=t&&void 0!=i&&e.isArray(i)?i.indexOf(t)>-1?n(this):n.inverse(this):t==i?n(this):n.inverse(this)}return t.registerHelper("ifinarray",i),i}),define("template/helpers/ifless",["handlebars"],function(t){function e(t,e,i){return e>t?i.fn(this):i.inverse(this)}return t.registerHelper("ifless",e),e}),define("template/helpers/ifnot",["handlebars"],function(t){function e(t,e,i){return void 0!==t&&void 0!==e&&isNaN(t)&&isNaN(e)?t.toLowerCase()!=e.toLowerCase()?i.fn(this):i.inverse(this):t!=e?i.fn(this):i.inverse(this)}return t.registerHelper("ifnot",e),e}),define("template/helpers/ifzero",["handlebars"],function(t){function e(t,e,i){return void 0===i&&(i=e,e=0),0===t+e?i.fn(this):i.inverse(this)}return t.registerHelper("ifzero",e),e}),define("template/helpers/limitedListRow",["handlebars"],function(t){function e(t,e,i,n,s,r){var a,o=0,l="";for(t&&(o=t.length),s>0&&o>s&&(o=s),a=0;o>a;a++)0==a%e&&(l+=i),l+=r.fn(t[a]),a%e==e-1&&(l+=n);return l}return t.registerHelper("limitedListRow",e),e}),define("template/helpers/friendRelationship",["handlebars"],function(t){function e(t){switch(t){case"":return"";case"Friend":case 6:return"You are friends";case"BlockedByMe":case 1:return"Blocked";case"InvitedByThem":case 5:return"Wants to be your friend";case"InvitedByMe":case 4:return"Request Pending";default:return""}}return t.registerHelper("friendRelationship",e),e}),define("template/helpers/partialWithParent",["handlebars"],function(t){function e(t,e){return"object"!=typeof t?"":(this.parent=t,e.fn(this))}return t.registerHelper("partialWithParent",e),e}),define("template/helpers/rowClass",["handlebars"],function(t){function e(t){return t=parseInt(t,10),0==t%2?"even":"odd"}return t.registerHelper("rowClass",e),e}),define("template/helpers/toPercent",["handlebars"],function(t){function e(t,e){var i;return i=0==e?0:Math.round(100*(t/e)),i>100&&(i=100),i}return t.registerHelper("toPercent",e),e}),define("template/helpers/toUpper",["handlebars"],function(t){function e(t){return t.toUpperCase()}return t.registerHelper("toUpper",e),e}),define("template/helpers/selectedOption",["handlebars"],function(t){function e(t,e){return t==e?'selected="selected"':""}return t.registerHelper("selectedOption",e),e}),define("template/helpers/truncateToLength",["handlebars","utils/backbone-utils"],function(t){function e(t,e,i){return void 0===t||void 0===e?"":i&&t.length>e?t.substring(0,e-i.length)+i:t.substring(0,e)}return t.registerHelper("truncateToLength",e),e}),define("template/helpers/arrayLength",["handlebars"],function(t){function e(t){return t.length}return t.registerHelper("arrayLength",e),e}),define("template/helpers/unitify",["handlebars"],function(t){function e(t,e){e="number"==typeof e?e:0,t=(""+t).replace(/[^0-9]/gi,""),t=""==t?Number.NaN:t;for(var i=[1e3,"K","M","G","T","P","E","Z","Y"],n=i.length;n-->1;){var s=Math.pow(i[0],n);if(t>=s){var r=t/s,a=null;return a=0==e?Math.floor(r):r.toFixed(e),a+i[n]}}return t}return t.registerHelper("unitify",e),e}),define("template/helpers/memberurl",["handlebars"],function(t){function e(t,e,i){return t?"/profile/"+i:window.siteMaster.memberUrl+e+"/lifeinvader"}return t.registerHelper("memberUrl",e),e}),define("template/helpers/all",["template/helpers/avatarUrl","template/helpers/cdnUrl","template/helpers/crewPageUrl","template/helpers/chunk","template/helpers/compare","template/helpers/decrement","template/helpers/eachFiller","template/helpers/eachObject","template/helpers/eachObjectWithKeys","template/helpers/eachSliced","template/helpers/eachWithLimit","template/helpers/eachWithIndex","template/helpers/emblemUrl","template/helpers/emblemGalleryUrl","template/helpers/feedProfilePageUrl","template/helpers/feedTimeFormatter","template/helpers/getCrewCardFeudPct","template/helpers/getCrewType","template/helpers/getLeaderboardWidth","template/helpers/getValueByKey","template/helpers/ifequals","template/helpers/ifgreater","template/helpers/ifinarray","template/helpers/ifless","template/helpers/ifnot","template/helpers/ifzero","template/helpers/limitedListRow","template/helpers/friendRelationship","template/helpers/partialWithParent","template/helpers/rowClass","template/helpers/toPercent","template/helpers/toUpper","template/helpers/selectedOption","template/helpers/truncateToLength","template/helpers/arrayLength","template/helpers/unitify","template/helpers/memberurl","template/helpers/imageSelector","template/helpers/avatarSelector","template/helpers/charHandler","template/helpers/stalkerCount"],function(){return{}}),!function(t){t(function(){t.support.transition=function(){var t=function(){var t,e=document.createElement("bootstrap"),i={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(t in i)if(void 0!==e.style[t])return i[t]}();return t&&{end:t}}()})}(window.jQuery),!function(t){var e='[data-dismiss="alert"]',i=function(i){t(i).on("click",e,this.close)};i.prototype.close=function(e){function i(){n.trigger("closed").remove()}var n,s=t(this),r=s.attr("data-target");r||(r=s.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,"")),n=t(r),e&&e.preventDefault(),n.length||(n=s.hasClass("alert")?s:s.parent()),n.trigger(e=t.Event("close")),e.isDefaultPrevented()||(n.removeClass("in"),t.support.transition&&n.hasClass("fade")?n.on(t.support.transition.end,i):i())},t.fn.alert=function(e){return this.each(function(){var n=t(this),s=n.data("alert");s||n.data("alert",s=new i(this)),"string"==typeof e&&s[e].call(n)})},t.fn.alert.Constructor=i,t(function(){t("body").on("click.alert.data-api",e,i.prototype.close)})}(window.jQuery),!function(t){var e=function(e,i){this.$element=t(e),this.options=t.extend({},t.fn.button.defaults,i)};e.prototype.setState=function(t){var e="disabled",i=this.$element,n=i.data(),s=i.is("input")?"val":"html";t+="Text",n.resetText||i.data("resetText",i[s]()),i[s](n[t]||this.options[t]),setTimeout(function(){"loadingText"==t?i.addClass(e).attr(e,e):i.removeClass(e).removeAttr(e)},0)},e.prototype.toggle=function(){var t=this.$element.closest('[data-toggle="buttons-radio"]');t&&t.find(".active").removeClass("active"),this.$element.toggleClass("active")},t.fn.button=function(i){return this.each(function(){var n=t(this),s=n.data("button"),r="object"==typeof i&&i;s||n.data("button",s=new e(this,r)),"toggle"==i?s.toggle():i&&s.setState(i)})},t.fn.button.defaults={loadingText:"loading..."},t.fn.button.Constructor=e,t(function(){t("body").on("click.button.data-api","[data-toggle^=button]",function(e){var i=t(e.target);i.hasClass("btn")||(i=i.closest(".btn")),i.button("toggle")})})}(window.jQuery),!function(t){var e=function(e,i){this.$element=t(e),this.options=i,this.options.slide&&this.slide(this.options.slide),"hover"==this.options.pause&&this.$element.on("mouseenter",t.proxy(this.pause,this)).on("mouseleave",t.proxy(this.cycle,this))};e.prototype={cycle:function(e){return e||(this.paused=!1),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},to:function(e){var i=this.$element.find(".item.active"),n=i.parent().children(),s=n.index(i),r=this;if(!(e>n.length-1||0>e))return this.sliding?this.$element.one("slid",function(){r.to(e)}):s==e?this.pause().cycle():this.slide(e>s?"next":"prev",t(n[e]))},pause:function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition.end&&(this.$element.trigger(t.support.transition.end),this.cycle()),clearInterval(this.interval),this.interval=null,this},next:function(){return this.sliding?void 0:this.slide("next")},prev:function(){return this.sliding?void 0:this.slide("prev")},slide:function(e,i){var n=this.$element.find(".item.active"),s=i||n[e](),r=this.interval,a="next"==e?"left":"right",o="next"==e?"first":"last",l=this,h=t.Event("slide",{relatedTarget:s[0]});if(this.sliding=!0,r&&this.pause(),s=s.length?s:this.$element.find(".item")[o](),!s.hasClass("active")){if(t.support.transition&&this.$element.hasClass("slide")){if(this.$element.trigger(h),h.isDefaultPrevented())return;s.addClass(e),s[0].offsetWidth,n.addClass(a),s.addClass(a),this.$element.one(t.support.transition.end,function(){s.removeClass([e,a].join(" ")).addClass("active"),n.removeClass(["active",a].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger("slid")},0)})}else{if(this.$element.trigger(h),h.isDefaultPrevented())return;n.removeClass("active"),s.addClass("active"),this.sliding=!1,this.$element.trigger("slid")}return r&&this.cycle(),this}}},t.fn.carousel=function(i){return this.each(function(){var n=t(this),s=n.data("carousel"),r=t.extend({},t.fn.carousel.defaults,"object"==typeof i&&i),a="string"==typeof i?i:r.slide;s||n.data("carousel",s=new e(this,r)),"number"==typeof i?s.to(i):a?s[a]():r.interval&&s.cycle()})},t.fn.carousel.defaults={interval:5e3,pause:"hover"},t.fn.carousel.Constructor=e,t(function(){t("body").on("click.carousel.data-api","[data-slide]",function(e){var i,n=t(this),s=t(n.attr("data-target")||(i=n.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"")),r=!s.data("modal")&&t.extend({},s.data(),n.data());s.carousel(r),e.preventDefault()})})}(window.jQuery),!function(t){var e=function(e,i){this.$element=t(e),this.options=t.extend({},t.fn.collapse.defaults,i),this.options.parent&&(this.$parent=t(this.options.parent)),this.options.toggle&&this.toggle()};e.prototype={constructor:e,dimension:function(){var t=this.$element.hasClass("width");return t?"width":"height"},show:function(){var e,i,n,s;if(!this.transitioning){if(e=this.dimension(),i=t.camelCase(["scroll",e].join("-")),n=this.$parent&&this.$parent.find("> .accordion-group > .in"),n&&n.length){if(s=n.data("collapse"),s&&s.transitioning)return;n.collapse("hide"),s||n.data("collapse",null)}this.$element[e](0),this.transition("addClass",t.Event("show"),"shown"),t.support.transition&&this.$element[e](this.$element[0][i])}},hide:function(){var e;this.transitioning||(e=this.dimension(),this.reset(this.$element[e]()),this.transition("removeClass",t.Event("hide"),"hidden"),this.$element[e](0))},reset:function(t){var e=this.dimension();return this.$element.removeClass("collapse")[e](t||"auto")[0].offsetWidth,this.$element[null!==t?"addClass":"removeClass"]("collapse"),this},transition:function(e,i,n){var s=this,r=function(){"show"==i.type&&s.reset(),s.transitioning=0,s.$element.trigger(n)};this.$element.trigger(i),i.isDefaultPrevented()||(this.transitioning=1,this.$element[e]("in"),t.support.transition&&this.$element.hasClass("collapse")?this.$element.one(t.support.transition.end,r):r())},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}},t.fn.collapse=function(i){return this.each(function(){var n=t(this),s=n.data("collapse"),r="object"==typeof i&&i;s||n.data("collapse",s=new e(this,r)),"string"==typeof i&&s[i]()})},t.fn.collapse.defaults={toggle:!0},t.fn.collapse.Constructor=e,t(function(){t("body").on("click.collapse.data-api","[data-toggle=collapse]",function(e){var i,n=t(this),s=n.attr("data-target")||e.preventDefault()||(i=n.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,""),r=t(s).data("collapse")?"toggle":n.data();n[t(s).hasClass("in")?"addClass":"removeClass"]("collapsed"),t(s).collapse(r)})})}(window.jQuery),!function(t){function e(){i(t(n)).removeClass("open")}function i(e){var i,n=e.attr("data-target");return n||(n=e.attr("href"),n=n&&/#/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,"")),i=t(n),i.length||(i=e.parent()),i}var n="[data-toggle=dropdown]",s=function(e){var i=t(e).on("click.dropdown.data-api",this.toggle);t("html").on("click.dropdown.data-api",function(){i.parent().removeClass("open")})};s.prototype={constructor:s,toggle:function(){var n,s,r=t(this);if(!r.is(".disabled, :disabled"))return n=i(r),s=n.hasClass("open"),e(),s||(n.toggleClass("open"),r.focus()),!1},keydown:function(e){var n,s,r,a,o;if(/(38|40|27)/.test(e.keyCode)&&(n=t(this),e.preventDefault(),e.stopPropagation(),!n.is(".disabled, :disabled"))){if(r=i(n),a=r.hasClass("open"),!a||a&&27==e.keyCode)return n.click();s=t("[role=menu] li:not(.divider) a",r),s.length&&(o=s.index(s.filter(":focus")),38==e.keyCode&&o>0&&o--,40==e.keyCode&&s.length-1>o&&o++,~o||(o=0),s.eq(o).focus())}}},t.fn.dropdown=function(e){return this.each(function(){var i=t(this),n=i.data("dropdown");n||i.data("dropdown",n=new s(this)),"string"==typeof e&&n[e].call(i)})},t.fn.dropdown.Constructor=s,t(function(){t("html").on("click.dropdown.data-api touchstart.dropdown.data-api",e),t("body").on("click.dropdown touchstart.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.dropdown.data-api touchstart.dropdown.data-api",n,s.prototype.toggle).on("keydown.dropdown.data-api touchstart.dropdown.data-api",n+", [role=menu]",s.prototype.keydown)})}(window.jQuery),!function(t){var e=function(e,i){this.options=i,this.$element=t(e).delegate('[data-dismiss="modal"]',"click.dismiss.modal",t.proxy(this.hide,this)),this.options.remote&&this.$element.find(".modal-body").load(this.options.remote)};e.prototype={constructor:e,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var e=this,i=t.Event("show");this.$element.trigger(i),this.isShown||i.isDefaultPrevented()||(t("body").addClass("modal-open"),this.isShown=!0,this.escape(),this.backdrop(function(){var i=t.support.transition&&e.$element.hasClass("fade");e.$element.parent().length||e.$element.appendTo(document.body),e.$element.show(),i&&e.$element[0].offsetWidth,e.$element.addClass("in").attr("aria-hidden",!1).focus(),e.enforceFocus(),i?e.$element.one(t.support.transition.end,function(){e.$element.trigger("shown")}):e.$element.trigger("shown")}))},hide:function(e){e&&e.preventDefault(),e=t.Event("hide"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,t("body").removeClass("modal-open"),this.escape(),t(document).off("focusin.modal"),this.$element.removeClass("in").attr("aria-hidden",!0),t.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal())},enforceFocus:function(){var e=this;t(document).on("focusin.modal",function(t){e.$element[0]===t.target||e.$element.has(t.target).length||e.$element.focus()})},escape:function(){var t=this;this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.modal",function(e){27==e.which&&t.hide()}):this.isShown||this.$element.off("keyup.dismiss.modal")},hideWithTransition:function(){var e=this,i=setTimeout(function(){e.$element.off(t.support.transition.end),e.hideModal()},500);this.$element.one(t.support.transition.end,function(){clearTimeout(i),e.hideModal()})},hideModal:function(){this.$element.hide().trigger("hidden"),this.backdrop()},removeBackdrop:function(){this.$backdrop.remove(),this.$backdrop=null},backdrop:function(e){var i=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var n=t.support.transition&&i;this.$backdrop=t('<div class="modal-backdrop '+i+'" />').appendTo(document.body),"static"!=this.options.backdrop&&this.$backdrop.click(t.proxy(this.hide,this)),n&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),n?this.$backdrop.one(t.support.transition.end,e):e()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(t.support.transition.end,t.proxy(this.removeBackdrop,this)):this.removeBackdrop()):e&&e()}},t.fn.modal=function(i){return this.each(function(){var n=t(this),s=n.data("modal"),r=t.extend({},t.fn.modal.defaults,n.data(),"object"==typeof i&&i);s||n.data("modal",s=new e(this,r)),"string"==typeof i?s[i]():r.show&&s.show()})},t.fn.modal.defaults={backdrop:!0,keyboard:!0,show:!0},t.fn.modal.Constructor=e,t(function(){t("body").on("click.modal.data-api",'[data-toggle="modal"]',function(e){var i=t(this),n=i.attr("href"),s=t(i.attr("data-target")||n&&n.replace(/.*(?=#[^\s]+$)/,"")),r=s.data("modal")?"toggle":t.extend({remote:!/#/.test(n)&&n},s.data(),i.data());e.preventDefault(),s.modal(r).one("hide",function(){i.focus()})})})}(window.jQuery),!function(t){var e=function(t,e){this.init("tooltip",t,e)};e.prototype={constructor:e,init:function(e,i,n){var s,r;this.type=e,this.$element=t(i),this.options=this.getOptions(n),this.enabled=!0,"click"==this.options.trigger?this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this)):"manual"!=this.options.trigger&&(s="hover"==this.options.trigger?"mouseenter":"focus",r="hover"==this.options.trigger?"mouseleave":"blur",this.$element.on(s+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(r+"."+this.type,this.options.selector,t.proxy(this.leave,this))),this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()
},getOptions:function(e){return e=t.extend({},t.fn[this.type].defaults,e,this.$element.data()),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},enter:function(e){var i=t(e.currentTarget)[this.type](this._options).data(this.type);return i.options.delay&&i.options.delay.show?(clearTimeout(this.timeout),i.hoverState="in",this.timeout=setTimeout(function(){"in"==i.hoverState&&i.show()},i.options.delay.show),void 0):i.show()},leave:function(e){var i=t(e.currentTarget)[this.type](this._options).data(this.type);return this.timeout&&clearTimeout(this.timeout),i.options.delay&&i.options.delay.hide?(i.hoverState="out",this.timeout=setTimeout(function(){"out"==i.hoverState&&i.hide()},i.options.delay.hide),void 0):i.hide()},show:function(){var t,e,i,n,s,r,a;if(this.hasContent()&&this.enabled){switch(t=this.tip(),this.setContent(),this.options.animation&&t.addClass("fade"),r="function"==typeof this.options.placement?this.options.placement.call(this,t[0],this.$element[0]):this.options.placement,e=/in/.test(r),t.remove().css({top:0,left:0,display:"block"}).appendTo(e?this.$element:document.body),i=this.getPosition(e),n=t[0].offsetWidth,s=t[0].offsetHeight,e?r.split(" ")[1]:r){case"bottom":a={top:i.top+i.height,left:i.left+i.width/2-n/2};break;case"top":a={top:i.top-s-10,left:i.left+i.width/2-n/2};break;case"left":a={top:i.top+i.height/2-s/2,left:i.left-n-10};break;case"right":a={top:i.top+i.height/2-s/2,left:i.left+i.width};break;case"arrowBottomLeft":a={top:i.top-s-10,left:i.left};break;case"arrowTopLeft":a={top:i.top+i.height+10,left:i.left};break;case"arrowBottomRight":a={top:i.top-s-10,left:i.left-n+30};break;case"arrowTopRight":a={top:i.top+i.height+10,left:i.left-n+30}}t.css(a).addClass(r).addClass("in")}},setContent:function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right arrowBottomLeft arrowTopLeft arrowBottomRight arrowTopRight")},hide:function(){function e(){var e=setTimeout(function(){i.off(t.support.transition.end).remove()},500);i.one(t.support.transition.end,function(){clearTimeout(e),i.remove()})}var i=this.tip();return i.removeClass("in"),t.support.transition&&this.$tip.hasClass("fade")?e():i.remove(),this},fixTitle:function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").removeAttr("title")},hasContent:function(){return this.getTitle()},getPosition:function(e){return t.extend({},e?{top:0,left:0}:this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight})},getTitle:function(){var t,e=this.$element,i=this.options;return t=e.attr("data-original-title")||("function"==typeof i.title?i.title.call(e[0]):i.title)},tip:function(){return this.$tip=this.$tip||t(this.options.template)},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(){this[this.tip().hasClass("in")?"hide":"show"]()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}},t.fn.tooltip=function(i){return this.each(function(){var n=t(this),s=n.data("tooltip"),r="object"==typeof i&&i;s||n.data("tooltip",s=new e(this,r)),"string"==typeof i&&s[i]()})},t.fn.tooltip.Constructor=e,t.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover",title:"",delay:0,html:!0}}(window.jQuery),!function(t){var e=function(t,e){this.init("popover",t,e)};e.prototype=t.extend({},t.fn.tooltip.Constructor.prototype,{constructor:e,setContent:function(){var t=this.tip(),e=this.getTitle(),i=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content > *")[this.options.html?"html":"text"](i),t.removeClass("fade in top bottom left right arrowBottomLeft arrowTopLeft arrowBottomRight arrowTopRight")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var t,e=this.$element,i=this.options;return t=e.attr("data-content")||("function"==typeof i.content?i.content.call(e[0]):i.content)},tip:function(){return this.$tip||(this.$tip=t(this.options.template)),this.$tip},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}}),t.fn.popover=function(i){return this.each(function(){var n=t(this),s=n.data("popover"),r="object"==typeof i&&i;s||n.data("popover",s=new e(this,r)),"string"==typeof i&&s[i]()})},t.fn.popover.Constructor=e,t.fn.popover.defaults=t.extend({},t.fn.tooltip.defaults,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><div class="popover-inner"><h3 class="popover-title"></h3><div class="popover-content"><p></p></div></div></div>'})}(window.jQuery),!function(t){function e(e,i){var n,s=t.proxy(this.process,this),r=t(e).is("body")?t(window):t(e);this.options=t.extend({},t.fn.scrollspy.defaults,i),this.$scrollElement=r.on("scroll.scroll-spy.data-api",s),this.selector=(this.options.target||(n=t(e).attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.$body=t("body"),this.refresh(),this.process()}e.prototype={constructor:e,refresh:function(){var e,i=this;this.offsets=t([]),this.targets=t([]),e=this.$body.find(this.selector).map(function(){var e=t(this),i=e.data("target")||e.attr("href"),n=/^#\w/.test(i)&&t(i);return n&&n.length&&[[n.position().top,i]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){i.offsets.push(this[0]),i.targets.push(this[1])})},process:function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,i=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,n=i-this.$scrollElement.height(),s=this.offsets,r=this.targets,a=this.activeTarget;if(e>=n)return a!=(t=r.last()[0])&&this.activate(t);for(t=s.length;t--;)a!=r[t]&&e>=s[t]&&(!s[t+1]||s[t+1]>=e)&&this.activate(r[t])},activate:function(e){var i,n;this.activeTarget=e,t(this.selector).parent(".active").removeClass("active"),n=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',i=t(n).parent("li").addClass("active"),i.parent(".dropdown-menu").length&&(i=i.closest("li.dropdown").addClass("active")),i.trigger("activate")}},t.fn.scrollspy=function(i){return this.each(function(){var n=t(this),s=n.data("scrollspy"),r="object"==typeof i&&i;s||n.data("scrollspy",s=new e(this,r)),"string"==typeof i&&s[i]()})},t.fn.scrollspy.Constructor=e,t.fn.scrollspy.defaults={offset:10},t(window).on("load",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);e.scrollspy(e.data())})})}(window.jQuery),!function(t){var e=function(e){this.element=t(e)};e.prototype={constructor:e,show:function(){var e,i,n,s=this.element,r=s.closest("ul:not(.dropdown-menu)"),a=s.attr("data-target");a||(a=s.attr("href"),a=a&&a.replace(/.*(?=#[^\s]*$)/,"")),s.parent("li").hasClass("active")||(e=r.find(".active a").last()[0],n=t.Event("show",{relatedTarget:e}),s.trigger(n),n.isDefaultPrevented()||(i=t(a),this.activate(s.parent("li"),r),this.activate(i,i.parent(),function(){s.trigger({type:"shown",relatedTarget:e})})))},activate:function(e,i,n){function s(){r.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),e.addClass("active"),a?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu")&&e.closest("li.dropdown").addClass("active"),n&&n()}var r=i.find("> .active"),a=n&&t.support.transition&&r.hasClass("fade");a?r.one(t.support.transition.end,s):s(),r.removeClass("in")}},t.fn.tab=function(i){return this.each(function(){var n=t(this),s=n.data("tab");s||n.data("tab",s=new e(this)),"string"==typeof i&&s[i]()})},t.fn.tab.Constructor=e,t(function(){t("body").on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(e){e.preventDefault(),t(this).tab("show")})})}(window.jQuery),!function(t){var e=function(e,i){this.$element=t(e),this.options=t.extend({},t.fn.typeahead.defaults,i),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.highlighter=this.options.highlighter||this.highlighter,this.updater=this.options.updater||this.updater,this.$menu=t(this.options.menu).appendTo("body"),this.source=this.options.source,this.shown=!1,this.listen()};e.prototype={constructor:e,select:function(){var t=this.$menu.find(".active").attr("data-value");return this.$element.val(this.updater(t)).change(),this.hide()},updater:function(t){return t},show:function(){var e=t.extend({},this.$element.offset(),{height:this.$element[0].offsetHeight});return this.$menu.css({top:e.top+e.height,left:e.left}),this.$menu.show(),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(){var e;return this.query=this.$element.val(),!this.query||this.options.minLength>this.query.length?this.shown?this.hide():this:(e=t.isFunction(this.source)?this.source(this.query,t.proxy(this.process,this)):this.source,e?this.process(e):this)},process:function(e){var i=this;return e=t.grep(e,function(t){return i.matcher(t)}),e=this.sorter(e),e.length?this.render(e.slice(0,this.options.items)).show():this.shown?this.hide():this},matcher:function(t){return~t.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(t){for(var e,i=[],n=[],s=[];e=t.shift();)e.toLowerCase().indexOf(this.query.toLowerCase())?~e.indexOf(this.query)?n.push(e):s.push(e):i.push(e);return i.concat(n,s)},highlighter:function(t){var e=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return t.replace(RegExp("("+e+")","ig"),function(t,e){return"<strong>"+e+"</strong>"})},render:function(e){var i=this;return e=t(e).map(function(e,n){return e=t(i.options.item).attr("data-value",n),e.find("a").html(i.highlighter(n)),e[0]}),e.first().addClass("active"),this.$menu.html(e),this},next:function(){var e=this.$menu.find(".active").removeClass("active"),i=e.next();i.length||(i=t(this.$menu.find("li")[0])),i.addClass("active")},prev:function(){var t=this.$menu.find(".active").removeClass("active"),e=t.prev();e.length||(e=this.$menu.find("li").last()),e.addClass("active")},listen:function(){this.$element.on("blur",t.proxy(this.blur,this)).on("keypress",t.proxy(this.keypress,this)).on("keyup",t.proxy(this.keyup,this)),(t.browser.chrome||t.browser.webkit||t.browser.msie)&&this.$element.on("keydown",t.proxy(this.keydown,this)),this.$menu.on("click",t.proxy(this.click,this)).on("mouseenter","li",t.proxy(this.mouseenter,this))},move:function(t){if(this.shown){switch(t.keyCode){case 9:case 13:case 27:t.preventDefault();break;case 38:t.preventDefault(),this.prev();break;case 40:t.preventDefault(),this.next()}t.stopPropagation()}},keydown:function(e){this.suppressKeyPressRepeat=!~t.inArray(e.keyCode,[40,38,9,13,27]),this.move(e)},keypress:function(t){this.suppressKeyPressRepeat||this.move(t)},keyup:function(t){switch(t.keyCode){case 40:case 38:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}t.stopPropagation(),t.preventDefault()},blur:function(){var t=this;setTimeout(function(){t.hide()},150)},click:function(t){t.stopPropagation(),t.preventDefault(),this.select()},mouseenter:function(e){this.$menu.find(".active").removeClass("active"),t(e.currentTarget).addClass("active")}},t.fn.typeahead=function(i){return this.each(function(){var n=t(this),s=n.data("typeahead"),r="object"==typeof i&&i;s||n.data("typeahead",s=new e(this,r)),"string"==typeof i&&s[i]()})},t.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',minLength:1},t.fn.typeahead.Constructor=e,t(function(){t("body").on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(e){var i=t(this);i.data("typeahead")||(e.preventDefault(),i.typeahead(i.data()))})})}(window.jQuery),!function(t){var e=function(e,i){this.options=t.extend({},t.fn.affix.defaults,i),this.$window=t(window).on("scroll.affix.data-api",t.proxy(this.checkPosition,this)),this.$element=t(e),this.checkPosition()};e.prototype.checkPosition=function(){if(this.$element.is(":visible")){var e,i=t(document).height(),n=this.$window.scrollTop(),s=this.$element.offset(),r=this.options.offset,a=r.bottom,o=r.top,l="affix affix-top affix-bottom";"object"!=typeof r&&(a=o=r),"function"==typeof o&&(o=r.top()),"function"==typeof a&&(a=r.bottom()),e=null!=this.unpin&&s.top>=n+this.unpin?!1:null!=a&&s.top+this.$element.height()>=i-a?"bottom":null!=o&&o>=n?"top":!1,this.affixed!==e&&(this.affixed=e,this.unpin="bottom"==e?s.top-n:null,this.$element.removeClass(l).addClass("affix"+(e?"-"+e:"")))}},t.fn.affix=function(i){return this.each(function(){var n=t(this),s=n.data("affix"),r="object"==typeof i&&i;s||n.data("affix",s=new e(this,r)),"string"==typeof i&&s[i]()})},t.fn.affix.Constructor=e,t.fn.affix.defaults={offset:0},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var e=t(this),i=e.data();i.offset=i.offset||{},i.offsetBottom&&(i.offset.bottom=i.offsetBottom),i.offsetTop&&(i.offset.top=i.offsetTop),e.affix(i)})})}(window.jQuery),define("bootstrap",function(){}),define("home/popover",["jquery","utils/backbone-utils","hbs!template/header/popover","template/helpers/all","bootstrap"],function(t,e,i){var n={tmplPopover:i},s={init:function(i){var s;t(i).popover({placement:function(e,i){var n,s,r,a,o,l,h,c,p,u,d,f,m,g,v,y,b;return c=function(t){return t.top>h&&t.left>o&&l>t.left+r&&a>t.top+s},n=t(i),p=t.extend({},n.offset(),{width:i.offsetWidth,height:i.offsetHeight}),r=297,s=220,h=t(document).scrollTop(),o=t(document).scrollLeft(),l=o+t(window).width(),a=h+t(window).height(),u={top:p.top-s-10,left:p.left},d={top:p.top+p.height+10,left:p.left},f={top:p.top-s-10,left:p.left-r+30},m={top:p.top+p.height+10,left:p.left-r+30},g=c(u),v=c(d),y=c(f),b=c(m),g?"arrowBottomLeft":v?"arrowTopLeft":y?"arrowBottomRight":b?"arrowTopRight":void 0},trigger:"manual",template:'<div class="popover"><div id="userPopover"><div class="popover-inner"><div class="popover-content clearfix"><div></div></div></div><div class="mask"></div><div class="arrow"></div></div></div>',content:function(){var i={AvatarUrl:t(this).attr("data-avatar"),Nickname:t(this).attr("data-nickname"),Job:t(this).attr("data-jobtitle"),MemberUrl:t(this).attr("data-memberurl"),ShortAbout:t(this).attr("data-shortabout")},s=e.renderTemplate("tmplPopover",i,n);return s}}).on("mouseenter",function(){t(".userPop.activeTrigger").removeClass("activeTrigger").popover("hide");var e=t(this);e.addClass("activeTrigger"),s=window.setTimeout(function(){e.hasClass("activeTrigger")&&e.popover("show")},600)}).on("mouseleave",function(){var e=t(this);setTimeout(function(){t("#userPopover").hasClass("active")||e.popover("hide").removeClass("activeTrigger")},100),window.clearTimeout(s)})}};return s}),define("views/profileviews",["jquery","backbone","underscore","Handlebars","utils/backbone-utils","views/base-views","models/profile-models","hbs!template/profile/liker","hbs!template/profile/profileitems","hbs!template/profile/mediamodal","hbs!template/profile/modalusers","hbs!template/profile/picturemodal","hbs!template/profile/comments","hbs!template/header/ads","hbs!template/profile/newpost","hbs!template/profile/posterror","hbs!template/profile/rulesmodal","hbs!template/profile/likeritem","home/popover","utils/analyticsManagerAMD","bootstrap","template/helpers/all"],function(t,e,i,n,s,r,a,o,l,h,c,p,u,d,f,m,g,v,y,b){var w={tmplLiker:o,tmplProfileItems:l,tmplMediaModal:h,tmplModalUsers:c,tmplPictureModal:p,tmplComments:u,tmplAds:d,tmplNewPost:f,tmplPostError:m,tmplRulesModal:g,tmplLikerItem:v},x={};return x.RulesModal=r.ModalDialog.extend({el:"#modal-rules",render:function(){var t=s.renderTemplate("tmplRulesModal",{},w);this.$el.html(t),this.$el.modal()},initialize:function(){i.bindAll(this,"render","closeModal","cancelClick"),this.render()}}),x.UsersModalView=r.ModalDialog.extend({el:"#modal-users",postLikes:function(t){this.collection=new a.PostLikersCollection,this.collection.on("reset",this.postLikerFetchSuccess),this.collection.bind("add",this.renderItem),this.collection.fetch({data:{contentid:t}})},postLikerFetchSuccess:function(){var e={Likers:this.collection.toJSON(),ShowLoadMore:this.collection.hasMore},i=s.renderTemplate("tmplLiker",e,w);this.$el.find("#modal-users-list").html(i),y.init(".userPop"),this.collection.hasMore===!0?t("#loadMore").show():t("#loadMore").hide(),this.$el.find(".antiscroll-inner").unbind("scroll",this.checkLoadMore).bind("scroll",this.checkLoadMore),this.$loadMore=t("#loadMore")},renderItem:function(e){var i=s.renderTemplate("tmplLikerItem",e.toJSON(),w);t("#loadMore").before(i)},loadMore:function(){if(this.collection.hasMore===!0){if(this.collection.isLoading)return;this.collection.isLoading=!0;var t=this;this.collection.fetch({data:{pageIndex:this.collection.nextPageIndex,contentId:this.collection.contentId},success:this.loadMoreSuccess,error:function(){s.error("Failed to load more data for modal"),this.$(".modal-body .modal-list").append("<li>Error, please try reloading the page</li>")},complete:function(){t.collection.isLoading=!1,t.collection.hasMore===!1&&t.$loadMore.hide()},add:!0})}else this.$(".antiscroll-inner").unbind("scroll",this.checkLoadMore),this.$loadMore.hide()},loadMoreSuccess:function(){},checkLoadMore:function(){s.elemVisibleInContainer(this.$loadMore,this.$el)&&this.loadMore()},profileItems:function(e){var i=this;t.ajax({type:"GET",cache:!1,url:window.profileSettings.profileItems,data:{itemid:window.profileSettings.itemid,itemtype:e},success:function(t){var e=s.renderTemplate("tmplProfileItems",t,w);i.$el.find("#modal-users-list").html(e),y.init(".userPop")},dataType:"json"})},render:function(){var e=s.renderTemplate("tmplModalUsers",{},w);this.$el.html(e),t("#modal-users").bind("shown",function(){t("#modal-users-list").show(function(){setTimeout(function(){t("#modal-users .antiscroll-wrap").antiscroll(),t("#modal-users .loading-mask").delay(600).fadeOut(600)},100)})}),t("#modal-users").bind("hidden",function(){t("#modal-users-list").hide(),t(this).find(".loading-mask").show(),t("#modal-users .antiscroll-inner").css({width:"",height:""})}),this.$el.modal();var i=this.options.contentid,n=this.options.linktype;switch(t("#modal-users .myModalLabel").text(this.options.label),n){case"ProfileLikes":case"ProfileFriends":case"ProfileFamily":this.profileItems(n);break;case"PostLikes":this.postLikes(i);break;default:}return this},initialize:function(){i.bindAll(this,"render","closeModal","cancelClick","postLikes","profileItems","checkLoadMore","postLikerFetchSuccess"),this.render()}}),x.CommentModalBase=r.ModalDialog.extend({commentSubmit:function(e){if(s.isEnterPressed(e)){var i=t(e.currentTarget),n=i.val().trim(),r=i.data("id");return void 0==n||""===n?!1:(t.ajaxAntiForgery({type:"POST",cache:!1,data:{id:r,text:n},url:"/home/PostComment",success:this.postCommentSuccess,error:function(){t(".currentPost").removeClass("currentPost")},dataType:"json"}),i.parent().parent().addClass("currentPost"),i.val("").css("height","15px").blur(),i.placeholder(),!1)}},postCommentSuccess:function(e){if(e&&e.Success===!0){var i=s.renderTemplate("tmplNewPost",e,w);t(".currentPost").find("#commentsSection").append(i),t(".currentPost").removeClass("currentPost"),window.setTimeout(function(){t("#commentsSection .alert").fadeOut(function(){t(this).remove()})},1500),b.trackPageEvent("commentPost")}else{var i=s.renderTemplate("tmplPostError",e,w);t(".currentPost").find("#commentsSection").append(i),window.setTimeout(function(){t("#commentsSection .alert").fadeOut(function(){t(this).remove()})},1500)}}}),x.MediaModal=x.CommentModalBase.extend({el:"#modal-media",events:{"mouseenter #media-viewer":"enterModal","mouseleave #media-viewer":"leaveModal","keypress .resized":"commentSubmit"},enterModal:function(){t("#modal-media").addClass("hovered")},leaveModal:function(){t("#modal-media").removeClass("hovered")},fetchSidePanel:function(){t.ajax({type:"GET",cache:!1,url:window.headerSettings.sidePanelUrl,data:{count:1},success:function(e){var i=s.renderTemplate("tmplAds",{adverts:e},w);t("#modalAd").html(i)},dataType:"json"})},render:function(){var e,i,n,r,a=this.options.contentid;if(window.profileSettings.posts){var o=t.grep(window.profileSettings.posts,function(t){return t.Id===a});if(o&&1===o.length&&(e=o[0].Comments,i=t("<div/>").html(t("<div/>").html(o[0].Text).text()).text(),n=o[0].PrettyTime,r=o[0].HasMoreComments),void 0!=e&&e.length>0)for(var l=0;e.length>l;l++)if(e[l].IsProfileComment===!0){var h=t.grep(window.profileSettings.profiles,function(t){return t.Id==e[l].ProfileId});h&&1==h.length&&(e[l].Nickname=h[0].DisplayName,e[l].Avatars=h[0].Avatars,e[l].JobTitle=h[0].JobTitle,e[l].ShortAbout=h[0].ShortAbout)}}var c={mediaSource:this.options.mediaSource,mediaCaption:this.options.mediaCaption,profile:window.profileSettings.profile,postText:i,comments:e,prettyTime:n,hasMore:r,contentid:a,loggedInUser:window.siteMaster.LoggedInUser},p=s.renderTemplate("tmplMediaModal",c,w);return this.$el.html(p),this.$el.modal(),b.trackPageEvent("watchMedia"),t("#modal-media").find(".loading-mask").delay(1200).fadeOut(),y.init(".userPop"),this.fetchSidePanel(),this},initialize:function(){i.bindAll(this,"render","closeModal","cancelClick","commentSubmit"),this.render()}}),x.PictureViewer=x.CommentModalBase.extend({el:"#modal-media",events:{"mouseenter #media-viewer":"enterModal","mouseleave #media-viewer":"leaveModal","keypress .resized":"commentSubmit"},enterModal:function(){t("#modal-media").addClass("hovered")},leaveModal:function(){t("#modal-media").removeClass("hovered")},changeMediaInfo:function(e,i){var n=this;t("#modal-media .loading").fadeIn(function(){setTimeout(function(){if(i){var r=t.grep(i,function(t){return t.Id===e});if(r&&1===r.length){var a=t("<div/>").html(t("<div/>").html(r[0].Text).text()).text(),o=r[0].PrettyTime,l=r[0].Comments;if(void 0!=l&&l.length>0)for(var h=0;l.length>h;h++)if(l[h].IsProfileComment===!0){var c=t.grep(window.profileSettings.profiles,function(t){return t.Id==l[h].ProfileId});c&&1==c.length&&(l[h].Nickname=c[0].DisplayName,l[h].Avatars=c[0].Avatars,l[h].JobTitle=c[0].JobTitle,l[h].ShortAbout=c[0].ShortAbout)}var p={comments:l,hasMore:r[0].HasMoreComments,contentid:e,loggedInUser:window.siteMaster.LoggedInUser},u=s.renderTemplate("tmplComments",p,w);t("#postComments").html(u),t("#postText").html(a),t("#timeDiv").text(o)}}t("#modal-media .loading").fadeOut(),y.init(".userPop"),n.fetchSidePanel()},150)})},fetchSidePanel:function(){t.ajax({type:"GET",cache:!1,url:window.headerSettings.sidePanelUrl,data:{count:1},success:function(e){var i=s.renderTemplate("tmplAds",{adverts:e},w);t("#pictureViewerAd").html(i)},dataType:"json"})},render:function(){var e=this.options.photoData,i={posts:e,profile:window.profileSettings.profile},n=s.renderTemplate("tmplPictureModal",i,w);this.$el.html(n),this.$el.modal(),b.trackPageEvent("viewSlideShow");var r=this,a=t("#media-viewer");return a.on("initialized.owl.carousel",function(i){var n=a.find(".owl-item:not(.cloned)").get(i.item.index),s=t(n).find("li").data("id");r.changeMediaInfo(s,e)}),a.owlCarousel({items:1,nav:!0,navClass:["owl-prev arrow back","owl-next arrow forward"],navText:['<a href="#"><span></span></a>','<a href="#"><span></span></a>'],loop:!0}),a.on("changed.owl.carousel",function(i){var n=a.find(".owl-item:not(.cloned)").get(i.item.index),s=t(n).find("li").data("id");r.changeMediaInfo(s,e)}),t("#modal-media").find(".loading-mask").delay(1200).fadeOut(),this},initialize:function(){i.bindAll(this,"render","closeModal","cancelClick","changeMediaInfo"),this.render()}}),x}),define("hbs!template/profile/themedShareModal",["hbs","handlebars","template/helpers/ifequals"],function(t,e){var i=e.template(function(t,e,i,n,s){function r(){return"\r\n							Sharing to social network.\r\n						"}function a(){return"\r\n							Sharing to a social network will make this post publicly viewable.\r\n						"}function o(t){var e,i="";return i+='\r\n						<div class="post attachment clearfix">\r\n							<p class="contentImg">\r\n								<img src="'+m((e=t&&t.content,e=null==e||e===!1?e:e.TwitterContent,e=null==e||e===!1?e:e.Image,typeof e===f?e.apply(t):e))+'" />\r\n							</p>\r\n						</div>\r\n					'}function l(){return" disabled"}function h(){return' data-original-title="Coming Soon" rel="twipsy"'}this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,t.helpers);var c,p,u,d="",f="function",m=this.escapeExpression,g=this,v=i.helperMissing;return d+='<div class="share-modal-wrap">\r\n	<div class="modal-header">\r\n	  <a class="close" href="#">x</a>\r\n	  <h3>Share with your friends</h3>\r\n	</div>\r\n	\r\n	<div class="modal-body">\r\n		<ul class="tabs">\r\n			<li class="active">\r\n				<a href="#" class="tab" id="twitter" data-service="twitter" data-posturl="',(p=i.posturl_twit)?c=p.call(e,{hash:{}}):(p=e&&e.posturl_twit,c=typeof p===f?p.call(e,{hash:{}}):p),d+=m(c)+'">\r\n					Twitter\r\n				</a>\r\n			</li>\r\n			<li>\r\n				<a href="#" class="tab" id="copylink">\r\n					Copy Link\r\n				</a>\r\n			</li>\r\n		</ul>\r\n		\r\n		<div class="twitter content">\r\n			<div class="header clearfix">\r\n				<textarea placeholder="Write something..." data-service="twitter" maxlength="'+m((c=e&&e.content,c=null==c||c===!1?c:c.TwitterContent,c=null==c||c===!1?c:c.MaxLength,typeof c===f?c.apply(e):c))+'">'+m((c=e&&e.content,c=null==c||c===!1?c:c.TwitterContent,c=null==c||c===!1?c:c.Message,typeof c===f?c.apply(e):c))+'</textarea>\r\n			</div>    \r\n			<div class="sharingStatus clearfix">\r\n				<span></span>\r\n				<div class="statusContent">\r\n					<p class="message" id="activity-share-message-twitter">\r\n						',p=i.ifequals||e&&e.ifequals,u={hash:{},inverse:g.program(3,a,s),fn:g.program(1,r,s)},c=p?p.call(e,e&&e.feedType,"",u):v.call(e,"ifequals",e&&e.feedType,"",u),(c||0===c)&&(d+=c),d+="\r\n					</p>\r\n					",c=i["if"].call(e,(c=e&&e.content,c=null==c||c===!1?c:c.TwitterContent,null==c||c===!1?c:c.Image),{hash:{},inverse:g.noop,fn:g.program(5,o,s)}),(c||0===c)&&(d+=c),d+='\r\n				</div>\r\n			</div>\r\n			<div class="social clearfix">\r\n				<a class="btnTwitter',c=i.unless.call(e,e&&e.showTwitter,{hash:{},inverse:g.noop,fn:g.program(7,l,s)}),(c||0===c)&&(d+=c),d+=' GA_Track" data-ga="share_message_via_twitter" data-category="',(p=i.category)?c=p.call(e,{hash:{}}):(p=e&&e.category,c=typeof p===f?p.call(e,{hash:{}}):p),d+=m(c)+'" data-service="twitter" data-posturl="',(p=i.posturl_twit)?c=p.call(e,{hash:{}}):(p=e&&e.posturl_twit,c=typeof p===f?p.call(e,{hash:{}}):p),d+=m(c)+'" data-id="',(p=i.id)?c=p.call(e,{hash:{}}):(p=e&&e.id,c=typeof p===f?p.call(e,{hash:{}}):p),d+=m(c)+'" data-feedtype="',(p=i.feedType)?c=p.call(e,{hash:{}}):(p=e&&e.feedType,c=typeof p===f?p.call(e,{hash:{}}):p),d+=m(c)+'" href="#"',c=i.unless.call(e,e&&e.showTwitter,{hash:{},inverse:g.noop,fn:g.program(9,h,s)}),(c||0===c)&&(d+=c),d+='><span>share with twitter</span></a>\r\n				<p class="messagecounter">140</p>\r\n			</div>\r\n		</div>\r\n		<div class="copylink content" style="display:none">\r\n			<p>Paste link in email or IM</p>\r\n			<input type="text" value="'+m((c=e&&e.content,c=null==c||c===!1?c:c.Url,typeof c===f?c.apply(e):c))+'" onclick="this.select();">\r\n		</div>\r\n		<div class="loading-mask ',(p=i.spinner)?c=p.call(e,{hash:{}}):(p=e&&e.spinner,c=typeof p===f?p.call(e,{hash:{}}):p),d+=m(c)+'"></div>\r\n	</div>\r\n</div>'});return i}),function(){function t(t,e){return e=e||"","string"!=typeof t&&(t.global&&0>e.indexOf("g")&&(e+="g"),t.ignoreCase&&0>e.indexOf("i")&&(e+="i"),t.multiline&&0>e.indexOf("m")&&(e+="m"),t=t.source),RegExp(t.replace(/#\{(\w+)\}/g,function(t,e){var i=r.txt.regexen[e]||"";return"string"!=typeof i&&(i=i.source),i}),e)}function e(t,e){return t.replace(/#\{(\w+)\}/g,function(t,i){return e[i]||""})}function i(t,e,i){var n=String.fromCharCode(e);return i!==e&&(n+="-"+String.fromCharCode(i)),t.push(n),t}function n(t){var e={};for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e}function s(t,e,i){return i?!t||t.match(e)&&RegExp["$&"]===t:"string"==typeof t&&t.match(e)&&RegExp["$&"]===t}if(r===void 0||null===r)var r={};r.txt={},r.txt.regexen={};var a={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#39;"};r.txt.htmlEscape=function(t){return t&&t.replace(/[&"'><]/g,function(t){return a[t]})},r.txt.regexSupplant=t,r.txt.stringSupplant=e,r.txt.addCharsToCharClass=i;var o=String.fromCharCode,l=[o(32),o(133),o(160),o(5760),o(6158),o(8232),o(8233),o(8239),o(8287),o(12288)];i(l,9,13),i(l,8192,8202);var h=[o(65534),o(65279),o(65535)];i(h,8234,8238),r.txt.regexen.spaces_group=t(l.join("")),r.txt.regexen.spaces=t("["+l.join("")+"]"),r.txt.regexen.invalid_chars_group=t(h.join("")),r.txt.regexen.punct=/\!'#%&'\(\)*\+,\\\-\.\/:;<=>\?@\[\]\^_{|}~\$/,r.txt.regexen.rtl_chars=/[\u0600-\u06FF]|[\u0750-\u077F]|[\u0590-\u05FF]|[\uFE70-\uFEFF]/gm,r.txt.regexen.non_bmp_code_pairs=/[\uD800-\uDBFF][\uDC00-\uDFFF]/gm;var c=[];i(c,1024,1279),i(c,1280,1319),i(c,11744,11775),i(c,42560,42655),i(c,1425,1471),i(c,1473,1474),i(c,1476,1477),i(c,1479,1479),i(c,1488,1514),i(c,1520,1524),i(c,64274,64296),i(c,64298,64310),i(c,64312,64316),i(c,64318,64318),i(c,64320,64321),i(c,64323,64324),i(c,64326,64335),i(c,1552,1562),i(c,1568,1631),i(c,1646,1747),i(c,1749,1756),i(c,1758,1768),i(c,1770,1775),i(c,1786,1788),i(c,1791,1791),i(c,1872,1919),i(c,2208,2208),i(c,2210,2220),i(c,2276,2302),i(c,64336,64433),i(c,64467,64829),i(c,64848,64911),i(c,64914,64967),i(c,65008,65019),i(c,65136,65140),i(c,65142,65276),i(c,8204,8204),i(c,3585,3642),i(c,3648,3662),i(c,4352,4607),i(c,12592,12677),i(c,43360,43391),i(c,44032,55215),i(c,55216,55295),i(c,65441,65500),i(c,12449,12538),i(c,12540,12542),i(c,65382,65439),i(c,65392,65392),i(c,65296,65305),i(c,65313,65338),i(c,65345,65370),i(c,12353,12438),i(c,12441,12446),i(c,13312,19903),i(c,19968,40959),i(c,173824,177983),i(c,177984,178207),i(c,194560,195103),i(c,12291,12291),i(c,12293,12293),i(c,12347,12347),r.txt.regexen.nonLatinHashtagChars=t(c.join(""));var p=[];i(p,192,214),i(p,216,246),i(p,248,255),i(p,256,591),i(p,595,596),i(p,598,599),i(p,601,601),i(p,603,603),i(p,611,611),i(p,616,616),i(p,623,623),i(p,626,626),i(p,649,649),i(p,651,651),i(p,699,699),i(p,768,879),i(p,7680,7935),r.txt.regexen.latinAccentChars=t(p.join("")),r.txt.regexen.hashSigns=/[#＃]/,r.txt.regexen.hashtagAlpha=t(/[a-z_#{latinAccentChars}#{nonLatinHashtagChars}]/i),r.txt.regexen.hashtagAlphaNumeric=t(/[a-z0-9_#{latinAccentChars}#{nonLatinHashtagChars}]/i),r.txt.regexen.endHashtagMatch=t(/^(?:#{hashSigns}|:\/\/)/),r.txt.regexen.hashtagBoundary=t(/(?:^|$|[^&a-z0-9_#{latinAccentChars}#{nonLatinHashtagChars}])/),r.txt.regexen.validHashtag=t(/(#{hashtagBoundary})(#{hashSigns})(#{hashtagAlphaNumeric}*#{hashtagAlpha}#{hashtagAlphaNumeric}*)/gi),r.txt.regexen.validMentionPrecedingChars=/(?:^|[^a-zA-Z0-9_!#$%&*@＠]|RT:?)/,r.txt.regexen.atSigns=/[@＠]/,r.txt.regexen.validMentionOrList=t("(#{validMentionPrecedingChars})(#{atSigns})([a-zA-Z0-9_]{1,20})(/[a-zA-Z][a-zA-Z0-9_-]{0,24})?","g"),r.txt.regexen.validReply=t(/^(?:#{spaces})*#{atSigns}([a-zA-Z0-9_]{1,20})/),r.txt.regexen.endMentionMatch=t(/^(?:#{atSigns}|[#{latinAccentChars}]|:\/\/)/),r.txt.regexen.validUrlPrecedingChars=t(/(?:[^A-Za-z0-9@＠$#＃#{invalid_chars_group}]|^)/),r.txt.regexen.invalidUrlWithoutProtocolPrecedingChars=/[-_.\/]$/,r.txt.regexen.invalidDomainChars=e("#{punct}#{spaces_group}#{invalid_chars_group}",r.txt.regexen),r.txt.regexen.validDomainChars=t(/[^#{invalidDomainChars}]/),r.txt.regexen.validSubdomain=t(/(?:(?:#{validDomainChars}(?:[_-]|#{validDomainChars})*)?#{validDomainChars}\.)/),r.txt.regexen.validDomainName=t(/(?:(?:#{validDomainChars}(?:-|#{validDomainChars})*)?#{validDomainChars}\.)/),r.txt.regexen.validGTLD=t(/(?:(?:aero|asia|biz|cat|com|coop|edu|gov|info|int|jobs|mil|mobi|museum|name|net|org|pro|tel|travel|xxx)(?=[^0-9a-zA-Z]|$))/),r.txt.regexen.validCCTLD=t(RegExp("(?:(?:ac|ad|ae|af|ag|ai|al|am|an|ao|aq|ar|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|bi|bj|bm|bn|bo|br|bs|bt|bv|bw|by|bz|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|co|cr|cs|cu|cv|cx|cy|cz|dd|de|dj|dk|dm|do|dz|ec|ee|eg|eh|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|in|io|iq|ir|is|it|je|jm|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mg|mh|mk|ml|mm|mn|mo|mp|mq|mr|ms|mt|mu|mv|mw|mx|my|mz|na|nc|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|pa|pe|pf|pg|ph|pk|pl|pm|pn|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|sk|sl|sm|sn|so|sr|ss|st|su|sv|sx|sy|sz|tc|td|tf|tg|th|tj|tk|tl|tm|tn|to|tp|tr|tt|tv|tw|tz|ua|ug|uk|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|ye|yt|za|zm|zw)(?=[^0-9a-zA-Z]|$))")),r.txt.regexen.validPunycode=t(/(?:xn--[0-9a-z]+)/),r.txt.regexen.validDomain=t(/(?:#{validSubdomain}*#{validDomainName}(?:#{validGTLD}|#{validCCTLD}|#{validPunycode}))/),r.txt.regexen.validAsciiDomain=t(/(?:(?:[\-a-z0-9#{latinAccentChars}]+)\.)+(?:#{validGTLD}|#{validCCTLD}|#{validPunycode})/gi),r.txt.regexen.invalidShortDomain=t(/^#{validDomainName}#{validCCTLD}$/),r.txt.regexen.validPortNumber=t(/[0-9]+/),r.txt.regexen.validGeneralUrlPathChars=t(/[a-z0-9!\*';:=\+,\.\$\/%#\[\]\-_~@|&#{latinAccentChars}]/i),r.txt.regexen.validUrlBalancedParens=t(/\(#{validGeneralUrlPathChars}+\)/i),r.txt.regexen.validUrlPathEndingChars=t(/[\+\-a-z0-9=_#\/#{latinAccentChars}]|(?:#{validUrlBalancedParens})/i),r.txt.regexen.validUrlPath=t("(?:(?:#{validGeneralUrlPathChars}*(?:#{validUrlBalancedParens}#{validGeneralUrlPathChars}*)*#{validUrlPathEndingChars})|(?:@#{validGeneralUrlPathChars}+/))","i"),r.txt.regexen.validUrlQueryChars=/[a-z0-9!?\*'@\(\);:&=\+\$\/%#\[\]\-_\.,~|]/i,r.txt.regexen.validUrlQueryEndingChars=/[a-z0-9_&=#\/]/i,r.txt.regexen.extractUrl=t("((#{validUrlPrecedingChars})((https?:\\/\\/)?(#{validDomain})(?::(#{validPortNumber}))?(\\/#{validUrlPath}*)?(\\?#{validUrlQueryChars}*#{validUrlQueryEndingChars})?))","gi"),r.txt.regexen.validTcoUrl=/^https?:\/\/t\.co\/[a-z0-9]+/i,r.txt.regexen.urlHasProtocol=/^https?:\/\//i,r.txt.regexen.urlHasHttps=/^https:\/\//i,r.txt.regexen.cashtag=/[a-z]{1,6}(?:[._][a-z]{1,2})?/i,r.txt.regexen.validCashtag=t("(^|#{spaces})(\\$)(#{cashtag})(?=$|\\s|[#{punct}])","gi"),r.txt.regexen.validateUrlUnreserved=/[a-z0-9\-._~]/i,r.txt.regexen.validateUrlPctEncoded=/(?:%[0-9a-f]{2})/i,r.txt.regexen.validateUrlSubDelims=/[!$&'()*+,;=]/i,r.txt.regexen.validateUrlPchar=t("(?:#{validateUrlUnreserved}|#{validateUrlPctEncoded}|#{validateUrlSubDelims}|[:|@])","i"),r.txt.regexen.validateUrlScheme=/(?:[a-z][a-z0-9+\-.]*)/i,r.txt.regexen.validateUrlUserinfo=t("(?:#{validateUrlUnreserved}|#{validateUrlPctEncoded}|#{validateUrlSubDelims}|:)*","i"),r.txt.regexen.validateUrlDecOctet=/(?:[0-9]|(?:[1-9][0-9])|(?:1[0-9]{2})|(?:2[0-4][0-9])|(?:25[0-5]))/i,r.txt.regexen.validateUrlIpv4=t(/(?:#{validateUrlDecOctet}(?:\.#{validateUrlDecOctet}){3})/i),r.txt.regexen.validateUrlIpv6=/(?:\[[a-f0-9:\.]+\])/i,r.txt.regexen.validateUrlIp=t("(?:#{validateUrlIpv4}|#{validateUrlIpv6})","i"),r.txt.regexen.validateUrlSubDomainSegment=/(?:[a-z0-9](?:[a-z0-9_\-]*[a-z0-9])?)/i,r.txt.regexen.validateUrlDomainSegment=/(?:[a-z0-9](?:[a-z0-9\-]*[a-z0-9])?)/i,r.txt.regexen.validateUrlDomainTld=/(?:[a-z](?:[a-z0-9\-]*[a-z0-9])?)/i,r.txt.regexen.validateUrlDomain=t(/(?:(?:#{validateUrlSubDomainSegment]}\.)*(?:#{validateUrlDomainSegment]}\.)#{validateUrlDomainTld})/i),r.txt.regexen.validateUrlHost=t("(?:#{validateUrlIp}|#{validateUrlDomain})","i"),r.txt.regexen.validateUrlUnicodeSubDomainSegment=/(?:(?:[a-z0-9]|[^\u0000-\u007f])(?:(?:[a-z0-9_\-]|[^\u0000-\u007f])*(?:[a-z0-9]|[^\u0000-\u007f]))?)/i,r.txt.regexen.validateUrlUnicodeDomainSegment=/(?:(?:[a-z0-9]|[^\u0000-\u007f])(?:(?:[a-z0-9\-]|[^\u0000-\u007f])*(?:[a-z0-9]|[^\u0000-\u007f]))?)/i,r.txt.regexen.validateUrlUnicodeDomainTld=/(?:(?:[a-z]|[^\u0000-\u007f])(?:(?:[a-z0-9\-]|[^\u0000-\u007f])*(?:[a-z0-9]|[^\u0000-\u007f]))?)/i,r.txt.regexen.validateUrlUnicodeDomain=t(/(?:(?:#{validateUrlUnicodeSubDomainSegment}\.)*(?:#{validateUrlUnicodeDomainSegment}\.)#{validateUrlUnicodeDomainTld})/i),r.txt.regexen.validateUrlUnicodeHost=t("(?:#{validateUrlIp}|#{validateUrlUnicodeDomain})","i"),r.txt.regexen.validateUrlPort=/[0-9]{1,5}/,r.txt.regexen.validateUrlUnicodeAuthority=t("(?:(#{validateUrlUserinfo})@)?(#{validateUrlUnicodeHost})(?::(#{validateUrlPort}))?","i"),r.txt.regexen.validateUrlAuthority=t("(?:(#{validateUrlUserinfo})@)?(#{validateUrlHost})(?::(#{validateUrlPort}))?","i"),r.txt.regexen.validateUrlPath=t(/(\/#{validateUrlPchar}*)*/i),r.txt.regexen.validateUrlQuery=t(/(#{validateUrlPchar}|\/|\?)*/i),r.txt.regexen.validateUrlFragment=t(/(#{validateUrlPchar}|\/|\?)*/i),r.txt.regexen.validateUrlUnencoded=t("^(?:([^:/?#]+):\\/\\/)?([^/?#]*)([^?#]*)(?:\\?([^#]*))?(?:#(.*))?$","i");
var u="tweet-url list-slug",d="tweet-url username",f="tweet-url hashtag",m="tweet-url cashtag",g={urlClass:!0,listClass:!0,usernameClass:!0,hashtagClass:!0,cashtagClass:!0,usernameUrlBase:!0,listUrlBase:!0,hashtagUrlBase:!0,cashtagUrlBase:!0,usernameUrlBlock:!0,listUrlBlock:!0,hashtagUrlBlock:!0,linkUrlBlock:!0,usernameIncludeSymbol:!0,suppressLists:!0,suppressNoFollow:!0,targetBlank:!0,suppressDataScreenName:!0,urlEntities:!0,symbolTag:!0,textWithSymbolTag:!0,urlTarget:!0,invisibleTagAttrs:!0,linkAttributeBlock:!0,linkTextBlock:!0,htmlEscapeNonEntities:!0},v={disabled:!0,readonly:!0,multiple:!0,checked:!0};r.txt.tagAttrs=function(t){var e="";for(var i in t){var n=t[i];v[i]&&(n=n?i:null),null!=n&&(e+=" "+r.txt.htmlEscape(i)+'="'+r.txt.htmlEscape(""+n)+'"')}return e},r.txt.linkToText=function(t,i,n,s){s.suppressNoFollow||(n.rel="nofollow"),s.linkAttributeBlock&&s.linkAttributeBlock(t,n),s.linkTextBlock&&(i=s.linkTextBlock(t,i));var a={text:i,attr:r.txt.tagAttrs(n)};return e("<a#{attr}>#{text}</a>",a)},r.txt.linkToTextWithSymbol=function(t,e,i,n,s){var a=s.symbolTag?"<"+s.symbolTag+">"+e+"</"+s.symbolTag+">":e;i=r.txt.htmlEscape(i);var o=s.textWithSymbolTag?"<"+s.textWithSymbolTag+">"+i+"</"+s.textWithSymbolTag+">":i;return s.usernameIncludeSymbol||!e.match(r.txt.regexen.atSigns)?r.txt.linkToText(t,a+o,n,s):a+r.txt.linkToText(t,o,n,s)},r.txt.linkToHashtag=function(t,e,i){var s=e.substring(t.indices[0],t.indices[0]+1),a=r.txt.htmlEscape(t.hashtag),o=n(i.htmlAttrs||{});return o.href=i.hashtagUrlBase+a,o.title="#"+a,o["class"]=i.hashtagClass,a.charAt(0).match(r.txt.regexen.rtl_chars)&&(o["class"]+=" rtl"),i.targetBlank&&(o.target="_blank"),r.txt.linkToTextWithSymbol(t,s,a,o,i)},r.txt.linkToCashtag=function(t,e,i){var s=r.txt.htmlEscape(t.cashtag),a=n(i.htmlAttrs||{});return a.href=i.cashtagUrlBase+s,a.title="$"+s,a["class"]=i.cashtagClass,i.targetBlank&&(a.target="_blank"),r.txt.linkToTextWithSymbol(t,"$",s,a,i)},r.txt.linkToMentionAndList=function(t,e,i){var s=e.substring(t.indices[0],t.indices[0]+1),a=r.txt.htmlEscape(t.screenName),o=r.txt.htmlEscape(t.listSlug),l=t.listSlug&&!i.suppressLists,h=n(i.htmlAttrs||{});return h["class"]=l?i.listClass:i.usernameClass,h.href=l?i.listUrlBase+a+o:i.usernameUrlBase+a,l||i.suppressDataScreenName||(h["data-screen-name"]=a),i.targetBlank&&(h.target="_blank"),r.txt.linkToTextWithSymbol(t,s,l?a+o:a,h,i)},r.txt.linkToUrl=function(t,e,i){var s=t.url,a=s,o=r.txt.htmlEscape(a),l=i.urlEntities&&i.urlEntities[s]||t;l.display_url&&(o=r.txt.linkTextWithEntity(l,i));var h=n(i.htmlAttrs||{});return s.match(r.txt.regexen.urlHasProtocol)||(s="http://"+s),h.href=s,i.targetBlank&&(h.target="_blank"),i.urlClass&&(h["class"]=i.urlClass),i.urlTarget&&(h.target=i.urlTarget),!i.title&&l.display_url&&(h.title=l.expanded_url),r.txt.linkToText(t,o,h,i)},r.txt.linkTextWithEntity=function(t,i){var n=t.display_url,s=t.expanded_url,a=n.replace(/…/g,"");if(-1!=s.indexOf(a)){var o=s.indexOf(a),l={displayUrlSansEllipses:a,beforeDisplayUrl:s.substr(0,o),afterDisplayUrl:s.substr(o+a.length),precedingEllipsis:n.match(/^…/)?"…":"",followingEllipsis:n.match(/…$/)?"…":""};for(var h in l)l.hasOwnProperty(h)&&(l[h]=r.txt.htmlEscape(l[h]));return l.invisible=i.invisibleTagAttrs,e("<span class='tco-ellipsis'>#{precedingEllipsis}<span #{invisible}>&nbsp;</span></span><span #{invisible}>#{beforeDisplayUrl}</span><span class='js-display-url'>#{displayUrlSansEllipses}</span><span #{invisible}>#{afterDisplayUrl}</span><span class='tco-ellipsis'><span #{invisible}>&nbsp;</span>#{followingEllipsis}</span>",l)}return n},r.txt.autoLinkEntities=function(t,e,i){i=n(i||{}),i.hashtagClass=i.hashtagClass||f,i.hashtagUrlBase=i.hashtagUrlBase||"https://web.archive.org/web/20171022123408/https://twitter.com/#!/search?q=%23",i.cashtagClass=i.cashtagClass||m,i.cashtagUrlBase=i.cashtagUrlBase||"https://web.archive.org/web/20171022123408/https://twitter.com/#!/search?q=%24",i.listClass=i.listClass||u,i.usernameClass=i.usernameClass||d,i.usernameUrlBase=i.usernameUrlBase||"https://web.archive.org/web/20171022123408/https://twitter.com/",i.listUrlBase=i.listUrlBase||"https://web.archive.org/web/20171022123408/https://twitter.com/",i.htmlAttrs=r.txt.extractHtmlAttrsFromOptions(i),i.invisibleTagAttrs=i.invisibleTagAttrs||"style='position:absolute;left:-9999px;'";var s,a,o;if(i.urlEntities){for(s={},a=0,o=i.urlEntities.length;o>a;a++)s[i.urlEntities[a].url]=i.urlEntities[a];i.urlEntities=s}var l="",h=0;e.sort(function(t,e){return t.indices[0]-e.indices[0]});for(var c=i.htmlEscapeNonEntities?r.txt.htmlEscape:function(t){return t},a=0;e.length>a;a++){var p=e[a];l+=c(t.substring(h,p.indices[0])),p.url?l+=r.txt.linkToUrl(p,t,i):p.hashtag?l+=r.txt.linkToHashtag(p,t,i):p.screenName?l+=r.txt.linkToMentionAndList(p,t,i):p.cashtag&&(l+=r.txt.linkToCashtag(p,t,i)),h=p.indices[1]}return l+=c(t.substring(h,t.length))},r.txt.autoLinkWithJSON=function(t,e,i){var n=[];for(var s in e)n=n.concat(e[s]);for(var a=0;n.length>a;a++)entity=n[a],entity.screen_name?entity.screenName=entity.screen_name:entity.text&&(entity.hashtag=entity.text);return r.txt.modifyIndicesFromUnicodeToUTF16(t,n),r.txt.autoLinkEntities(t,n,i)},r.txt.extractHtmlAttrsFromOptions=function(t){var e={};for(var i in t){var n=t[i];g[i]||(v[i]&&(n=n?i:null),null!=n&&(e[i]=n))}return e},r.txt.autoLink=function(t,e){var i=r.txt.extractEntitiesWithIndices(t,{extractUrlsWithoutProtocol:!1});return r.txt.autoLinkEntities(t,i,e)},r.txt.autoLinkUsernamesOrLists=function(t,e){var i=r.txt.extractMentionsOrListsWithIndices(t);return r.txt.autoLinkEntities(t,i,e)},r.txt.autoLinkHashtags=function(t,e){var i=r.txt.extractHashtagsWithIndices(t);return r.txt.autoLinkEntities(t,i,e)},r.txt.autoLinkCashtags=function(t,e){var i=r.txt.extractCashtagsWithIndices(t);return r.txt.autoLinkEntities(t,i,e)},r.txt.autoLinkUrlsCustom=function(t,e){var i=r.txt.extractUrlsWithIndices(t,{extractUrlsWithoutProtocol:!1});return r.txt.autoLinkEntities(t,i,e)},r.txt.removeOverlappingEntities=function(t){t.sort(function(t,e){return t.indices[0]-e.indices[0]});for(var e=t[0],i=1;t.length>i;i++)e.indices[1]>t[i].indices[0]?(t.splice(i,1),i--):e=t[i]},r.txt.extractEntitiesWithIndices=function(t,e){var i=r.txt.extractUrlsWithIndices(t,e).concat(r.txt.extractMentionsOrListsWithIndices(t)).concat(r.txt.extractHashtagsWithIndices(t,{checkUrlOverlap:!1})).concat(r.txt.extractCashtagsWithIndices(t));return 0==i.length?[]:(r.txt.removeOverlappingEntities(i),i)},r.txt.extractMentions=function(t){for(var e=[],i=r.txt.extractMentionsWithIndices(t),n=0;i.length>n;n++){var s=i[n].screenName;e.push(s)}return e},r.txt.extractMentionsWithIndices=function(t){for(var e,i=[],n=r.txt.extractMentionsOrListsWithIndices(t),s=0;n.length>s;s++)e=n[s],""==e.listSlug&&i.push({screenName:e.screenName,indices:e.indices});return i},r.txt.extractMentionsOrListsWithIndices=function(t){if(!t||!t.match(r.txt.regexen.atSigns))return[];var e=[];return t.replace(r.txt.regexen.validMentionOrList,function(t,i,n,s,a,o,l){var h=l.slice(o+t.length);if(!h.match(r.txt.regexen.endMentionMatch)){a=a||"";var c=o+i.length,p=c+s.length+a.length+1;e.push({screenName:s,listSlug:a,indices:[c,p]})}}),e},r.txt.extractReplies=function(t){if(!t)return null;var e=t.match(r.txt.regexen.validReply);return!e||RegExp.rightContext.match(r.txt.regexen.endMentionMatch)?null:e[1]},r.txt.extractUrls=function(t,e){for(var i=[],n=r.txt.extractUrlsWithIndices(t,e),s=0;n.length>s;s++)i.push(n[s].url);return i},r.txt.extractUrlsWithIndices=function(t,e){if(e||(e={extractUrlsWithoutProtocol:!0}),!t||(e.extractUrlsWithoutProtocol?!t.match(/\./):!t.match(/:/)))return[];for(var i=[];r.txt.regexen.extractUrl.exec(t);){var n=RegExp.$2,s=RegExp.$3,a=RegExp.$4,o=RegExp.$5,l=RegExp.$7,h=r.txt.regexen.extractUrl.lastIndex,c=h-s.length;if(a)s.match(r.txt.regexen.validTcoUrl)&&(s=RegExp.lastMatch,h=c+s.length),i.push({url:s,indices:[c,h]});else{if(!e.extractUrlsWithoutProtocol||n.match(r.txt.regexen.invalidUrlWithoutProtocolPrecedingChars))continue;var p=null,u=!1,d=0;if(o.replace(r.txt.regexen.validAsciiDomain,function(t){var e=o.indexOf(t,d);d=e+t.length,p={url:t,indices:[c+e,c+d]},u=t.match(r.txt.regexen.invalidShortDomain),u||i.push(p)}),null==p)continue;l&&(u&&i.push(p),p.url=s.replace(o,p.url),p.indices[1]=h)}}return i},r.txt.extractHashtags=function(t){for(var e=[],i=r.txt.extractHashtagsWithIndices(t),n=0;i.length>n;n++)e.push(i[n].hashtag);return e},r.txt.extractHashtagsWithIndices=function(t,e){if(e||(e={checkUrlOverlap:!0}),!t||!t.match(r.txt.regexen.hashSigns))return[];var i=[];if(t.replace(r.txt.regexen.validHashtag,function(t,e,n,s,a,o){var l=o.slice(a+t.length);if(!l.match(r.txt.regexen.endHashtagMatch)){var h=a+e.length,c=h+s.length+1;i.push({hashtag:s,indices:[h,c]})}}),e.checkUrlOverlap){var n=r.txt.extractUrlsWithIndices(t);if(n.length>0){var s=i.concat(n);r.txt.removeOverlappingEntities(s),i=[];for(var a=0;s.length>a;a++)s[a].hashtag&&i.push(s[a])}}return i},r.txt.extractCashtags=function(t){for(var e=[],i=r.txt.extractCashtagsWithIndices(t),n=0;i.length>n;n++)e.push(i[n].cashtag);return e},r.txt.extractCashtagsWithIndices=function(t){if(!t||-1==t.indexOf("$"))return[];var e=[];return t.replace(r.txt.regexen.validCashtag,function(t,i,n,s,r){var a=r+i.length,o=a+s.length+1;e.push({cashtag:s,indices:[a,o]})}),e},r.txt.modifyIndicesFromUnicodeToUTF16=function(t,e){r.txt.convertUnicodeIndices(t,e,!1)},r.txt.modifyIndicesFromUTF16ToUnicode=function(t,e){r.txt.convertUnicodeIndices(t,e,!0)},r.txt.getUnicodeTextLength=function(t){return t.replace(r.txt.regexen.non_bmp_code_pairs," ").length},r.txt.convertUnicodeIndices=function(t,e,i){if(0!=e.length){var n=0,s=0;e.sort(function(t,e){return t.indices[0]-e.indices[0]});for(var r=0,a=e[0];t.length>n;){if(a.indices[0]==(i?n:s)){var o=a.indices[1]-a.indices[0];if(a.indices[0]=i?s:n,a.indices[1]=a.indices[0]+o,r++,r==e.length)break;a=e[r]}var l=t.charCodeAt(n);l>=55296&&56319>=l&&t.length-1>n&&(l=t.charCodeAt(n+1),l>=56320&&57343>=l&&n++),s++,n++}}},r.txt.splitTags=function(t){for(var e,i,n=t.split("<"),s=[],r=0;n.length>r;r+=1)if(i=n[r]){e=i.split(">");for(var a=0;e.length>a;a+=1)s.push(e[a])}else s.push("");return s},r.txt.hitHighlight=function(t,e,i){var n="em";if(e=e||[],i=i||{},0===e.length)return t;var s,a,o,l,h,c,p,u=i.tag||n,d=["<"+u+">","</"+u+">"],f=r.txt.splitTags(t),m="",g=0,v=f[0],y=0,b=0,w=!1,x=v,k=[];for(s=0;e.length>s;s+=1)for(a=0;e[s].length>a;a+=1)k.push(e[s][a]);for(o=0;k.length>o;o+=1){for(l=k[o],h=d[o%2],c=!1;null!=v&&l>=y+v.length;)m+=x.slice(b),w&&l===y+x.length&&(m+=h,c=!0),f[g+1]&&(m+="<"+f[g+1]+">"),y+=x.length,b=0,g+=2,v=f[g],x=v,w=!1;c||null==v?c||(c=!0,m+=h):(p=l-y,m+=x.slice(b,p)+h,b=p,w=0===o%2?!0:!1)}if(null!=v)for(x.length>b&&(m+=x.slice(b)),o=g+1;f.length>o;o+=1)m+=0===o%2?f[o]:"<"+f[o]+">";return m};var y=140,b=[o(65534),o(65279),o(65535),o(8234),o(8235),o(8236),o(8237),o(8238)];r.txt.getTweetLength=function(t,e){e||(e={short_url_length:22,short_url_length_https:23});var i=r.txt.getUnicodeTextLength(t),n=r.txt.extractUrlsWithIndices(t);r.txt.modifyIndicesFromUTF16ToUnicode(t,n);for(var s=0;n.length>s;s++)i+=n[s].indices[0]-n[s].indices[1],i+=n[s].url.toLowerCase().match(r.txt.regexen.urlHasHttps)?e.short_url_length_https:e.short_url_length;return i},r.txt.isInvalidTweet=function(t){if(!t)return"empty";if(r.txt.getTweetLength(t)>y)return"too_long";for(var e=0;b.length>e;e++)if(t.indexOf(b[e])>=0)return"invalid_characters";return!1},r.txt.isValidTweetText=function(t){return!r.txt.isInvalidTweet(t)},r.txt.isValidUsername=function(t){if(!t)return!1;var e=r.txt.extractMentions(t);return 1===e.length&&e[0]===t.slice(1)};var w=t(/^#{validMentionOrList}$/);if(r.txt.isValidList=function(t){var e=t.match(w);return!(!e||""!=e[1]||!e[4])},r.txt.isValidHashtag=function(t){if(!t)return!1;var e=r.txt.extractHashtags(t);return 1===e.length&&e[0]===t.slice(1)},r.txt.isValidUrl=function(t,e,i){if(null==e&&(e=!0),null==i&&(i=!0),!t)return!1;var n=t.match(r.txt.regexen.validateUrlUnencoded);if(!n||n[0]!==t)return!1;var a=n[1],o=n[2],l=n[3],h=n[4],c=n[5];return(!i||s(a,r.txt.regexen.validateUrlScheme)&&a.match(/^https?$/i))&&s(l,r.txt.regexen.validateUrlPath)&&s(h,r.txt.regexen.validateUrlQuery,!0)&&s(c,r.txt.regexen.validateUrlFragment,!0)?e&&s(o,r.txt.regexen.validateUrlUnicodeAuthority)||!e&&s(o,r.txt.regexen.validateUrlAuthority):!1},"undefined"!=typeof module&&module.exports&&(module.exports=r.txt),"undefined"!=typeof window)if(window.twttr)for(var x in r)window.twttr[x]=r[x];else window.twttr=r}(),define("vendor/twitter-text",function(){}),define("shared/shareModalDialog",["jquery","utils/backbone-utils","hbs!template/profile/themedShareModal","vendor/twitter-text"],function(t,e,i){function n(){t(m).modal("hide")}function s(e){e.preventDefault();var i=e.currentTarget;if(!t(i).hasClass("disabled")){var n=i.getAttribute("data-id"),s=i.getAttribute("data-service"),o=i.getAttribute("data-posturl"),l=i.getAttribute("data-category"),h=i.getAttribute("data-feedtype"),c=t(i).parent().parent().find("textarea").val();a(s,"inprogress","Sharing message with "+s+". Please wait."),"twitter"===s&&v?t.ajaxAntiForgery({url:o,type:"post",data:{message:c},dataType:"json",success:function(t){r(t,s,n,l,h)},error:function(){log("error sharing to "+s),r(null,s)}}):a(s,"error","This is currently disabled.")}}function r(e,i,n,s,r){var o="",l=""==r?"This content is shared on "+i+"!":"This post is public and shared on "+i+"!";if(e?1!=e.Status&&e.Error&&(o=e.Error.Message,e.Error.Code.toLowerCase()==i+".duplicatepost"&&t(".padlock").attr("src","/images/icons/unlocked.png")):o="There was an error sharing content",""!=o)a(i,"error",o);else{var h=e.ThirdPartyReferenceId,c="id:"+n+", ref: "+h+", service: "+i;analyticsManager.trackPageEvent("shareActivity",c),a(i,"confirmation",l),t(".padlock").attr("src","/images/icons/unlocked.png")}}function a(e,i,n){var s="#activity-share-message-"+e,r=t(m);t(s).closest(".sharingStatus").attr("class","sharingStatus clearfix "+i),r.find(s).html(n);var a=r.find(".btnTwitter"),o=r.find("textarea");switch(i){case"inprogress":a.addClass("disabled"),o.each(function(){t(this).attr("disabled","disabled")});break;default:v&&a.removeClass("disabled"),o.each(function(){t(this).removeAttr("disabled")})}}function o(e){var i=e.currentTarget,n=t(i).val(),s=i.getAttribute("data-service");if("twitter"===s){var r=i.getAttribute("data-httpUrlLength"),a=i.getAttribute("data-httpsUrlLength"),o=i.getAttribute("data-charsForMedia"),h=l(n,r,a,o),c=t("#shareModal ."+s+".content p.messagecounter"),p=t("#shareModal ."+s+".content .btnTwitter");c.html(h),0>h?(c.addClass("error"),p.addClass("disabled")):(c.removeClass("error"),p.hasClass("disabled")&&v&&p.removeClass("disabled"))}}function l(t,e,i,n){for(var s,r,a,o=t,l="",h="",r=0;e>r;r++)l+="a";for(var r=0;i>r;r++)h+="a";var c=twttr.txt.extractUrlsWithIndices(t),p=140;if(a=c.length,a>0)for(var r=0;a>r;r++)s=c[r].url,o=o.replace(s,0==s.indexOf("https")?h:l);return p=p-o.length-n}function h(e){e.preventDefault();var i=t(m);i.find("li").removeClass("active");var n=e.currentTarget;t(n).parent().addClass("active"),i.find("div.content").hide();var s=i.find("div."+n.id+".content");t(s).fadeIn("slow"),"copylink"==n.id?t(s).find("input").focus():t(s).find("textarea").focus()}function c(i){i.spinner="show",p(i),i.spinner="hide";var n=i.dataurl;t.ajax({url:n,type:"get",dataType:"json",success:function(n){if(n&&1==n.Status){i.content=n;var r=e.renderTemplate("tmplShareModal",i,f);t(m).html(r),t(".btnTwitter").bind("click",s),t("textarea").bind("keyup",o),t("textarea").trigger("keyup")}else u()},error:function(){u()}})}function p(i){var s=e.renderTemplate("tmplShareModal",i,f);if(!t("#shareModal")||!t("#shareModal").length||0>t("#shareModal").length){t("<div></div>",{"class":"modal hide fade modal-list",id:"shareModal","data-theme":i.theme}).appendTo("body");var r=t(m);r.html(s).modal({keyboard:!0,backdrop:!0,show:!0}),t(document).off("click",m+" a.close").on("click",m+" a.close",n),t(document).off("click",m+" .tab").on("click",m+" .tab",h)}else t(m).html(s).modal("show")}function u(){t(m).find(".modal-body").html('<div class="sharingStatus error">Oops, something went wrong, please retry</div')}var d={},f={};f.tmplShareModal=i;var m="#shareModal",g="standard",v=window.profileSettings&&window.profileSettings.showTwitter?window.profileSettings.showTwitter:!1,y=["standard","lifeinvader"];return d.init=function(e){(void 0===e.url||""==e.url)&&(e.url=window.location),void 0!==e.theme&&""!=e.theme&&t.inArray(e.theme,y)||(e.theme=g),(void 0===e.feedType||""==e.feedType)&&(e.feedType=""),e.showTwitter=v=window.profileSettings&&window.profileSettings.showTwitter?window.profileSettings.showTwitter:!1,c(e)},d}),function(t){"function"==typeof define&&define.amd?define("utils/jquery.emptyonclickAMD",["jquery"],t):t(jQuery)}(function(t){t.fn.extend({emptyonclick:function(e){return this.each(function(){new t.EmptyOnClick(this,e)})}}),t.EmptyOnClick=function(e,i){var n=t(e).val();t(e).bind("focus",function(){n==t(this).val()&&t(this).val(""),t(this).css("color","#000")}).bind("blur",function(){t(this).val()||(t(this).val(n),t(this).css("color","#767676"))}),t("form:has(#"+e.id+")").bind("reset",function(){t(e).val(n),t(e).removeClass(i.changeClass)}).bind("submit",function(){t(e).val()==n&&t(e).val("")})}}),function(t){"function"==typeof define&&define.amd?define("vendor/jquery.autoresize",["jquery"],function(e){t(e)}):t(jQuery)}(function(t){function e(n){return this.filter(e.resizableFilterSelector).each(function(){new i(t(this),n)}),this}function i(i,n){i.data("AutoResizer")&&i.data("AutoResizer").destroy(),n=this.config=t.extend({},e.defaults,n),this.el=i,this.nodeName=i[0].nodeName.toLowerCase(),this.originalHeight=i.height(),this.previousScrollTop=null,this.value=i.val(),"original"===n.maxWidth&&(n.maxWidth=i.width()),"original"===n.minWidth&&(n.minWidth=i.width()),"original"===n.maxHeight&&(n.maxHeight=i.height()),"original"===n.minHeight&&(n.minHeight=i.height()),"textarea"===this.nodeName&&i.css({resize:"none",overflowY:"hidden"}),i.data("AutoResizer",this),n.animate.complete=function(t){return function(){return n.onAfterResize.call(i),t.apply(this,arguments)}}(n.animate.complete),this.bind()}var n="ar"+ +new Date;e.defaults={onResize:function(){},onBeforeResize:function(){return 123},onAfterResize:function(){return 555},animate:{duration:200,complete:function(){}},extraSpace:50,minHeight:"original",maxHeight:500,minWidth:"original",maxWidth:500},e.cloneCSSProperties=["lineHeight","textDecoration","letterSpacing","fontSize","fontFamily","fontStyle","fontWeight","textTransform","textAlign","direction","wordSpacing","fontSizeAdjust","paddingTop","paddingLeft","paddingBottom","paddingRight","width"],e.cloneCSSValues={position:"absolute",top:-9999,left:-9999,opacity:0,overflow:"hidden"},e.resizableFilterSelector=["textarea:not(textarea."+n+")","input:not(input[type])","input[type=text]","input[type=password]","input[type=email]","input[type=url]"].join(","),e.AutoResizer=i,t.fn.autoResize=e,i.prototype={bind:function(){var e=t.proxy(function(){return this.check(),!0},this);this.unbind(),this.el.bind("keyup.autoResize",e).bind("change.autoResize",e).bind("paste.autoResize",function(){setTimeout(function(){e()},0)}),this.el.is(":hidden")||this.check(null,!0)},unbind:function(){this.el.unbind(".autoResize")},createClone:function(){var i=this.el,s="textarea"===this.nodeName?i.clone():t("<span/>");this.clone=s,t.each(e.cloneCSSProperties,function(t,e){s[0].style[e]=i.css(e)}),s.removeAttr("name").removeAttr("id").addClass(n).attr("tabIndex",-1).css(e.cloneCSSValues),"textarea"===this.nodeName?s.height("auto"):s.width("auto").css({whiteSpace:"nowrap"})},check:function(t,e){this.clone||(this.createClone(),this.injectClone());var i=this.config,n=this.clone,s=this.el,r=s.val();if(r===this.prevValue)return!0;if(this.prevValue=r,"input"===this.nodeName){n.text(r);var a=n.width(),o=a+i.extraSpace>=i.minWidth?a+i.extraSpace:i.minWidth,l=s.width();return o=Math.min(o,i.maxWidth),(l>o&&o>=i.minWidth||o>=i.minWidth&&i.maxWidth>=o)&&(i.onBeforeResize.call(s),i.onResize.call(s),s.scrollLeft(0),i.animate&&!e?s.stop(1,1).animate({width:o},i.animate):(s.width(o),i.onAfterResize.call(s))),void 0}n.width(s.width()).height(0).val(r).scrollTop(1e4);var h=n[0].scrollTop;this.previousScrollTop!==h&&(this.previousScrollTop=h,h+i.extraSpace>=i.maxHeight?(s.css("overflowY",""),h=i.maxHeight,e=!0):i.minHeight>=h?h=i.minHeight:(s.css("overflowY","hidden"),h+=i.extraSpace),i.onBeforeResize.call(s),i.onResize.call(s),i.animate&&!e?s.stop(1,1).animate({height:h},i.animate):(s.height(h),i.onAfterResize.call(s)))},destroy:function(){this.unbind(),this.el.removeData("AutoResizer"),this.clone.remove(),delete this.el,delete this.clone},injectClone:function(){(e.cloneContainer||(e.cloneContainer=t("<arclones/>").appendTo("body"))).append(this.clone)}}}),define("profile/posts",["jquery","utils/backbone-utils","views/profileviews","hbs!template/profile/newpost","hbs!template/profile/posterror","shared/shareModalDialog","template/helpers/all","utils/analyticsManagerAMD","utils/jquery.emptyonclickAMD","vendor/jquery.autoresize"],function(t,e,i,n,s,r,a){function o(i){if(i&&i.Success===!0){var n=e.renderTemplate("tmplNewPost",i,p);t(".currentPost").find("#commentsSection").append(n),t(".currentPost").removeClass("currentPost"),window.setTimeout(function(){t("#commentsSection .alert").fadeOut(function(){t(this).remove()})},1500),a.trackPageEvent("commentPost")}else{var n=e.renderTemplate("tmplPostError",i,p);t(".currentPost").find("#commentsSection").append(n),window.setTimeout(function(){t("#commentsSection .alert").fadeOut(function(){t(this).remove()})},1500)}}var l,h,c,p={tmplNewPost:n,tmplPostError:s},u={init:function(){if(window.profileSettings.posts){var n=t.grep(window.profileSettings.posts,function(t){return"IMAGE"===t.PostType});n&&n.length&&t("#photoCount").text(n.length)}t(".modal-media").on("click",function(e){e.preventDefault();var n=t(this).attr("data-modalcontent");if("single"==n){h&&h.close();var s=t(this).attr("data-mediasource"),r=t(this).attr("data-mediacaption"),a=t(this).attr("data-contentid");t(this).attr("data-text"),t("<div></div>",{"class":"modal hide fade",id:"modal-media"}).appendTo(t("body")),h=new i.MediaModal({mediaSource:s,mediaCaption:r,contentid:a})}else if("photos"==n&&window.profileSettings.posts){var o=t.grep(window.profileSettings.posts,function(t){return"IMAGE"===t.PostType});o&&o.length&&(h&&h.close(),t("<div></div>",{"class":"modal hide fade",id:"modal-media"}).appendTo(t("body")),h=new i.PictureViewer({photoData:o}))}}),t(".like").on("click",function(e){e.preventDefault();var i=t(e.currentTarget),n=i.data("contentid");t.ajaxAntiForgery({type:"POST",cache:!1,url:window.profileSettings.likeUrl,data:{contentid:n},success:function(){try{var t=i.parent(".meta").parent(".post").find(".likes").find(".user-list");if(t&&""!=t.text()){var e=parseInt(t.text().replace(" Other","").replace(" Others",""))+1;e>1&&t.text(e+" Others")}}catch(n){}i.replaceWith("<span>Stalking</span>"),a.trackPageEvent("stalkPost")},dataType:"json"})}),t(".share").on("click",function(e){e.preventDefault(),c&&c.close();var i=e.currentTarget,n=t(i).data("contentid"),s=t(i).data("posttext"),a={id:n,content:s,category:"lifeinvader",posturl_twit:"/post/"+n+"/share/twitter",url:window.location.protocol+"//"+window.location.host+"/post/"+n,dataurl:"/post/"+n+"/share/getcontent",theme:"lifeinvader"};c=r.init(a)}),t(".comment").on("click",function(e){e.preventDefault(),t(this).parents(".post").find(".add-comment textarea").focus()}),t(".resized").autoResize({maxHeight:100,extraSpace:0,animate:!1,limit:52}),t(".comment").emptyonclick(),t(".resized").keypress(function(i){if(e.isEnterPressed(i)){var n=t(this).val().trim(),s=t(this).data("id");return void 0==n||""===n?!1:(t.ajaxAntiForgery({type:"POST",cache:!1,data:{id:s,text:n},url:"/home/PostComment",success:o,error:function(){t(".currentPost").removeClass("currentPost")},dataType:"json"}),t(this).parent().parent().addClass("currentPost"),t(this).val("").css("height","15px").blur(),!1)}}),t(".user-list").on("click",function(e){e.preventDefault();var n=t(this).attr("title"),s=t(e.currentTarget).data("contentid"),r=t(e.currentTarget).data("linktype");l&&l.close(),t("<div></div>",{"class":"modal hide fade",id:"modal-users"}).attr("data-color","none").appendTo(t("body")),l=new i.UsersModalView({contentid:s,label:n,linktype:r})}),t(".ytubeFrame").each(function(){var e=t(this).attr("src");t(this).attr("src").indexOf("?")>0?t(this).attr({src:e+"&wmode=transparent",wmode:"Opaque"}):t(this).attr({src:e+"?wmode=transparent",wmode:"Opaque"})})}};return u}),define("utils/pubsub",["underscore"],function(t){var e=e||{},i={};return e.subscribe=function(t,e,n){if(!n)throw"Exception: id is a required param";i[t]||(i[t]=[]),i[t].push({id:n,callback:e})},e.unsubscribe=function(e,n){if(!n)throw"Exception: id is a required param";i[e]&&(i[e]=t.filter(i[e],function(t){return t.id!==n}))},e.publish=function(t){if(i[t])for(var e=[].slice.call(arguments,1),n=0,s=i[t].length;s>n;n++)i[t][n].callback.apply(this,e)},e}),define("home/sso",["jquery","utils/backbone-utils","utils/pubsub"],function(t,e,i){var n={};return n.doRemoteLogin=function(e){for(var n=window.siteMaster.setCookies.length,s=0;window.siteMaster.setCookies.length>s;s++){var r=window.siteMaster.setCookies[s],a=r.SetAuthUrl;a+="support"===r.Name?e.JwtToken:"warehouse"===r.Name?e.WarehouseRsToken:e.RsToken,t.ajax({url:a,dataType:"jsonp",timeout:7e3,jsonpCallback:"cb_remotelogin"}).always(function(){n--,i.publish("sso.remotelogincomplete")})}},n.destroyRemoteCookie=function(e){for(var i=window.siteMaster.destCookies.length,n=0;window.siteMaster.destCookies.length>n;n++){var s=window.siteMaster.destCookies[n],r=7e3;(s.indexOf("zendesk")>0||s.indexOf("support")>0)&&(r=1),t.ajax({url:s,dataType:"jsonp",timeout:r,jsonpCallback:"cb_destroycookie"}).always(function(){i--,0>=i&&e&&"function"==typeof e&&e()})}},n.CheckTokensAndDoRemoteLogin=function(){var e="https://"+window.location.host+"/registration/GetTokens";t.ajaxAntiForgery({url:e,contentType:"application/json",dataType:"json",timeout:7e3}).done(function(t){t&&t.RsToken&&n.doRemoteLogin(t),i.publish("ssocheck.complete")}).fail(function(){i.publish("ssocheck.complete")})},n.CheckSsoCookie=function(){var s="https://"+window.location.host+"/registration/CheckSsoCookie";t.ajaxAntiForgery({url:s,contentType:"application/json",dataType:"json",timeout:7e3}).done(function(){i.publish("ssocheck.complete");var t=e.readCookie(window.siteMaster.stsChkNm);t&&"5"===t&&n.CheckTokensAndDoRemoteLogin()}).fail(function(){i.publish("ssocheck.complete")})},n.init=function(){var t=e.readCookie(window.siteMaster.stsChkNm);return!t||"5"!==t&&"1"!==t?t?(n.CheckSsoCookie(),void 0):(i.publish("ssocheck.complete"),void 0):(n.CheckTokensAndDoRemoteLogin(),void 0)},n}),define("hbs!template/profile/stalk",["hbs","handlebars"],function(t,e){var i=e.template(function(t,e,i){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,t.helpers);var n,s,r="",a="function",o=this.escapeExpression;return r+='<a class="btn btn-small btn-li" id="stlkBtn" data-stalk="true" data-profile="',(s=i.ProfileId)?n=s.call(e,{hash:{}}):(s=e&&e.ProfileId,n=typeof s===a?s.call(e,{hash:{}}):s),r+=o(n)+'"><i class="icon-plus icon-white"></i> Stalk</a>'});return i}),define("hbs!template/profile/stalking",["hbs","handlebars"],function(t,e){var i=e.template(function(t,e,i,n,s){function r(){return"\r\n<p>You have already clipped the coupon associated with the brand</p>\r\n"}this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,t.helpers);var a,o="",l=this;return o+='\r\n\r\n<span class="stalking"><i class="icon-ok"></i> Stalking</span>\r\n\r\n',a=i["if"].call(e,e&&e.CouponAlreadyClipped,{hash:{},inverse:l.noop,fn:l.program(1,r,s)}),(a||0===a)&&(o+=a),o});return i}),define("hbs!template/profile/stalkdisabled",["hbs","handlebars"],function(t,e){var i=e.template(function(t,e,i){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,t.helpers);var n,s="",r="function",a=this.escapeExpression;return s+='<a class="btn btn-small btn-li loggedOut" id="stlkBtn" data-stalk="false" title="You must sign-in to stalk this profile" href="'+a((n=e&&e.url,typeof n===r?n.apply(e):n))+'">\r\n  <i class="icon-plus icon-white"></i> Stalk\r\n</a>'});return i}),define("hbs!template/profile/mediasource",["hbs","handlebars"],function(t,e){var i=e.template(function(t,e,i){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,t.helpers);var n,s,r="",a="function",o=this.escapeExpression;return r+="<img width='660' height='373' src='",(s=i.Image)?n=s.call(e,{hash:{}}):(s=e&&e.Image,n=typeof s===a?s.call(e,{hash:{}}):s),r+=o(n)+"'/>"});return i}),define("profile/profile",["jquery","backbone","domReady","profile/posts","views/profileviews","utils/backbone-utils","home/sso","utils/pubsub","hbs!template/profile/stalk","hbs!template/profile/stalking","hbs!template/profile/stalkdisabled","hbs!template/profile/mediasource","home/popover","utils/analyticsManagerAMD"],function(t,e,i,n,s,r,a,o,l,h,c,p,u){function d(e){var i=t("#li-feed .loadPosts");i.fadeOut(function(){t("#li-feed").html(e),n.init(),u.init(".userPop")}),r.spinner(i,"stop")}function f(){w.fetchPosts(),w.fetchStalk()}function m(e){if(e){var i="";i=e.RenderStalk?e.IsStalking===!1?r.renderTemplate("tmplStalk",e,b):r.renderTemplate("tmplStalking",{},b):r.renderTemplate("tmplStalkDisabled",{url:window.siteMaster.blockerUrl},b),""!==i&&t("#divStlk").html(i),t("span.info-likes").text(e.TotalStalkers+" Stalkers")}}function g(){var e=t("#li-feed .loadPosts");e.length&&r.spinner(e,"start","32","red")}function v(){w.fetchPosts();var e=r.renderTemplate("tmplStalkDisabled",{url:window.siteMaster.blockerUrl},b);t("#divStlk").html(e)}var y,b={tmplStalk:l,tmplStalking:h,tmplStalkDisabled:c,tmplMediaSource:p},w={fetchPosts:function(){t.ajax({type:"GET",cache:!1,url:window.profileSettings.feedUrl,data:{itemid:window.profileSettings.itemid},beforeSend:g,success:d,dataType:"html"})},fetchStalk:function(){t.ajax({type:"GET",cache:!1,url:window.siteMaster.stalkUrl,data:{itemid:window.profileSettings.itemid},success:m,dataType:"json"})}};i(function(){g(),o.subscribe("site.logincomplete",f,"profilesPage"),o.subscribe("ssocheck.complete",f,"profilesPage"),o.subscribe("site.logoutcomplete",v,"profilesPage"),t(document).off("click",".custom-thumb").on("click",".custom-thumb",function(e){e.preventDefault();var i=t(e.currentTarget).data("postid");if(void 0!=i&&""!=i&&window.profileSettings.posts){var n=t.grep(window.profileSettings.posts,function(t){return("IMAGE"===t.PostType||"COUPON"===t.PostType)&&t.Id===i});if(n&&1===n.length){y&&y.close();var a=t.grep(n[0].Images,function(t){return"large"===t.Size}),o=r.renderTemplate("tmplMediaSource",{Image:a[0].ImageUrl},b),l=n[0].Caption,h=n[0].Id;t(this).attr("data-text"),t("<div></div>",{"class":"modal hide fade",id:"modal-media"}).appendTo(t("body")),y=new s.MediaModal({mediaSource:o,mediaCaption:l,contentid:h})}}}),a.init()})});

}
/*
     FILE ARCHIVED ON 12:34:08 Oct 22, 2017 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 22:00:49 Jan 20, 2025.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
*/
/*
playback timings (ms):
  captures_list: 0.578
  exclusion.robots: 0.027
  exclusion.robots.policy: 0.016
  esindex: 0.011
  cdx.remote: 30.417
  LoadShardBlock: 1456.457 (3)
  PetaboxLoader3.datanode: 1101.771 (4)
  PetaboxLoader3.resolve: 442.179 (2)
  load_resource: 218.221
*/